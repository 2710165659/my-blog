import{_ as i,c as a,o as t,b1 as n}from"./chunks/framework.BSsnj4C9.js";const h="/assets/Pastedimage20250718154505.D8liEiUN.png",l="/assets/Pastedimage20250718155701.CbRYFM1B.png",e="/assets/0be75e8047d840431ca3de50a738fcc.BRb0vapa.png",k="/assets/Pastedimage20250722154309.S39a8WQL.png",p="/assets/Pastedimage20250722154327.DCp5zmdh.png",u=JSON.parse('{"title":"å°çŸ¥è¯†ç‚¹","description":"","frontmatter":{"outline":1},"headers":[],"relativePath":"notes/javaåŸºç¡€çŸ¥è¯†.md","filePath":"notes/javaåŸºç¡€çŸ¥è¯†.md"}'),d={name:"notes/javaåŸºç¡€çŸ¥è¯†.md"};function r(E,s,o,g,c,y){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="å°çŸ¥è¯†ç‚¹" tabindex="-1">å°çŸ¥è¯†ç‚¹ <a class="header-anchor" href="#å°çŸ¥è¯†ç‚¹" aria-label="Permalink to &quot;å°çŸ¥è¯†ç‚¹&quot;">â€‹</a></h1><h2 id="ä»£ç åˆå§‹åŒ–å—" tabindex="-1">ä»£ç åˆå§‹åŒ–å— <a class="header-anchor" href="#ä»£ç åˆå§‹åŒ–å—" aria-label="Permalink to &quot;ä»£ç åˆå§‹åŒ–å—&quot;">â€‹</a></h2><p>Javaä¸­çš„ä»£ç åˆå§‹åŒ–å—ï¼ˆä¹Ÿå«â€œåˆå§‹åŒ–å—â€æˆ–â€œåˆå§‹åŒ–ä»£ç å—â€ï¼‰æ˜¯ç±»ä¸­å®šä¹‰çš„ä¸€æ®µæ²¡æœ‰æ–¹æ³•åçš„ä»£ç å—ï¼Œç”¨èŠ±æ‹¬å·<code>{}</code>åŒ…è£¹ã€‚å®ƒä¼šåœ¨ç±»å®ä¾‹åŒ–æ—¶è¢«è‡ªåŠ¨æ‰§è¡Œï¼Œç”¨æ¥å¯¹å¯¹è±¡è¿›è¡Œç»Ÿä¸€çš„åˆå§‹åŒ–æ“ä½œã€‚åˆå§‹åŒ–å—åˆ†ä¸ºä¸¤ç§ï¼š</p><ol><li><strong>å®ä¾‹åˆå§‹åŒ–å—</strong>ï¼šå®šä¹‰åœ¨ç±»ä¸­ï¼Œæ²¡æœ‰staticä¿®é¥°ã€‚æ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶éƒ½ä¼šæ‰§è¡Œï¼Œä¸”å…ˆäºæ„é€ æ–¹æ³•æ‰§è¡Œ(å®é™…ä¸Šæ˜¯æ”¾åˆ°æ„é€ æ–¹æ³•é‡Œé å‰çš„ä½ç½®è°ƒç”¨)ã€‚</li><li><strong>é™æ€åˆå§‹åŒ–å—</strong>ï¼šä½¿ç”¨<code>static { ... }</code>å®šä¹‰ï¼Œç±»åŠ è½½æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œç”¨äºåˆå§‹åŒ–é™æ€å˜é‡æˆ–åšä¸€äº›åªéœ€æ‰§è¡Œä¸€æ¬¡çš„æ“ä½œã€‚</li></ol><h2 id="å†…éƒ¨ç±»" tabindex="-1">å†…éƒ¨ç±» <a class="header-anchor" href="#å†…éƒ¨ç±»" aria-label="Permalink to &quot;å†…éƒ¨ç±»&quot;">â€‹</a></h2><p>å®šä¹‰åœ¨å¦ä¸€ä¸ªç±»çš„å†…éƒ¨çš„ç±»</p><div><p><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {{ add(&quot;a&quot;); add(&quot;b&quot;); }};</code> å†…éƒ¨ç±»+ä»£ç åˆå§‹åŒ–å—ã€‚ä¸æ¨èï¼Œä¼šäº§ç”Ÿé¢å¤–å¼€é”€ï¼šå…¶ä»–ç±».class</p></div><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Test2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { }  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {};  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœ¬è´¨æ˜¯ç»§æ‰¿äºAçš„å¦ä¸€ä¸ªç±»</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A d </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {};  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å’Œcä¸åŒ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// a: class Test2$1A  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// b: class Test2$1A  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// c: class Test2$1  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;d: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> d.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// d: class Test2$2  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="è¯­æ³•ç³–" tabindex="-1">è¯­æ³•ç³– <a class="header-anchor" href="#è¯­æ³•ç³–" aria-label="Permalink to &quot;è¯­æ³•ç³–&quot;">â€‹</a></h2><p>Java é‡Œçš„â€œè¯­æ³•ç³–â€ï¼ˆsyntactic sugarï¼‰æŒ‡çš„æ˜¯è¯­è¨€è®¾è®¡ä¸Šä¸ºç®€åŒ–å¼€å‘è€…ä»£ç ä¹¦å†™å’Œé˜…è¯»è€Œæä¾›çš„ä¸€äº›æ–¹ä¾¿å†™æ³•ï¼Œåº•å±‚å…¶å®æ˜¯ç­‰ä»·çš„ï¼Œä½†å†™èµ·æ¥æ›´ç®€æ´ã€æ›´ç›´è§‚ã€‚</p><table tabindex="0"><thead><tr><th>è¯­æ³•ç³–åç§°</th><th>ä»£ç ç¤ºä¾‹</th><th>åº•å±‚ç­‰ä»·/è¯´æ˜</th></tr></thead><tbody><tr><td>å¢å¼ºå‹ for å¾ªç¯</td><td><code>for (int x : arr) { ... }</code></td><td>ä¼ ç»Ÿ for å¾ªç¯éå†æ•°ç»„æˆ–é›†åˆ</td></tr><tr><td>è‡ªåŠ¨è£…ç®±/æ‹†ç®±</td><td><code>Integer i = 10; int j = i;</code></td><td><code>Integer.valueOf(10)</code> å’Œ <code>i.intValue()</code></td></tr><tr><td>å­—ç¬¦ä¸²æ‹¼æ¥ + è¿ç®—ç¬¦</td><td><code>&quot;a&quot; + &quot;b&quot;</code></td><td>ç¼–è¯‘æˆ <code>StringBuilder</code> è¿½åŠ è°ƒç”¨</td></tr><tr><td>åŒ¿åå†…éƒ¨ç±»</td><td><code>new Runnable() { ... }</code></td><td>åŒ¿åç±»çš„ç®€å†™å½¢å¼</td></tr><tr><td>Lambda è¡¨è¾¾å¼</td><td><code>() -&gt; System.out.println(&quot;Run&quot;)</code></td><td>åŒ¿åå†…éƒ¨ç±»çš„ç®€åŒ–å½¢å¼</td></tr><tr><td>å¯å˜å‚æ•° (varargs)</td><td><code>void foo(String... args)</code></td><td>æ¥æ”¶ä¸€ä¸ªæ•°ç»„å‚æ•°</td></tr><tr><td>try-with-resources</td><td><code>try (Resource r = ...) { ... }</code></td><td>è‡ªåŠ¨è°ƒç”¨ <code>close()</code>ï¼Œç­‰ä»·äº try-finally å…³é—­èµ„æº</td></tr><tr><td>æ•°å­—ä¸‹åˆ’çº¿åˆ†éš”</td><td><code>int n = 1_000_000;</code></td><td>ä»…ä¸ºæé«˜å¯è¯»æ€§ï¼Œç¼–è¯‘åä¸å½±å“æ•°å€¼</td></tr><tr><td>Unicode è½¬ä¹‰</td><td><code>String s = &quot;\\u0041&quot;;</code></td><td>ç›´æ¥è¡¨ç¤º Unicode å­—ç¬¦</td></tr><tr><td>æšä¸¾æ”¯æŒ switch</td><td><code>switch (enumVal) { case ...: }</code></td><td>åº•å±‚é€šè¿‡æ˜ å°„å®ç°</td></tr><tr><td>é’»çŸ³è¯­æ³• (æ³›å‹ç±»å‹æ¨æ–­)</td><td><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code></td><td>çœç•¥æ³›å‹å³ä¾§å…·ä½“ç±»å‹å‚æ•°</td></tr><tr><td>æ¥å£é»˜è®¤æ–¹æ³•</td><td><code>default void method() { ... }</code></td><td>æ¥å£ä¸­å¸¦æœ‰é»˜è®¤å®ç°ï¼Œé¿å…å…¨éƒ¨å®ç°</td></tr><tr><td># æ—¥æœŸ</td><td></td><td></td></tr><tr><td>## 1. <code>java.util.Date</code> (è€ API)</td><td></td><td></td></tr></tbody></table><ul><li><strong>æ¥æº</strong>ï¼šJava 1.0 å¼•å…¥ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š <ul><li>è¡¨ç¤ºæ—¶é—´ç‚¹ï¼ˆæ—¶é—´æˆ³ï¼Œå†…éƒ¨ç”¨ <code>long</code> ä¿å­˜æ¯«ç§’å€¼ï¼‰ã€‚</li><li>å¤§éƒ¨åˆ†æ–¹æ³•ï¼ˆå¦‚ <code>getYear()</code>ã€<code>getMonth()</code>ï¼‰æ—©å·²<strong>åºŸå¼ƒ</strong>ï¼Œå› ä¸ºè®¾è®¡æ··ä¹±ã€ä¸å¤Ÿç›´è§‚ã€‚</li><li><strong>æ—¶åŒºã€æ ¼å¼åŒ–éœ€è¦ä¾èµ– <code>java.text.SimpleDateFormat</code> ç­‰å¤–éƒ¨ç±»</strong>ã€‚</li><li>çº¿ç¨‹ä¸å®‰å…¨ã€‚</li></ul></li><li><strong>å…¸å‹ç”¨æ³•</strong>ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Date date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(date);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Fri Jul 22 10:30:00 CET 2025</span></span></code></pre></div></li></ul><h2 id="_2-java-util-calendar-è€-api" tabindex="-1">2. <code>java.util.Calendar</code> (è€ API) <a class="header-anchor" href="#_2-java-util-calendar-è€-api" aria-label="Permalink to &quot;2. \`java.util.Calendar\` (è€ API)&quot;">â€‹</a></h2><ul><li><strong>å¼•å…¥ç‰ˆæœ¬</strong>ï¼šJava 1.1</li><li><strong>ä¸ºä»€ä¹ˆå‡ºç°</strong>ï¼šç”¨æ¥å¼¥è¡¥ <code>Date</code> è®¾è®¡ç¼ºé™·ï¼ˆæ¯”å¦‚ <code>Date</code> ä¸èƒ½ç›´æ¥åŠ å‡å¤©æ•°ã€ä¸èƒ½ç›´æ¥å¤„ç†æ—¶åŒºï¼‰ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š <ul><li>æ˜¯ä¸€ä¸ª<strong>æŠ½è±¡ç±»</strong>ï¼Œå¸¸ç”¨å®ç°ç±»æ˜¯ <code>GregorianCalendar</code>ã€‚</li><li>æ”¯æŒæ—¥æœŸçš„åŠ å‡ã€å­—æ®µä¿®æ”¹ï¼ˆä¾‹å¦‚åŠ 1å¤©ã€å‡3ä¸ªæœˆï¼‰ã€‚</li><li>å†…ç½®äº†å¯¹<strong>æ—¶åŒº</strong>å’Œ<strong>æœ¬åœ°åŒ–</strong>çš„æ”¯æŒã€‚</li><li>API å¤æ‚ã€å®¹æ˜“å‡ºé”™ï¼ˆå¦‚æœˆä»½ä» <strong>0 å¼€å§‹</strong>ï¼Œ<code>January == 0</code>ï¼‰ã€‚</li><li>çº¿ç¨‹ä¸å®‰å…¨ã€‚</li></ul></li><li><strong>å…¸å‹ç”¨æ³•</strong>ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Calendar cal </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Calendar.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–å½“å‰æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cal.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2025</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Calendar.JULY, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">22</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è®¾ç½® 2025-07-22</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cal.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Calendar.DAY_OF_MONTH, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ 5å¤©</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Date date </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cal.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getTime</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è½¬æ¢æˆ Date</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(date);</span></span></code></pre></div></li></ul><h2 id="_3-java-time-æ–°-api" tabindex="-1">3. <code>java.time</code> (æ–° API) <a class="header-anchor" href="#_3-java-time-æ–°-api" aria-label="Permalink to &quot;3. \`java.time\` (æ–° API)&quot;">â€‹</a></h2><ul><li><strong>æ¥æº</strong>ï¼šJava 8 å¼•å…¥ï¼ˆJSR-310ï¼‰ï¼Œå±äº <strong>Java Date and Time API</strong>ï¼Œåœ¨ <code>java.time</code> åŒ…ä¸‹ã€‚</li><li><strong>ç‰¹ç‚¹</strong>ï¼š <ul><li><strong>æ›´ç°ä»£åŒ–</strong>ï¼Œè®¾è®¡æ¸…æ™°ã€çº¿ç¨‹å®‰å…¨ã€‚</li><li><strong>æ ¸å¿ƒç±»</strong>ï¼š <ul><li><code>LocalDate</code>ï¼šåªè¡¨ç¤º<strong>æ—¥æœŸ</strong>ï¼ˆä¸å¸¦æ—¶é—´ï¼‰ã€‚</li><li><code>LocalTime</code>ï¼šåªè¡¨ç¤º<strong>æ—¶é—´</strong>ï¼ˆä¸å¸¦æ—¥æœŸï¼‰ã€‚</li><li><code>LocalDateTime</code>ï¼šæ—¥æœŸ + æ—¶é—´ï¼ˆä¸å¸¦æ—¶åŒºï¼‰ã€‚</li><li><code>ZonedDateTime</code>ï¼šæ—¥æœŸ + æ—¶é—´ + æ—¶åŒºã€‚</li><li><code>Instant</code>ï¼šæ—¶é—´æˆ³ï¼ˆUTC æ ‡å‡†æ—¶é—´ï¼‰ã€‚</li></ul></li><li><strong>æ ¼å¼åŒ–ä¸è§£æ</strong>ï¼š<code>DateTimeFormatter</code>ã€‚</li><li><strong>è®¡ç®—æ–¹ä¾¿</strong>ï¼šæ”¯æŒåŠ å‡ã€æ¯”è¾ƒã€<code>Period</code>/<code>Duration</code> é—´éš”è®¡ç®—ã€‚</li></ul></li><li><strong>å…¸å‹ç”¨æ³•</strong>ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocalDateTime now </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LocalDateTime.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(now);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2025-07-22T10:30:00</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String formatted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> now.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(DateTimeFormatter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ofPattern</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(formatted);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2025-07-22 10:30:00</span></span></code></pre></div></li></ul><h2 id="å¯¹æ¯”" tabindex="-1">å¯¹æ¯” <a class="header-anchor" href="#å¯¹æ¯”" aria-label="Permalink to &quot;å¯¹æ¯”&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>ç‰¹æ€§</th><th><code>Date</code></th><th><code>Calendar</code></th><th><code>java.time</code></th></tr></thead><tbody><tr><td><strong>å¼•å…¥ç‰ˆæœ¬</strong></td><td>Java 1.0</td><td>Java 1.1</td><td>Java 8</td></tr><tr><td><strong>æ—¶é—´ç‚¹è¡¨ç¤º</strong></td><td>æ¯«ç§’æ—¶é—´æˆ³</td><td>å­—æ®µé›†åˆï¼ˆå¹´/æœˆ/æ—¥ç­‰ï¼‰</td><td>ä¸å¯å˜å¯¹è±¡ï¼ˆLocalDateã€Instantï¼‰</td></tr><tr><td><strong>æ—¶åŒºæ”¯æŒ</strong></td><td>éœ€è¦é…åˆ <code>TimeZone</code></td><td>å†…ç½®æ”¯æŒ</td><td>å†…ç½®æ”¯æŒ (ZonedDateTime)</td></tr><tr><td><strong>åŠ å‡æ—¶é—´</strong></td><td>ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒï¼ˆ<code>add()</code>ï¼‰</td><td>âœ… æ”¯æŒï¼ˆ<code>plus()</code>, <code>minus()</code>ï¼‰</td></tr><tr><td><strong>çº¿ç¨‹å®‰å…¨</strong></td><td>âŒ å¦</td><td>âŒ å¦</td><td>âœ… æ˜¯</td></tr><tr><td><strong>APIè®¾è®¡</strong></td><td>è¿‡æ—¶ï¼ˆéƒ¨åˆ†å·²åºŸå¼ƒï¼‰</td><td>ç¬¨é‡ä¸”æ˜“é”™</td><td>ç°ä»£åŒ–ã€æ˜“ç”¨</td></tr><tr><td><strong>æœˆä»½èµ·å§‹</strong></td><td>1</td><td><strong>0</strong>ï¼ˆJanuary = 0ï¼‰</td><td>1</td></tr><tr><td><strong>æ˜¯å¦æ¨èä½¿ç”¨</strong></td><td>ğŸš« ä¸æ¨è</td><td>ğŸš« ä¸æ¨è</td><td>âœ… æ¨è</td></tr><tr><td>## apiè½¬æ¢</td><td></td><td></td><td></td></tr><tr><td>\`\`\`java</td><td></td><td></td><td></td></tr><tr><td>// Calendar â†’ LocalDateTime</td><td></td><td></td><td></td></tr><tr><td>Calendar cal = Calendar.getInstance();</td><td></td><td></td><td></td></tr><tr><td>LocalDateTime ldt = LocalDateTime.ofInstant(cal.toInstant(), cal.getTimeZone().toZoneId());</td><td></td><td></td><td></td></tr><tr><td>System.out.println(ldt);</td><td></td><td></td><td></td></tr></tbody></table><p>// LocalDateTime â†’ Calendar LocalDateTime now = LocalDateTime.now(); ZonedDateTime zdt = now.atZone(ZoneId.systemDefault()); Calendar c = GregorianCalendar.from(zdt); System.out.println(c.getTime());</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>## æ ¼å¼åŒ–</span></span>
<span class="line"><span>### \`java.util.Date\` + SimpleDateFormat (æ—§ç‰ˆ)</span></span>
<span class="line"><span>\`\`\`java</span></span>
<span class="line"><span>Date date = new Date();</span></span>
<span class="line"><span>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);</span></span>
<span class="line"><span>String formatted = sdf.format(date); // æ ¼å¼åŒ–</span></span></code></pre></div><h3 id="java-time-datetimeformatter-æ–°ç‰ˆ" tabindex="-1"><code>java.time</code> + DateTimeFormatter (æ–°ç‰ˆ) <a class="header-anchor" href="#java-time-datetimeformatter-æ–°ç‰ˆ" aria-label="Permalink to &quot;\`java.time\` + DateTimeFormatter (æ–°ç‰ˆ)&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocalDateTime now </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> LocalDateTime.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">DateTimeFormatter formatter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DateTimeFormatter.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ofPattern</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String formatted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> now.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(formatter); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¼å¼åŒ–</span></span></code></pre></div><h3 id="å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·æ€»ç»“" tabindex="-1">å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·æ€»ç»“ <a class="header-anchor" href="#å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·æ€»ç»“" aria-label="Permalink to &quot;å¸¸ç”¨æ ¼å¼åŒ–ç¬¦å·æ€»ç»“&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th><strong>ç¬¦å·</strong></th><th><strong>æ„ä¹‰</strong></th><th><strong>ç¤ºä¾‹</strong></th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>y</code></td><td>å¹´ï¼ˆYearï¼‰</td><td><code>yyyy</code> â†’ 2025ã€<code>yy</code> â†’ 25</td><td><code>yyyy</code> å››ä½ï¼Œ<code>yy</code> ä¸¤ä½</td></tr><tr><td><code>M</code></td><td>æœˆï¼ˆMonthï¼‰</td><td><code>MM</code> â†’ 07ã€<code>MMM</code> â†’ Julã€<code>MMMM</code> â†’ July</td><td><code>MM</code> è¡¥é›¶ï¼Œ<code>MMM/MMMM</code> è‹±æ–‡æœˆä»½</td></tr><tr><td><code>d</code></td><td>æ—¥ï¼ˆDayï¼‰</td><td><code>dd</code> â†’ 09ã€<code>d</code> â†’ 9</td><td><code>DDD</code> å¹´ä¸­æ—¥</td></tr><tr><td><code>E</code></td><td>æ˜ŸæœŸï¼ˆDay of Weekï¼‰</td><td><code>E</code> â†’ Tueã€<code>EEEE</code> â†’ Tuesday</td><td><code>E</code> ç®€ç§°ï¼Œ<code>EEEE</code> å…¨ç§°</td></tr><tr><td><code>H</code></td><td>24å°æ—¶åˆ¶ï¼ˆHourï¼‰</td><td><code>HH</code> â†’ 14</td><td>00~23</td></tr><tr><td><code>h</code></td><td>12å°æ—¶åˆ¶ï¼ˆHourï¼‰</td><td><code>hh</code> â†’ 02</td><td>01~12</td></tr><tr><td><code>m</code></td><td>åˆ†é’Ÿï¼ˆMinuteï¼‰</td><td><code>mm</code> â†’ 05</td><td></td></tr><tr><td><code>s</code></td><td>ç§’ï¼ˆSecondï¼‰</td><td><code>ss</code> â†’ 07</td><td></td></tr><tr><td><code>S</code></td><td>æ¯«ç§’ï¼ˆMillisecondï¼‰</td><td><code>SSS</code> â†’ 235</td><td>0~999</td></tr><tr><td><code>a</code></td><td>ä¸Šä¸‹åˆï¼ˆAM/PMï¼‰</td><td><code>a</code> â†’ PM</td><td></td></tr><tr><td><code>z</code></td><td>æ—¶åŒºç®€ç§°</td><td><code>z</code> â†’ CST</td><td>China Standard Time</td></tr><tr><td><code>Z</code></td><td>æ—¶åŒºåç§»</td><td><code>Z</code> â†’ +0800</td><td>RFC 822 æ ¼å¼</td></tr><tr><td><code>X</code></td><td>æ—¶åŒºåç§»ï¼ˆISO 8601ï¼‰</td><td><code>X</code> â†’ +08ã€<code>XXX</code> â†’ +08:00</td><td>ISO æ ‡å‡†æ ¼å¼</td></tr></tbody></table><ul><li><strong><code>SimpleDateFormat</code></strong> ä¸æ”¯æŒ <code>u</code>ï¼ˆå‘¨çš„å¹´ä»½ï¼‰ã€<code>n</code>ï¼ˆçº³ç§’ï¼‰ã€‚</li><li><strong><code>DateTimeFormatter</code></strong> æ‰©å±•äº†æ”¯æŒï¼Œæ¯”å¦‚ <code>u</code>ã€<code>n</code>ã€<code>VV</code>ï¼ˆæ—¶åŒºIDï¼‰ç­‰ã€‚</li></ul><h1 id="æ­£åˆ™è¡¨è¾¾å¼" tabindex="-1">æ­£åˆ™è¡¨è¾¾å¼ <a class="header-anchor" href="#æ­£åˆ™è¡¨è¾¾å¼" aria-label="Permalink to &quot;æ­£åˆ™è¡¨è¾¾å¼&quot;">â€‹</a></h1><h2 id="æµç¨‹" tabindex="-1">æµç¨‹ <a class="header-anchor" href="#æµç¨‹" aria-label="Permalink to &quot;æµç¨‹&quot;">â€‹</a></h2><ol><li><strong>ç¼–è¯‘æ­£åˆ™</strong> â†’ <code>Pattern.compile(regex)</code></li><li><strong>åˆ›å»ºåŒ¹é…å™¨</strong> â†’ <code>pattern.matcher(input)</code></li><li><strong>æ‰§è¡Œæ“ä½œ</strong>ï¼š <ul><li><code>matches()</code> / <code>find()</code> æ£€æŸ¥åŒ¹é…</li><li><code>group()</code> æå–ç»“æœ</li><li><code>replaceAll()</code> / <code>split()</code> å¤„ç†å­—ç¬¦ä¸²</li></ul></li></ol><h2 id="ä¸€ã€æ ¸å¿ƒç±»" tabindex="-1">ä¸€ã€æ ¸å¿ƒç±» <a class="header-anchor" href="#ä¸€ã€æ ¸å¿ƒç±»" aria-label="Permalink to &quot;ä¸€ã€æ ¸å¿ƒç±»&quot;">â€‹</a></h2><ol><li><strong><code>Pattern</code></strong><ul><li>æ­£åˆ™è¡¨è¾¾å¼çš„ç¼–è¯‘è¡¨ç¤ºï¼ˆçº¿ç¨‹å®‰å…¨ï¼‰</li><li>é€šè¿‡ <code>Pattern.compile()</code> åˆ›å»º</li><li>å¸¸ç”¨æ–¹æ³•ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pattern pattern </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a*b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¼–è¯‘æ­£åˆ™</span></span></code></pre></div></li></ul></li><li><strong><code>Matcher</code></strong><ul><li>é€šè¿‡ <code>pattern.matcher(input)</code> åˆ›å»º</li><li>æ‰§è¡ŒåŒ¹é…æ“ä½œçš„æ ¸å¿ƒç±»<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Matcher matcher </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aaaaab&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li></ul></li></ol><h2 id="äºŒã€å¸¸ç”¨æ“ä½œ" tabindex="-1">äºŒã€å¸¸ç”¨æ“ä½œ <a class="header-anchor" href="#äºŒã€å¸¸ç”¨æ“ä½œ" aria-label="Permalink to &quot;äºŒã€å¸¸ç”¨æ“ä½œ&quot;">â€‹</a></h2><h3 id="_1-åŒ¹é…æ£€æŸ¥" tabindex="-1">1. åŒ¹é…æ£€æŸ¥ <a class="header-anchor" href="#_1-åŒ¹é…æ£€æŸ¥" aria-label="Permalink to &quot;1. åŒ¹é…æ£€æŸ¥&quot;">â€‹</a></h3><ul><li><strong>å®Œæ•´åŒ¹é…</strong>ï¼ˆæ•´ä¸ªå­—ç¬¦ä¸²éœ€åŒ¹é…æ­£åˆ™ï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> isMatch </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div></li><li><strong>éƒ¨åˆ†åŒ¹é…</strong>ï¼ˆæŸ¥æ‰¾å­ä¸²ï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> found </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŸ¥æ‰¾ä¸‹ä¸€ä¸ªåŒ¹é…é¡¹</span></span></code></pre></div></li></ul><h3 id="_2-æå–åŒ¹é…ç»“æœ" tabindex="-1">2. æå–åŒ¹é…ç»“æœ <a class="header-anchor" href="#_2-æå–åŒ¹é…ç»“æœ" aria-label="Permalink to &quot;2. æå–åŒ¹é…ç»“æœ&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String match </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–åŒ¹é…çš„å®Œæ•´å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒ¹é…å¼€å§‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> end </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">end</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒ¹é…ç»“æŸç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-åˆ†ç»„æå–" tabindex="-1">3. åˆ†ç»„æå– <a class="header-anchor" href="#_3-åˆ†ç»„æå–" aria-label="Permalink to &quot;3. åˆ†ç»„æå–&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Pattern p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+)-(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">w+)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Matcher m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;123-abc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String full </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;123-abc&quot;  åˆ†ç»„ç´¢å¼•ä» 1 å¼€å§‹ï¼ˆ0 ä¸ºå®Œæ•´åŒ¹é…ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;123&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;abc&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_4-å­—ç¬¦ä¸²æ›¿æ¢" tabindex="-1">4. å­—ç¬¦ä¸²æ›¿æ¢ <a class="header-anchor" href="#_4-å­—ç¬¦ä¸²æ›¿æ¢" aria-label="Permalink to &quot;4. å­—ç¬¦ä¸²æ›¿æ¢&quot;">â€‹</a></h3><ul><li><strong>æ›¿æ¢æ‰€æœ‰åŒ¹é…é¡¹</strong><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a1b2c3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replaceAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;X&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;aXbXcX&quot;</span></span></code></pre></div></li><li><strong>æ›¿æ¢é¦–ä¸ªåŒ¹é…é¡¹</strong><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a1b2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replaceFirst</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;X&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;aXb2&quot;</span></span></code></pre></div></li><li><strong>åŠ¨æ€æ›¿æ¢</strong>ï¼ˆé€šè¿‡ <code>Matcher</code>ï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Matcher m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a1b2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replaceAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(match </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;[&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> match.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">group</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;]&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;a[1]b[2]&quot;</span></span></code></pre></div></li></ul><h3 id="_5-å­—ç¬¦ä¸²åˆ†å‰²" tabindex="-1">5. å­—ç¬¦ä¸²åˆ†å‰² <a class="header-anchor" href="#_5-å­—ç¬¦ä¸²åˆ†å‰²" aria-label="Permalink to &quot;5. å­—ç¬¦ä¸²åˆ†å‰²&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] parts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;one,two,three&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨æ­£åˆ™åˆ†å‰²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] parts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;a1b2c&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span></code></pre></div><h2 id="ä¸‰ã€é«˜æ•ˆå®è·µ" tabindex="-1">ä¸‰ã€é«˜æ•ˆå®è·µ <a class="header-anchor" href="#ä¸‰ã€é«˜æ•ˆå®è·µ" aria-label="Permalink to &quot;ä¸‰ã€é«˜æ•ˆå®è·µ&quot;">â€‹</a></h2><ol><li><strong>å¤ç”¨ <code>Pattern</code> å¯¹è±¡</strong><ul><li>é¿å…é‡å¤ç¼–è¯‘ï¼ˆç¼–è¯‘å¼€é”€å¤§ï¼‰ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Validator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Pattern EMAIL_PATTERN </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.[a-zA-Z]{2,6}$&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isValidEmail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">email</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> EMAIL_PATTERN.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(email).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul></li><li><strong>å¤„ç†å¤§æ–‡æœ¬</strong><ul><li>ä½¿ç”¨ <code>Matcher</code> çš„ <code>region()</code> é™åˆ¶æœç´¢èŒƒå›´ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">matcher.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">region</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åªåœ¨ç´¢å¼• [10,100) å†…åŒ¹é…</span></span></code></pre></div></li></ul></li></ol><h2 id="å››ã€å¼‚å¸¸å¤„ç†" tabindex="-1">å››ã€å¼‚å¸¸å¤„ç† <a class="header-anchor" href="#å››ã€å¼‚å¸¸å¤„ç†" aria-label="Permalink to &quot;å››ã€å¼‚å¸¸å¤„ç†&quot;">â€‹</a></h2><ul><li>éæ³•æ­£åˆ™æŠ›å‡º <code>PatternSyntaxException</code>ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Pattern.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">compile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é”™è¯¯ï¼šæœªé—­åˆè½¬ä¹‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (PatternSyntaxException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.err.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ­£åˆ™è¯­æ³•é”™è¯¯: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDescription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h1 id="åå°„ä¸åŠ¨æ€ä»£ç†" tabindex="-1">åå°„ä¸åŠ¨æ€ä»£ç† <a class="header-anchor" href="#åå°„ä¸åŠ¨æ€ä»£ç†" aria-label="Permalink to &quot;åå°„ä¸åŠ¨æ€ä»£ç†&quot;">â€‹</a></h1><h2 id="ä¸€ã€åå°„æœºåˆ¶" tabindex="-1">ä¸€ã€åå°„æœºåˆ¶ <a class="header-anchor" href="#ä¸€ã€åå°„æœºåˆ¶" aria-label="Permalink to &quot;ä¸€ã€åå°„æœºåˆ¶&quot;">â€‹</a></h2><h3 id="_1-åå°„æ¦‚è¿°" tabindex="-1">1. åå°„æ¦‚è¿° <a class="header-anchor" href="#_1-åå°„æ¦‚è¿°" aria-label="Permalink to &quot;1. åå°„æ¦‚è¿°&quot;">â€‹</a></h3><ul><li><strong>ä¸“ä¸šè§£é‡Š</strong>ï¼šåœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ç±»éƒ½èƒ½è·å–æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„å¯¹è±¡éƒ½èƒ½è°ƒç”¨å…¶ä»»æ„å±æ€§å’Œæ–¹æ³•</li><li><strong>é€šä¿—ç†è§£</strong>ï¼š <ol><li><strong>æ— è§†ä¿®é¥°ç¬¦</strong>ï¼šåå°„åˆ›å»ºçš„å¯¹è±¡å¯è®¿é—®ç§æœ‰æˆå‘˜</li><li><strong>ç»“åˆé…ç½®æ–‡ä»¶</strong>ï¼šå®ç°éœ€æ±‚å˜æ›´æ—¶åªéœ€ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œæ— éœ€æ”¹åŠ¨ä»£ç </li></ol></li></ul><h3 id="_2-è·å–classå¯¹è±¡çš„ä¸‰ç§æ–¹å¼" tabindex="-1">2. è·å–Classå¯¹è±¡çš„ä¸‰ç§æ–¹å¼ <a class="header-anchor" href="#_2-è·å–classå¯¹è±¡çš„ä¸‰ç§æ–¹å¼" aria-label="Permalink to &quot;2. è·å–Classå¯¹è±¡çš„ä¸‰ç§æ–¹å¼&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Class.forName(&quot;å…¨ç±»å&quot;) - æœ€å¸¸ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; clazz1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;com.example.Student&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. ç±»å.class</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; clazz2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Student.class;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. å¯¹è±¡.getClass()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Student stu </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Student</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; clazz3 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stu.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClass</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(clazz1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz2); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(clazz2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz3); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><blockquote><p><strong>é‡è¦æ¦‚å¿µ</strong>ï¼š</p><ul><li>å­—èŠ‚ç æ–‡ä»¶ï¼šç¡¬ç›˜ä¸Šçš„.classæ–‡ä»¶</li><li>å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ï¼šJVMåŠ è½½.classååˆ›å»ºçš„å¯¹è±¡ï¼ˆå†…å­˜å”¯ä¸€ï¼‰</li></ul></blockquote><h3 id="_3-æ“ä½œæ„é€ æ–¹æ³•" tabindex="-1">3. æ“ä½œæ„é€ æ–¹æ³• <a class="header-anchor" href="#_3-æ“ä½œæ„é€ æ–¹æ³•" aria-label="Permalink to &quot;3. æ“ä½œæ„é€ æ–¹æ³•&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Constructor&lt;?&gt;[] getConstructors()</code></td><td>è·å–æ‰€æœ‰publicæ„é€ æ–¹æ³•</td></tr><tr><td><code>Constructor&lt;?&gt;[] getDeclaredConstructors()</code></td><td>è·å–æ‰€æœ‰æ„é€ æ–¹æ³•ï¼ˆå«privateï¼‰</td></tr><tr><td><code>getConstructor(Class&lt;?&gt;... params)</code></td><td>è·å–æŒ‡å®špublicæ„é€ æ–¹æ³•</td></tr><tr><td><code>getDeclaredConstructor(Class&lt;?&gt;... params)</code></td><td>è·å–æŒ‡å®šæ„é€ æ–¹æ³•ï¼ˆå«privateï¼‰</td></tr></tbody></table><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–ç§æœ‰æ„é€ å¹¶åˆ›å»ºå¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Constructor&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; con </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDeclaredConstructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String.class, int.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">con.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAccessible</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æš´åŠ›åå°„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> con.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¼ ä¸‰&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">23</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="_4-æ“ä½œæˆå‘˜å˜é‡" tabindex="-1">4. æ“ä½œæˆå‘˜å˜é‡ <a class="header-anchor" href="#_4-æ“ä½œæˆå‘˜å˜é‡" aria-label="Permalink to &quot;4. æ“ä½œæˆå‘˜å˜é‡&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Field[] getFields()</code></td><td>è·å–æ‰€æœ‰publicæˆå‘˜å˜é‡</td></tr><tr><td><code>Field[] getDeclaredFields()</code></td><td>è·å–æ‰€æœ‰æˆå‘˜å˜é‡ï¼ˆå«privateï¼‰</td></tr><tr><td><code>getField(String name)</code></td><td>è·å–æŒ‡å®špublicæˆå‘˜å˜é‡</td></tr><tr><td><code>getDeclaredField(String name)</code></td><td>è·å–æŒ‡å®šæˆå‘˜å˜é‡ï¼ˆå«privateï¼‰</td></tr></tbody></table><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Field field </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDeclaredField</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">field.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAccessible</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">field.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æå››&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// èµ‹å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (String) field.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å–å€¼</span></span></code></pre></div><h3 id="_5-æ“ä½œæˆå‘˜æ–¹æ³•" tabindex="-1">5. æ“ä½œæˆå‘˜æ–¹æ³• <a class="header-anchor" href="#_5-æ“ä½œæˆå‘˜æ–¹æ³•" aria-label="Permalink to &quot;5. æ“ä½œæˆå‘˜æ–¹æ³•&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Method[] getMethods()</code></td><td>è·å–æ‰€æœ‰publicæ–¹æ³•ï¼ˆå«çˆ¶ç±»ï¼‰</td></tr><tr><td><code>Method[] getDeclaredMethods()</code></td><td>è·å–æ‰€æœ‰æ–¹æ³•ï¼ˆå«privateï¼‰</td></tr><tr><td><code>getMethod(String name, Class&lt;?&gt;... params)</code></td><td>è·å–æŒ‡å®špublicæ–¹æ³•</td></tr><tr><td><code>getDeclaredMethod(String name, Class&lt;?&gt;... params)</code></td><td>è·å–æŒ‡å®šæ–¹æ³•ï¼ˆå«privateï¼‰</td></tr></tbody></table><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Method method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getDeclaredMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;study&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAccessible</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è°ƒç”¨æ— å‚æ–¹æ³•</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Method eatMethod </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (String) eatMethod.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è‹¹æœ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è°ƒç”¨æœ‰å‚æ–¹æ³•</span></span></code></pre></div><h2 id="äºŒã€åŠ¨æ€ä»£ç†" tabindex="-1">äºŒã€åŠ¨æ€ä»£ç† <a class="header-anchor" href="#äºŒã€åŠ¨æ€ä»£ç†" aria-label="Permalink to &quot;äºŒã€åŠ¨æ€ä»£ç†&quot;">â€‹</a></h2><h3 id="_1-æ ¸å¿ƒä»·å€¼" tabindex="-1">1. æ ¸å¿ƒä»·å€¼ <a class="header-anchor" href="#_1-æ ¸å¿ƒä»·å€¼" aria-label="Permalink to &quot;1. æ ¸å¿ƒä»·å€¼&quot;">â€‹</a></h3><p><strong>æ— ä¾µå…¥å¼å¢å¼ºæ–¹æ³•åŠŸèƒ½</strong>ï¼Œç¬¦åˆå¼€é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ï¼‰</p><h3 id="_2-ä¸‰è¦ç´ " tabindex="-1">2. ä¸‰è¦ç´  <a class="header-anchor" href="#_2-ä¸‰è¦ç´ " aria-label="Permalink to &quot;2. ä¸‰è¦ç´ &quot;">â€‹</a></h3><ol><li><strong>çœŸå®å¯¹è±¡</strong>ï¼šå®é™…å¹²æ´»çš„å¯¹è±¡</li><li><strong>ä»£ç†å¯¹è±¡</strong>ï¼šå¢å¼ºåŠŸèƒ½çš„å¯¹è±¡</li><li><strong>æ–¹æ³•è°ƒç”¨</strong>ï¼šé€šè¿‡ä»£ç†è°ƒç”¨ç›®æ ‡æ–¹æ³•</li></ol><h3 id="_3-å®ç°æ­¥éª¤" tabindex="-1">3. å®ç°æ­¥éª¤ <a class="header-anchor" href="#_3-å®ç°æ­¥éª¤" aria-label="Permalink to &quot;3. å®ç°æ­¥éª¤&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProxyUtil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Star </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createProxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(BigStar </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">bigStar</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Star) Proxy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newProxyInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ProxyUtil.class.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getClassLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]{Star.class}, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä»£ç†çš„æ¥å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InvocationHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Object </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Method </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Object</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // æ–¹æ³•å¢å¼ºé€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sing&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å‡†å¤‡è¯ç­’ï¼Œæ”¶é’±&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // è°ƒç”¨çœŸå®å¯¹è±¡çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bigStar, args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_4-æ–¹æ³•æ‹¦æˆª" tabindex="-1">4. æ–¹æ³•æ‹¦æˆª <a class="header-anchor" href="#_4-æ–¹æ³•æ‹¦æˆª" aria-label="Permalink to &quot;4. æ–¹æ³•æ‹¦æˆª&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InvocationHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(...) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cleanWC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ‹¦æˆªä¸åˆæ³•è¯·æ±‚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‹¦æˆªæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bigStar, args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_5-å®æˆ˜æ¡ˆä¾‹-å¢å¼ºadd-æ‹¦æˆªremove" tabindex="-1">5. å®æˆ˜æ¡ˆä¾‹ï¼šå¢å¼ºadd/æ‹¦æˆªremove <a class="header-anchor" href="#_5-å®æˆ˜æ¡ˆä¾‹-å¢å¼ºadd-æ‹¦æˆªremove" aria-label="Permalink to &quot;5. å®æˆ˜æ¡ˆä¾‹ï¼šå¢å¼ºadd/æ‹¦æˆªremove&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List proxyList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (List) Proxy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newProxyInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(...,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InvocationHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(...) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;add&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // å¢å¼ºaddæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> start </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Object result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(list, args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è€—æ—¶ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">start));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;remove&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // æ‹¦æˆªremoveæ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ‹¦æˆªåˆ é™¤æ“ä½œ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> method.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invoke</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(list, args);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h1 id="é›†åˆå’Œæµ" tabindex="-1">é›†åˆå’Œæµ <a class="header-anchor" href="#é›†åˆå’Œæµ" aria-label="Permalink to &quot;é›†åˆå’Œæµ&quot;">â€‹</a></h1><h2 id="æ¡†æ¶å›¾" tabindex="-1">æ¡†æ¶å›¾ <a class="header-anchor" href="#æ¡†æ¶å›¾" aria-label="Permalink to &quot;æ¡†æ¶å›¾&quot;">â€‹</a></h2><blockquote><p>å®¹å™¨ä¸»è¦åŒ…æ‹¬ Collection å’Œ Map ä¸¤ç§ï¼ŒCollection å­˜å‚¨ç€å¯¹è±¡çš„é›†åˆï¼Œè€Œ Map å­˜å‚¨ç€é”®å€¼å¯¹(ä¸¤ä¸ªå¯¹è±¡)çš„æ˜ å°„è¡¨ã€‚</p></blockquote><p><img src="`+h+`" alt=""></p><h2 id="å¸¸ç”¨é›†åˆ" tabindex="-1">å¸¸ç”¨é›†åˆ <a class="header-anchor" href="#å¸¸ç”¨é›†åˆ" aria-label="Permalink to &quot;å¸¸ç”¨é›†åˆ&quot;">â€‹</a></h2><h3 id="collection" tabindex="-1">Collection <a class="header-anchor" href="#collection" aria-label="Permalink to &quot;Collection&quot;">â€‹</a></h3><h4 id="set" tabindex="-1">Set <a class="header-anchor" href="#set" aria-label="Permalink to &quot;Set&quot;">â€‹</a></h4><ul><li><strong>HashSetï¼š</strong> åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæ”¯æŒå¿«é€ŸæŸ¥æ‰¾ï¼Œä½†ä¸æ”¯æŒæœ‰åºæ€§æ“ä½œã€‚å¤±å»äº†å…ƒç´ çš„æ’å…¥é¡ºåºä¿¡æ¯ï¼Œä½¿ç”¨ Iterator éå† HashSet å¾—åˆ°çš„ç»“æœæ˜¯ä¸ç¡®å®šçš„ã€‚</li><li><strong>LinkedHashSetï¼š</strong> å…·æœ‰ HashSet çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œä¸”å†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºã€‚</li><li><strong>TreeSetï¼š</strong> åŸºäºçº¢é»‘æ ‘å®ç°ï¼Œæ”¯æŒæœ‰åºæ€§æ“ä½œï¼Œä¾‹å¦‚æ ¹æ®ä¸€ä¸ªèŒƒå›´æŸ¥æ‰¾å…ƒç´ çš„æ“ä½œã€‚ä½†æŸ¥æ‰¾æ•ˆç‡ä¸å¦‚ HashSetï¼ŒHashSet æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼ŒTreeSet åˆ™ä¸º O(logN)ã€‚</li></ul><h4 id="list" tabindex="-1">List <a class="header-anchor" href="#list" aria-label="Permalink to &quot;List&quot;">â€‹</a></h4><ul><li><strong>ArrayListï¼š</strong> åŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®ï¼Œé€‚åˆæŸ¥æ‰¾å¤šã€å¢åˆ å°‘çš„åœºæ™¯ã€‚</li><li><strong>Vectorï¼š</strong> å’Œ ArrayList ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œé€‚åˆå¤šçº¿ç¨‹ç¯å¢ƒã€‚</li><li><strong>LinkedListï¼š</strong> åŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ”¯æŒå¿«é€Ÿåœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤ã€‚è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚</li></ul><h4 id="queue" tabindex="-1">Queue <a class="header-anchor" href="#queue" aria-label="Permalink to &quot;Queue&quot;">â€‹</a></h4><ul><li><strong>LinkedListï¼š</strong> å¯ä»¥ç”¨æ¥å®ç°åŒå‘é˜Ÿåˆ—ï¼ˆDequeï¼‰ã€‚</li><li><strong>PriorityQueueï¼š</strong> åŸºäºå †ç»“æ„å®ç°ï¼Œå¯ä»¥ç”¨å®ƒæ¥å®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚</li></ul><h3 id="map" tabindex="-1">Map <a class="header-anchor" href="#map" aria-label="Permalink to &quot;Map&quot;">â€‹</a></h3><ul><li><strong>HashMapï¼š</strong> åŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œé”®å€¼å¯¹æ— åºï¼Œå…è®¸ä¸€ä¸ª null é”®å’Œå¤šä¸ª null å€¼ã€‚</li><li><strong>LinkedHashMapï¼š</strong> ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ é¡ºåºï¼Œé¡ºåºä¸ºæ’å…¥é¡ºåºæˆ–æœ€è¿‘æœ€å°‘ä½¿ç”¨(LRU)é¡ºåºã€‚</li><li><strong>TreeMapï¼š</strong> åŸºäºçº¢é»‘æ ‘å®ç°ï¼Œé”®å€¼å¯¹æœ‰åºï¼ˆæŒ‰é”®æ’åºï¼‰ã€‚</li><li><strong>HashTableï¼š</strong> å’Œ HashMap ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå±äºé—ç•™ç±»ã€‚ä¸æ¨èä½¿ç”¨ï¼Œå¯ç”¨ ConcurrentHashMap æ›¿ä»£ã€‚</li><li><strong>ConcurrentHashMapï¼š</strong> æ”¯æŒé«˜å¹¶å‘çš„çº¿ç¨‹å®‰å…¨ Mapï¼Œå®ç°äº†åˆ†æ®µé”æœºåˆ¶ï¼Œæé«˜äº†æ•ˆç‡ã€‚</li></ul><h2 id="java-é›†åˆç±»å¸¸ç”¨æ–¹æ³•" tabindex="-1">Java é›†åˆç±»å¸¸ç”¨æ–¹æ³• <a class="header-anchor" href="#java-é›†åˆç±»å¸¸ç”¨æ–¹æ³•" aria-label="Permalink to &quot;Java é›†åˆç±»å¸¸ç”¨æ–¹æ³•&quot;">â€‹</a></h2><h3 id="åˆ›å»ºæ—¶å®Œæˆåˆå§‹åŒ–" tabindex="-1">åˆ›å»ºæ—¶å®Œæˆåˆå§‹åŒ– <a class="header-anchor" href="#åˆ›å»ºæ—¶å®Œæˆåˆå§‹åŒ–" aria-label="Permalink to &quot;åˆ›å»ºæ—¶å®Œæˆåˆå§‹åŒ–&quot;">â€‹</a></h3><div><table tabindex="0"><thead><tr><th>é›†åˆç±»å‹</th><th>å†™æ³•</th><th>Java ç‰ˆæœ¬</th><th>æ˜¯å¦å¯ä¿®æ”¹</th></tr></thead><tbody><tr><td><strong>List</strong></td><td><code>List&lt;String&gt; list = Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</code></td><td>Java 8+</td><td>âŒ ä¸å¯å¢åˆ ï¼Œåªèƒ½æ”¹å€¼</td></tr><tr><td></td><td><code>List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>List&lt;String&gt; list = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</code></td><td>Java 9+</td><td>âŒ ä¸å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>List&lt;String&gt; list = new LinkedList&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹</td></tr><tr><td><strong>Set</strong></td><td><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>Set&lt;String&gt; set = Set.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);</code></td><td>Java 9+</td><td>âŒ ä¸å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>Set&lt;String&gt; set = new LinkedHashSet&lt;&gt;(Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹</td></tr><tr><td><strong>Map</strong></td><td><code>Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;(); map.put(&quot;a&quot;, 1); map.put(&quot;b&quot;, 2);</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>Map&lt;String, Integer&gt; map = Map.of(&quot;a&quot;, 1, &quot;b&quot;, 2);</code></td><td>Java 9+</td><td>âŒ ä¸å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>Map&lt;String, Integer&gt; map = Map.ofEntries(Map.entry(&quot;a&quot;, 1), Map.entry(&quot;b&quot;, 2));</code></td><td>Java 9+</td><td>âŒ ä¸å¯ä¿®æ”¹</td></tr><tr><td></td><td><code>Map&lt;String, Integer&gt; map = new LinkedHashMap&lt;&gt;(); map.put(&quot;a&quot;, 1); map.put(&quot;b&quot;, 2);</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹</td></tr><tr><td><strong>é€šç”¨</strong></td><td><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;() {{ add(&quot;a&quot;); add(&quot;b&quot;); }};</code></td><td>Java 8+</td><td>âœ… å¯ä¿®æ”¹ âš ï¸ï¼ˆä¸æ¨èï¼šåŒ¿åå†…éƒ¨ç±»ï¼‰</td></tr></tbody></table></div><h3 id="collection-1" tabindex="-1">Collection <a class="header-anchor" href="#collection-1" aria-label="Permalink to &quot;Collection&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•ç­¾å</th><th>æè¿°</th><th>ç¤ºä¾‹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>add(E e)</code></td><td>æ·»åŠ å…ƒç´ </td><td><code>collection.add(&quot;a&quot;)</code></td><td></td></tr><tr><td><code>addAll(Collection&lt;? extends E&gt; c)</code></td><td>æ·»åŠ é›†åˆæ‰€æœ‰å…ƒç´ </td><td><code>collection.addAll(Arrays.asList(&quot;b&quot;, &quot;c&quot;))</code></td><td></td></tr><tr><td><code>clear()</code></td><td>æ¸…ç©ºé›†åˆ</td><td><code>collection.clear()</code></td><td></td></tr><tr><td><code>contains(Object o)</code></td><td>æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨</td><td><code>collection.contains(&quot;a&quot;)</code></td><td></td></tr><tr><td><code>containsAll(Collection&lt;?&gt; c)</code></td><td>æ£€æŸ¥æ˜¯å¦åŒ…å«å­é›†</td><td><code>collection.containsAll(Arrays.asList(&quot;a&quot;, &quot;b&quot;))</code></td><td></td></tr><tr><td><code>isEmpty()</code></td><td>åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º</td><td><code>collection.isEmpty()</code></td><td></td></tr><tr><td><code>iterator()</code></td><td>è¿”å›è¿­ä»£å™¨</td><td><code>Iterator&lt;String&gt; it = collection.iterator()</code></td><td></td></tr><tr><td><code>remove(Object o)</code></td><td>ç§»é™¤å…ƒç´ </td><td><code>collection.remove(&quot;a&quot;)</code></td><td></td></tr><tr><td><code>removeAll(Collection&lt;?&gt; c)</code></td><td>ç§»é™¤å­é›†æ‰€æœ‰å…ƒç´ </td><td><code>collection.removeAll(Arrays.asList(&quot;a&quot;, &quot;b&quot;))</code></td><td></td></tr><tr><td><code>retainAll(Collection&lt;?&gt; c)</code></td><td>ä¿ç•™å­é›†å…ƒç´ </td><td><code>collection.retainAll(Arrays.asList(&quot;a&quot;))</code></td><td>æ±‚äº¤é›†æ“ä½œ</td></tr><tr><td><code>size()</code></td><td>è¿”å›å…ƒç´ æ•°é‡</td><td><code>int size = collection.size()</code></td><td></td></tr><tr><td><code>toArray()</code></td><td>è½¬ä¸ºæ•°ç»„</td><td><code>Object[] array = collection.toArray()</code></td><td></td></tr><tr><td><code>toArray(T[] a)</code></td><td>è½¬ä¸ºæŒ‡å®šç±»å‹æ•°ç»„</td><td><code>String[] array = collection.toArray(new String[0])</code></td><td>æ¨èç©ºæ•°ç»„å†™æ³•</td></tr><tr><td><code>stream()</code></td><td>è¿”å›é¡ºåºæµ</td><td><code>Stream&lt;String&gt; stream = collection.stream()</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>parallelStream()</code></td><td>è¿”å›å¹¶è¡Œæµ</td><td><code>Stream&lt;String&gt; pStream = collection.parallelStream()</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>removeIf(Predicate&lt;? super E&gt; filter)</code></td><td>ç§»é™¤æ»¡è¶³æ¡ä»¶å…ƒç´ </td><td><code>collection.removeIf(s -&gt; s.isEmpty())</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>forEach(Consumer&lt;? super E&gt; action)</code></td><td>éå†å…ƒç´ </td><td><code>collection.forEach(System.out::println)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr></tbody></table><h3 id="list-1" tabindex="-1">List <a class="header-anchor" href="#list-1" aria-label="Permalink to &quot;List&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•ç­¾å</th><th>æè¿°</th><th>ç¤ºä¾‹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>add(int index, E element)</code></td><td>åœ¨æŒ‡å®šç´¢å¼•æ’å…¥å…ƒç´ </td><td><code>list.add(0, &quot;a&quot;)</code></td><td></td></tr><tr><td><code>addAll(int index, Collection&lt;? extends E&gt; c)</code></td><td>åœ¨æŒ‡å®šç´¢å¼•æ’å…¥å­é›†</td><td><code>list.addAll(0, Arrays.asList(&quot;b&quot;, &quot;c&quot;))</code></td><td></td></tr><tr><td><code>get(int index)</code></td><td>è·å–æŒ‡å®šç´¢å¼•å…ƒç´ </td><td><code>String s = list.get(0)</code></td><td></td></tr><tr><td><code>indexOf(Object o)</code></td><td>è¿”å›å…ƒç´ é¦–æ¬¡å‡ºç°ç´¢å¼•</td><td><code>int idx = list.indexOf(&quot;a&quot;)</code></td><td></td></tr><tr><td><code>lastIndexOf(Object o)</code></td><td>è¿”å›å…ƒç´ æœ€åå‡ºç°ç´¢å¼•</td><td><code>int lastIdx = list.lastIndexOf(&quot;a&quot;)</code></td><td></td></tr><tr><td><code>listIterator()</code></td><td>è¿”å›åˆ—è¡¨è¿­ä»£å™¨</td><td><code>ListIterator&lt;String&gt; it = list.listIterator()</code></td><td>æ”¯æŒåŒå‘éå†</td></tr><tr><td><code>listIterator(int index)</code></td><td>ä»æŒ‡å®šç´¢å¼•è¿”å›åˆ—è¡¨è¿­ä»£å™¨</td><td><code>ListIterator&lt;String&gt; it = list.listIterator(1)</code></td><td></td></tr><tr><td><code>remove(int index)</code></td><td>ç§»é™¤æŒ‡å®šç´¢å¼•å…ƒç´ </td><td><code>String removed = list.remove(0)</code></td><td>è¿”å›è¢«åˆ é™¤å…ƒç´ </td></tr><tr><td><code>set(int index, E element)</code></td><td>æ›¿æ¢æŒ‡å®šç´¢å¼•å…ƒç´ </td><td><code>String oldVal = list.set(0, &quot;x&quot;)</code></td><td>è¿”å›æ—§å€¼</td></tr><tr><td><code>sort(Comparator&lt;? super E&gt; c)</code></td><td>æ’åºå…ƒç´ </td><td><code>list.sort(Comparator.naturalOrder())</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>subList(int fromIndex, int toIndex)</code></td><td>è¿”å›å­åˆ—è¡¨è§†å›¾</td><td><code>List&lt;String&gt; sub = list.subList(0, 2)</code></td><td>ä¿®æ”¹å½±å“åŸåˆ—è¡¨</td></tr><tr><td><code>replaceAll(UnaryOperator&lt;E&gt; operator)</code></td><td>æ›¿æ¢æ‰€æœ‰å…ƒç´ </td><td><code>list.replaceAll(s -&gt; s.toUpperCase())</code></td><td><strong>Java 8æ–°å¢</strong></td></tr></tbody></table><h3 id="set-1" tabindex="-1">Set <a class="header-anchor" href="#set-1" aria-label="Permalink to &quot;Set&quot;">â€‹</a></h3><blockquote><p><strong>æ— æ–°å¢æ–¹æ³•</strong>ï¼ˆç›´æ¥ç»§æ‰¿Collectionæ¥å£ï¼‰</p></blockquote><h3 id="queue-1" tabindex="-1">Queue <a class="header-anchor" href="#queue-1" aria-label="Permalink to &quot;Queue&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•ç­¾å</th><th>æè¿°</th><th>ç¤ºä¾‹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>offer(E e)</code></td><td>æ·»åŠ å…ƒç´ </td><td><code>queue.offer(&quot;a&quot;)</code></td><td>é˜Ÿåˆ—æ»¡æ—¶è¿”å›<code>false</code></td></tr><tr><td><code>poll()</code></td><td>ç§»é™¤å¹¶è¿”å›é˜Ÿå¤´å…ƒç´ </td><td><code>String s = queue.poll()</code></td><td>ç©ºé˜Ÿåˆ—è¿”å›<code>null</code></td></tr><tr><td><code>remove()</code></td><td>ç§»é™¤å¹¶è¿”å›é˜Ÿå¤´å…ƒç´ </td><td><code>String s = queue.remove()</code></td><td>ç©ºé˜Ÿåˆ—æŠ›<code>NoSuchElementException</code></td></tr><tr><td><code>peek()</code></td><td>è¿”å›é˜Ÿå¤´å…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</td><td><code>String s = queue.peek()</code></td><td>ç©ºé˜Ÿåˆ—è¿”å›<code>null</code></td></tr><tr><td><code>element()</code></td><td>è¿”å›é˜Ÿå¤´å…ƒç´ ï¼ˆä¸åˆ é™¤ï¼‰</td><td><code>String s = queue.element()</code></td><td>ç©ºé˜Ÿåˆ—æŠ›<code>NoSuchElementException</code></td></tr></tbody></table><h3 id="map-1" tabindex="-1">Map <a class="header-anchor" href="#map-1" aria-label="Permalink to &quot;Map&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•ç­¾å</th><th>æè¿°</th><th>ç¤ºä¾‹</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>put(K key, V value)</code></td><td>æ·»åŠ é”®å€¼å¯¹</td><td><code>map.put(&quot;k1&quot;, &quot;v1&quot;)</code></td><td>è¿”å›æ—§å€¼ï¼ˆå¯èƒ½nullï¼‰</td></tr><tr><td><code>putAll(Map&lt;? extends K, ? extends V&gt; m)</code></td><td>æ·»åŠ æ‰€æœ‰é”®å€¼å¯¹</td><td><code>map.putAll(otherMap)</code></td><td></td></tr><tr><td><code>get(Object key)</code></td><td>è·å–é”®å¯¹åº”çš„å€¼</td><td><code>String v = map.get(&quot;k1&quot;)</code></td><td>é”®ä¸å­˜åœ¨è¿”å›<code>null</code></td></tr><tr><td><code>getOrDefault(Object key, V defaultValue)</code></td><td>è·å–å€¼æˆ–é»˜è®¤å€¼</td><td><code>map.getOrDefault(&quot;k2&quot;, &quot;default&quot;)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>remove(Object key)</code></td><td>ç§»é™¤æŒ‡å®šé”®å€¼å¯¹</td><td><code>map.remove(&quot;k1&quot;)</code></td><td>è¿”å›è¢«åˆ é™¤çš„å€¼</td></tr><tr><td><code>remove(Object key, Object value)</code></td><td>é”®å€¼åŒ¹é…æ—¶æ‰ç§»é™¤</td><td><code>map.remove(&quot;k1&quot;, &quot;v1&quot;)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>containsKey(Object key)</code></td><td>æ£€æŸ¥é”®æ˜¯å¦å­˜åœ¨</td><td><code>map.containsKey(&quot;k1&quot;)</code></td><td></td></tr><tr><td><code>containsValue(Object value)</code></td><td>æ£€æŸ¥å€¼æ˜¯å¦å­˜åœ¨</td><td><code>map.containsValue(&quot;v1&quot;)</code></td><td></td></tr><tr><td><code>keySet()</code></td><td>è¿”å›é”®çš„Setè§†å›¾</td><td><code>Set&lt;String&gt; keys = map.keySet()</code></td><td>ä¿®æ”¹å½±å“åŸMap</td></tr><tr><td><code>values()</code></td><td>è¿”å›å€¼çš„Collectionè§†å›¾</td><td><code>Collection&lt;String&gt; vals = map.values()</code></td><td>ä¿®æ”¹å½±å“åŸMap</td></tr><tr><td><code>entrySet()</code></td><td>è¿”å›é”®å€¼å¯¹çš„Setè§†å›¾</td><td><code>Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = map.entrySet()</code></td><td>ä¿®æ”¹å½±å“åŸMap</td></tr><tr><td><code>size()</code></td><td>è¿”å›é”®å€¼å¯¹æ•°é‡</td><td><code>int size = map.size()</code></td><td></td></tr><tr><td><code>isEmpty()</code></td><td>åˆ¤æ–­Mapæ˜¯å¦ä¸ºç©º</td><td><code>map.isEmpty()</code></td><td></td></tr><tr><td><code>clear()</code></td><td>æ¸…ç©ºMap</td><td><code>map.clear()</code></td><td></td></tr><tr><td><code>replace(K key, V value)</code></td><td>æ›¿æ¢é”®å¯¹åº”çš„å€¼</td><td><code>map.replace(&quot;k1&quot;, &quot;newVal&quot;)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>replace(K key, V oldValue, V newValue)</code></td><td>é”®å€¼åŒ¹é…æ—¶æ‰æ›¿æ¢</td><td><code>map.replace(&quot;k1&quot;, &quot;v1&quot;, &quot;newVal&quot;)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>putIfAbsent(K key, V value)</code></td><td>é”®ä¸å­˜åœ¨æ—¶æ·»åŠ </td><td><code>map.putIfAbsent(&quot;k2&quot;, &quot;v2&quot;)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>forEach(BiConsumer&lt;? super K, ? super V&gt; action)</code></td><td>éå†é”®å€¼å¯¹</td><td><code>map.forEach((k, v) -&gt; System.out.println(k + &quot;:&quot; + v))</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>compute(K key, BiFunction&lt;? super K, ? super V, ? extends V&gt; remappingFunction)</code></td><td>è®¡ç®—æ–°å€¼</td><td><code>map.compute(&quot;k1&quot;, (k, v) -&gt; v + &quot;_new&quot;)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr><tr><td><code>merge(K key, V value, BiFunction&lt;? super V, ? super V, ? extends V&gt; remappingFunction)</code></td><td>åˆå¹¶å€¼</td><td><code>map.merge(&quot;k1&quot;, &quot;new&quot;, String::concat)</code></td><td><strong>Java 8æ–°å¢</strong></td></tr></tbody></table><h2 id="java-stream-å¸¸ç”¨æ–¹æ³•" tabindex="-1">Java Stream å¸¸ç”¨æ–¹æ³• <a class="header-anchor" href="#java-stream-å¸¸ç”¨æ–¹æ³•" aria-label="Permalink to &quot;Java Stream å¸¸ç”¨æ–¹æ³•&quot;">â€‹</a></h2><h3 id="_1-æµçš„åˆ›å»º" tabindex="-1">1. æµçš„åˆ›å»º <a class="header-anchor" href="#_1-æµçš„åˆ›å»º" aria-label="Permalink to &quot;1. æµçš„åˆ›å»º&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>collection.stream()</code></td><td>é›†åˆè½¬æµ</td><td><code>list.stream()</code></td></tr><tr><td><code>Arrays.stream(array)</code></td><td>æ•°ç»„è½¬æµ</td><td><code>Arrays.stream(new int[]{1,2,3})</code></td></tr><tr><td><code>Stream.of(values)</code></td><td>å€¼åºåˆ—è½¬æµ</td><td><code>Stream.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code></td></tr><tr><td><code>Stream.generate(supplier)</code></td><td>æ— é™ç”Ÿæˆæµ</td><td><code>Stream.generate(Math::random)</code></td></tr><tr><td><code>Stream.iterate(seed, function)</code></td><td>è¿­ä»£ç”Ÿæˆæµ</td><td><code>Stream.iterate(1, n-&gt;n*2)</code></td></tr><tr><td><code>IntStream.range(start,end)</code></td><td>æ•´æ•°èŒƒå›´æµ</td><td><code>IntStream.range(1,10)</code></td></tr><tr><td><code>IntStream.rangeClosed(start,end)</code></td><td>é—­åŒºé—´æ•´æ•°æµ</td><td><code>IntStream.rangeClosed(1,5)</code></td></tr><tr><td><code>Random.ints()</code></td><td>éšæœºæ•°æµ</td><td><code>new Random().ints(100)</code></td></tr><tr><td><code>Files.lines(path)</code></td><td>æ–‡ä»¶è¡Œæµ</td><td><code>Files.lines(Paths.get(&quot;file.txt&quot;))</code></td></tr></tbody></table><h3 id="_2-ä¸­é—´æ“ä½œ-è¿”å›æ–°æµ" tabindex="-1">2. ä¸­é—´æ“ä½œï¼ˆè¿”å›æ–°æµï¼‰ <a class="header-anchor" href="#_2-ä¸­é—´æ“ä½œ-è¿”å›æ–°æµ" aria-label="Permalink to &quot;2. ä¸­é—´æ“ä½œï¼ˆè¿”å›æ–°æµï¼‰&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>ç±»åˆ«</th><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>ç­›é€‰</strong></td><td><code>filter(Predicate)</code></td><td>æ¡ä»¶è¿‡æ»¤</td><td><code>.filter(s -&gt; s.length()&gt;5)</code></td></tr><tr><td></td><td><code>distinct()</code></td><td>å…ƒç´ å»é‡</td><td><code>.distinct()</code></td></tr><tr><td></td><td><code>skip(n)</code></td><td>è·³è¿‡å‰nå…ƒç´ </td><td><code>.skip(5)</code></td></tr><tr><td></td><td><code>limit(maxSize)</code></td><td>é™åˆ¶å…ƒç´ æ•°é‡</td><td><code>.limit(100)</code></td></tr><tr><td><strong>æ˜ å°„</strong></td><td><code>map(Function)</code></td><td>å…ƒç´ è½¬æ¢</td><td><code>.map(String::toUpperCase)</code></td></tr><tr><td></td><td><code>flatMap(Function)</code></td><td>æ‰å¹³åŒ–æ˜ å°„</td><td><code>.flatMap(s-&gt;Stream.of(s.split(&quot;,&quot;)))</code></td></tr><tr><td></td><td><code>mapToInt(ToIntFunction)</code></td><td>è½¬IntStream</td><td><code>.mapToInt(Integer::parseInt)</code></td></tr><tr><td></td><td><code>mapToDouble(ToDoubleFunction)</code></td><td>è½¬DoubleStream</td><td><code>.mapToDouble(Product::getPrice)</code></td></tr><tr><td><strong>ç±»å‹è½¬æ¢</strong></td><td><code>boxed()</code></td><td>åŸºæœ¬ç±»å‹æµè£…ç®±æˆå¯¹è±¡æµ</td><td><code>IntStream.range(1,5) .boxed()</code></td></tr><tr><td></td><td><code>asLongStream()</code></td><td>DoubleStreamè½¬LongStream</td><td><code>doubleStream.asLongStream()</code></td></tr><tr><td></td><td><code>asDoubleStream()</code></td><td>IntStream/LongStreamè½¬DoubleStream</td><td><code>intStream.asDoubleStream()</code></td></tr><tr><td><strong>æ’åº</strong></td><td><code>sorted()</code></td><td>è‡ªç„¶æ’åº</td><td><code>.sorted()</code></td></tr><tr><td></td><td><code>sorted(Comparator)</code></td><td>è‡ªå®šä¹‰æ’åº</td><td><code>.sorted(Comparator.reverseOrder())</code></td></tr><tr><td><strong>è°ƒè¯•</strong></td><td><code>peek(Consumer)</code></td><td>è°ƒè¯•è§‚å¯Ÿ</td><td><code>.peek(System.out::println)</code></td></tr></tbody></table><h3 id="_3-ç»ˆæ­¢æ“ä½œ-è¿”å›ç»“æœæˆ–å‰¯ä½œç”¨" tabindex="-1">3. ç»ˆæ­¢æ“ä½œï¼ˆè¿”å›ç»“æœæˆ–å‰¯ä½œç”¨ï¼‰ <a class="header-anchor" href="#_3-ç»ˆæ­¢æ“ä½œ-è¿”å›ç»“æœæˆ–å‰¯ä½œç”¨" aria-label="Permalink to &quot;3. ç»ˆæ­¢æ“ä½œï¼ˆè¿”å›ç»“æœæˆ–å‰¯ä½œç”¨ï¼‰&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>ç±»åˆ«</th><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>åŒ¹é…</strong></td><td><code>anyMatch(Predicate)</code></td><td>ä»»æ„å…ƒç´ åŒ¹é…</td><td><code>.anyMatch(s -&gt; s.contains(&quot;a&quot;))</code></td></tr><tr><td></td><td><code>allMatch(Predicate)</code></td><td>æ‰€æœ‰å…ƒç´ åŒ¹é…</td><td><code>.allMatch(n -&gt; n&gt;0)</code></td></tr><tr><td></td><td><code>noneMatch(Predicate)</code></td><td>æ— å…ƒç´ åŒ¹é…</td><td><code>.noneMatch(Objects::isNull)</code></td></tr><tr><td><strong>æŸ¥æ‰¾</strong></td><td><code>findFirst()</code></td><td>è¿”å›é¦–å…ƒç´ </td><td><code>.findFirst()</code></td></tr><tr><td></td><td><code>findAny()</code></td><td>è¿”å›ä»»æ„å…ƒç´ </td><td><code>.findAny()</code></td></tr><tr><td><strong>å½’çº¦</strong></td><td><code>count()</code></td><td>å…ƒç´ è®¡æ•°</td><td><code>.count()</code></td></tr><tr><td></td><td><code>min(Comparator)</code></td><td>æœ€å°å€¼</td><td><code>.min(Integer::compare)</code></td></tr><tr><td></td><td><code>max(Comparator)</code></td><td>æœ€å¤§å€¼</td><td><code>.max(Comparator.comparing(Employee::getSalary))</code></td></tr><tr><td></td><td><code>reduce(BinaryOperator)</code></td><td>å½’å¹¶è®¡ç®—</td><td><code>.reduce(0, Integer::sum)</code></td></tr><tr><td></td><td><code>sum()</code></td><td>æ±‚å’Œ(æ•°å€¼æµ)</td><td><code>intStream.sum()</code></td></tr><tr><td></td><td><code>average()</code></td><td>å¹³å‡å€¼(æ•°å€¼æµ)</td><td><code>doubleStream.average()</code></td></tr><tr><td><strong>æ”¶é›†</strong></td><td><code>collect(Collectors.toList())</code></td><td>è½¬List</td><td><code>.collect(Collectors.toList())</code></td></tr><tr><td></td><td><code>collect(Collectors.toSet())</code></td><td>è½¬Set</td><td><code>.collect(Collectors.toSet())</code></td></tr><tr><td></td><td><code>collect(Collectors.toMap(k,v))</code></td><td>è½¬Map</td><td><code>.collect(Collectors.toMap(Product::id, Product::price))</code></td></tr><tr><td></td><td><code>collect(Collectors.joining(delim))</code></td><td>å­—ç¬¦ä¸²æ‹¼æ¥</td><td><code>.collect(Collectors.joining(&quot;, &quot;))</code></td></tr><tr><td></td><td><code>collect(Collectors.groupingBy(F))</code></td><td>åˆ†ç»„(Map)</td><td><code>.collect(Collectors.groupingBy(Employee::getDept))</code></td></tr><tr><td></td><td><code>collect(Collectors.partitioningBy(P))</code></td><td>åˆ†åŒº(Map)</td><td><code>.collect(Collectors.partitioningBy(n-&gt;n&gt;50))</code></td></tr><tr><td></td><td><code>collect(Collectors.summingInt(T))</code></td><td>åˆ†ç»„æ±‚å’Œ</td><td><code>Collectors.summingInt(Order::getQuantity)</code></td></tr><tr><td><strong>éå†</strong></td><td><code>forEach(Consumer)</code></td><td>éå†å…ƒç´ </td><td><code>.forEach(System.out::println)</code></td></tr><tr><td></td><td><code>forEachOrdered()</code></td><td>é¡ºåºéå†</td><td><code>.forEachOrdered()</code></td></tr></tbody></table><h3 id="æ ¸å¿ƒç‰¹æ€§æ€»ç»“" tabindex="-1">æ ¸å¿ƒç‰¹æ€§æ€»ç»“ï¼š <a class="header-anchor" href="#æ ¸å¿ƒç‰¹æ€§æ€»ç»“" aria-label="Permalink to &quot;æ ¸å¿ƒç‰¹æ€§æ€»ç»“ï¼š&quot;">â€‹</a></h3><ol><li><strong>æƒ°æ€§æ±‚å€¼</strong>ï¼šä¸­é—´æ“ä½œä¸ç«‹å³æ‰§è¡Œï¼Œç»ˆç«¯æ“ä½œè§¦å‘è®¡ç®—</li><li><strong>æµä¸å¯å¤ç”¨</strong>ï¼šç»ˆç«¯æ“ä½œåæµå³å…³é—­</li><li><strong>çŸ­è·¯æ“ä½œ</strong>ï¼š<code>limit/findFirst/anyMatch</code>ç­‰å¯æå‰ç»ˆæ­¢</li><li><strong>æ— çŠ¶æ€æ“ä½œ</strong>ï¼š<code>filter/map</code>ç­‰ä¸ä¾èµ–å¤–éƒ¨çŠ¶æ€</li><li><strong>æœ‰çŠ¶æ€æ“ä½œ</strong>ï¼š<code>distinct/sorted/skip/limit</code>éœ€ç»´æŠ¤çŠ¶æ€</li><li><strong>å¹¶è¡Œå¤„ç†</strong>ï¼š<code>parallelStream()</code>è‡ªåŠ¨å¹¶è¡ŒåŒ–å¤„ç†</li></ol><h3 id="åŸºæœ¬ç±»å‹æµvså¯¹è±¡æµ" tabindex="-1">åŸºæœ¬ç±»å‹æµvså¯¹è±¡æµ <a class="header-anchor" href="#åŸºæœ¬ç±»å‹æµvså¯¹è±¡æµ" aria-label="Permalink to &quot;åŸºæœ¬ç±»å‹æµvså¯¹è±¡æµ&quot;">â€‹</a></h3><p>Java Stream åˆ†ä¸º <strong>åŸºæœ¬ç±»å‹æµ</strong>ï¼ˆ<code>IntStream</code>ã€<code>LongStream</code>ã€<code>DoubleStream</code>ï¼‰å’Œ <strong>å¯¹è±¡æµ</strong>ï¼ˆ<code>Stream&lt;T&gt;</code>ï¼‰ã€‚åŸºæœ¬ç±»å‹æµä¸“é—¨å¤„ç† <code>int</code>ã€<code>long</code>ã€<code>double</code>ï¼Œé¿å…é¢‘ç¹è£…ç®±/æ‹†ç®±ï¼Œæ”¯æŒæ•°å€¼æ–¹æ³•å¦‚ <code>sum()</code>ã€<code>average()</code>ï¼Œæ€§èƒ½æ›´é«˜ï¼›é€šè¿‡ <strong><code>boxed()</code></strong> æ–¹æ³•å¯ä»¥æŠŠåŸºæœ¬ç±»å‹æµè½¬ä¸ºå¯¹åº”åŒ…è£…ç±»çš„å¯¹è±¡æµï¼ˆå¦‚ <code>IntStream</code> â†’ <code>Stream&lt;Integer&gt;</code>ï¼‰ï¼Œæ–¹ä¾¿ä¸å¼•ç”¨ç±»å‹é€šç”¨ API é…åˆä½¿ç”¨ã€‚å¯¹è±¡æµåˆ™ç”¨äºå¤„ç†ä»»æ„å¼•ç”¨ç±»å‹æ•°æ®ã€‚</p><h2 id="optional" tabindex="-1">Optional <a class="header-anchor" href="#optional" aria-label="Permalink to &quot;Optional&quot;">â€‹</a></h2><p><code>findFirst()</code>ã€<code>findAny()</code>ã€<code>min(Comparator)</code>ã€<code>max(Comparator)</code>ã€<code>reduce(BinaryOperator)</code>ä¼šè¿”å›Optionalå¯¹è±¡</p><p>Java çš„ <strong><code>Optional</code></strong> æ˜¯ä¸€ä¸ªå®¹å™¨å¯¹è±¡ï¼Œç”¨äºè¡¨ç¤ºä¸€ä¸ªå€¼å¯èƒ½å­˜åœ¨ä¹Ÿå¯èƒ½ä¸å­˜åœ¨ï¼Œå¸¸ç”¨æ¥é¿å… <strong><code>NullPointerException</code></strong>ã€‚å¸¸è§ç”¨æ³•ï¼š</p><ul><li><strong>åˆ›å»º Optional</strong><ul><li><code>Optional.of(value)</code>ï¼šåˆ›å»ºéç©ºå€¼çš„ Optionalï¼ˆå€¼ä¸èƒ½ä¸º nullï¼‰ã€‚</li><li><code>Optional.ofNullable(value)</code>ï¼šå€¼å…è®¸ä¸º nullï¼Œä¸º null æ—¶è¿”å›ç©º Optionalã€‚</li><li><code>Optional.empty()</code>ï¼šåˆ›å»ºä¸€ä¸ªç©º Optionalã€‚</li></ul></li><li><strong>è·å–å€¼</strong><ul><li><code>get()</code>ï¼šç›´æ¥è·å–å€¼ï¼Œå€¼ä¸å­˜åœ¨ä¼šæŠ›å‡ºå¼‚å¸¸ï¼ˆä¸æ¨èï¼‰ã€‚</li><li><code>orElse(default)</code>ï¼šå€¼å­˜åœ¨è¿”å›å®ƒï¼Œå¦åˆ™è¿”å›é»˜è®¤å€¼ã€‚</li><li><code>orElseGet(Supplier)</code>ï¼šå€¼ä¸å­˜åœ¨æ—¶è°ƒç”¨ Supplier æä¾›é»˜è®¤å€¼ã€‚</li><li><code>orElseThrow()</code>ï¼šå€¼ä¸å­˜åœ¨æ—¶æŠ›å‡ºå¼‚å¸¸ã€‚</li></ul></li><li><strong>åˆ¤æ–­æ˜¯å¦æœ‰å€¼</strong><ul><li><code>isPresent()</code>ï¼šæ˜¯å¦æœ‰å€¼ã€‚</li><li><code>ifPresent(Consumer)</code>ï¼šæœ‰å€¼æ—¶æ‰§è¡Œ Consumer é€»è¾‘ã€‚</li></ul></li><li><strong>é“¾å¼æ“ä½œ</strong><ul><li><code>map(Function)</code>ï¼šå¯¹å€¼è¿›è¡Œè½¬æ¢å¹¶è¿”å›æ–°çš„ Optionalã€‚</li><li><code>flatMap(Function)</code>ï¼šç±»ä¼¼ mapï¼Œä½†é¿å…åµŒå¥— Optionalã€‚</li><li><code>filter(Predicate)</code>ï¼šå€¼æ»¡è¶³æ¡ä»¶æ—¶è¿”å›åŸ Optionalï¼Œå¦åˆ™è¿”å›ç©ºã€‚</li></ul></li></ul><h2 id="å¸¸ç”¨å·¥å…·ç±»å’Œæ¥å£" tabindex="-1">å¸¸ç”¨å·¥å…·ç±»å’Œæ¥å£ <a class="header-anchor" href="#å¸¸ç”¨å·¥å…·ç±»å’Œæ¥å£" aria-label="Permalink to &quot;å¸¸ç”¨å·¥å…·ç±»å’Œæ¥å£&quot;">â€‹</a></h2><h3 id="ä¸€ã€é›†åˆå·¥å…·ç±»" tabindex="-1">ä¸€ã€é›†åˆå·¥å…·ç±» <a class="header-anchor" href="#ä¸€ã€é›†åˆå·¥å…·ç±»" aria-label="Permalink to &quot;ä¸€ã€é›†åˆå·¥å…·ç±»&quot;">â€‹</a></h3><h4 id="java-util-collections" tabindex="-1"><code>java.util.Collections</code> <a class="header-anchor" href="#java-util-collections" aria-label="Permalink to &quot;\`java.util.Collections\`&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>æ–¹æ³•åˆ†ç±»</strong></th><th><strong>æ–¹æ³•ç­¾å</strong></th><th><strong>åŠŸèƒ½è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>æ’åº/æŸ¥æ‰¾</strong></td><td><code>sort(List&lt;T&gt; list)</code></td><td>è‡ªç„¶é¡ºåºæ’åº</td></tr><tr><td></td><td><code>sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</code></td><td>è‡ªå®šä¹‰æ¯”è¾ƒå™¨æ’åº</td></tr><tr><td></td><td><code>binarySearch(List&lt;? extends Comparable&gt; list, T key)</code></td><td>äºŒåˆ†æŸ¥æ‰¾ï¼ˆè‡ªç„¶é¡ºåºï¼‰</td></tr><tr><td></td><td><code>binarySearch(List&lt;?&gt; list, T key, Comparator&lt;? super T&gt; c)</code></td><td>äºŒåˆ†æŸ¥æ‰¾ï¼ˆè‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼‰</td></tr><tr><td><strong>ä¸å¯å˜é›†åˆ</strong></td><td><code>unmodifiableCollection(Collection c)</code></td><td>åˆ›å»ºä¸å¯ä¿®æ”¹é›†åˆ</td></tr><tr><td></td><td><code>unmodifiableList(List list)</code></td><td>åˆ›å»ºä¸å¯ä¿®æ”¹åˆ—è¡¨</td></tr><tr><td></td><td><code>unmodifiableSet(Set s)</code></td><td>åˆ›å»ºä¸å¯ä¿®æ”¹Set</td></tr><tr><td></td><td><code>unmodifiableMap(Map m)</code></td><td>åˆ›å»ºä¸å¯ä¿®æ”¹Map</td></tr><tr><td><strong>åŒæ­¥åŒ…è£…</strong></td><td><code>synchronizedCollection(Collection c)</code></td><td>åˆ›å»ºçº¿ç¨‹å®‰å…¨é›†åˆ</td></tr><tr><td></td><td><code>synchronizedList(List list)</code></td><td>åˆ›å»ºçº¿ç¨‹å®‰å…¨åˆ—è¡¨</td></tr><tr><td></td><td><code>synchronizedSet(Set s)</code></td><td>åˆ›å»ºçº¿ç¨‹å®‰å…¨Set</td></tr><tr><td></td><td><code>synchronizedMap(Map m)</code></td><td>åˆ›å»ºçº¿ç¨‹å®‰å…¨Map</td></tr><tr><td><strong>å•å…ƒç´ é›†åˆ</strong></td><td><code>singleton(T o)</code></td><td>åˆ›å»ºä¸å¯å˜å•å…ƒç´ Set</td></tr><tr><td></td><td><code>singletonList(T o)</code></td><td>åˆ›å»ºä¸å¯å˜å•å…ƒç´ åˆ—è¡¨</td></tr><tr><td></td><td><code>singletonMap(K key, V value)</code></td><td>åˆ›å»ºä¸å¯å˜å•å…ƒç´ Map</td></tr><tr><td><strong>ç©ºé›†åˆ</strong></td><td><code>emptyList()</code>, <code>emptySet()</code>, <code>emptyMap()</code></td><td>åˆ›å»ºç©ºé›†åˆå®ä¾‹</td></tr><tr><td><strong>é›†åˆæ“ä½œ</strong></td><td><code>reverse(List&lt;?&gt; list)</code></td><td>åè½¬åˆ—è¡¨é¡ºåº</td></tr><tr><td></td><td><code>shuffle(List&lt;?&gt; list)</code></td><td>éšæœºæ‰“ä¹±åˆ—è¡¨</td></tr><tr><td></td><td><code>swap(List&lt;?&gt; list, int i, int j)</code></td><td>äº¤æ¢å…ƒç´ ä½ç½®</td></tr><tr><td></td><td><code>rotate(List&lt;?&gt; list, int distance)</code></td><td>å¾ªç¯ç§»ä½</td></tr><tr><td></td><td><code>replaceAll(List&lt;T&gt; list, T oldVal, T newVal)</code></td><td>æ›¿æ¢æ‰€æœ‰åŒ¹é…å…ƒç´ </td></tr><tr><td></td><td><code>fill(List&lt;? super T&gt; list, T obj)</code></td><td>ç”¨æŒ‡å®šå…ƒç´ å¡«å……åˆ—è¡¨</td></tr><tr><td><strong>é›†åˆæ£€æŸ¥</strong></td><td><code>frequency(Collection&lt;?&gt; c, Object o)</code></td><td>ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°</td></tr><tr><td></td><td><code>disjoint(Collection&lt;?&gt; c1, Collection&lt;?&gt; c2)</code></td><td>æ£€æŸ¥ä¸¤ä¸ªé›†åˆæ˜¯å¦æ— äº¤é›†</td></tr><tr><td></td><td><code>indexOfSubList(List&lt;?&gt; source, List&lt;?&gt; target)</code></td><td>æŸ¥æ‰¾å­åˆ—è¡¨ä½ç½®</td></tr><tr><td></td><td><code>lastIndexOfSubList(List&lt;?&gt; source, List&lt;?&gt; target)</code></td><td>æŸ¥æ‰¾å­åˆ—è¡¨æœ€åå‡ºç°ä½ç½®</td></tr></tbody></table><h4 id="java-util-arrays" tabindex="-1"><strong><code>java.util.Arrays</code></strong> <a class="header-anchor" href="#java-util-arrays" aria-label="Permalink to &quot;**\`java.util.Arrays\`**&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>æ–¹æ³•åˆ†ç±»</strong></th><th><strong>æ–¹æ³•ç­¾å</strong></th><th><strong>åŠŸèƒ½è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>æ•°ç»„è½¬é›†åˆ</strong></td><td><code>asList(T... a)</code></td><td>æ•°ç»„è½¬å›ºå®šå¤§å°List</td></tr><tr><td><strong>æ’åº</strong></td><td><code>sort(int[] a)</code></td><td>æ•°ç»„è‡ªç„¶æ’åº</td></tr><tr><td></td><td><code>sort(T[] a, Comparator&lt;? super T&gt; c)</code></td><td>è‡ªå®šä¹‰æ¯”è¾ƒå™¨æ’åº</td></tr><tr><td></td><td><code>parallelSort(T[] a)</code></td><td>å¹¶è¡Œæ’åºï¼ˆJava 8+ï¼‰</td></tr><tr><td><strong>æŸ¥æ‰¾</strong></td><td><code>binarySearch(int[] a, int key)</code></td><td>äºŒåˆ†æŸ¥æ‰¾</td></tr><tr><td><strong>æ¯”è¾ƒ</strong></td><td><code>equals(int[] a, int[] b)</code></td><td>æ¯”è¾ƒæ•°ç»„å†…å®¹æ˜¯å¦ç›¸ç­‰</td></tr><tr><td></td><td><code>deepEquals(Object[] a, Object[] b)</code></td><td>æ·±åº¦æ¯”è¾ƒå¤šç»´æ•°ç»„</td></tr><tr><td><strong>å¡«å……</strong></td><td><code>fill(int[] a, int val)</code></td><td>ç”¨æŒ‡å®šå€¼å¡«å……æ•°ç»„</td></tr><tr><td></td><td><code>fill(int[] a, int fromIndex, int toIndex, int val)</code></td><td>å¡«å……æ•°ç»„æŒ‡å®šåŒºé—´</td></tr><tr><td><strong>å¤åˆ¶</strong></td><td><code>copyOf(int[] original, int newLength)</code></td><td>å¤åˆ¶æŒ‡å®šé•¿åº¦æ•°ç»„</td></tr><tr><td></td><td><code>copyOfRange(int[] original, int from, int to)</code></td><td>å¤åˆ¶æ•°ç»„æŒ‡å®šèŒƒå›´</td></tr><tr><td><strong>å“ˆå¸Œ/å­—ç¬¦ä¸²</strong></td><td><code>hashCode(int[] a)</code></td><td>è®¡ç®—æ•°ç»„å“ˆå¸Œå€¼</td></tr><tr><td></td><td><code>deepHashCode(Object[] a)</code></td><td>è®¡ç®—å¤šç»´æ•°ç»„å“ˆå¸Œå€¼</td></tr><tr><td></td><td><code>toString(int[] a)</code></td><td>æ•°ç»„è½¬å­—ç¬¦ä¸²</td></tr><tr><td></td><td><code>deepToString(Object[] a)</code></td><td>å¤šç»´æ•°ç»„è½¬å­—ç¬¦ä¸²</td></tr><tr><td><strong>æ¯”è¾ƒå™¨æ”¯æŒ</strong></td><td><code>compare(int[] a, int[] b)</code></td><td>æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒæ•°ç»„ï¼ˆJava 9+ï¼‰</td></tr><tr><td></td><td><code>mismatch(int[] a, int[] b)</code></td><td>æŸ¥æ‰¾é¦–ä¸ªä¸åŒ¹é…ç´¢å¼•ï¼ˆJava 9+ï¼‰</td></tr></tbody></table><h3 id="äºŒã€æ ¸å¿ƒå‡½æ•°å¼æ¥å£" tabindex="-1">äºŒã€æ ¸å¿ƒå‡½æ•°å¼æ¥å£ <a class="header-anchor" href="#äºŒã€æ ¸å¿ƒå‡½æ•°å¼æ¥å£" aria-label="Permalink to &quot;äºŒã€æ ¸å¿ƒå‡½æ•°å¼æ¥å£&quot;">â€‹</a></h3><h4 id="åŸºç¡€æ¥å£-java-util-functionåŒ…" tabindex="-1">åŸºç¡€æ¥å£ï¼ˆ<code>java.util.function</code>åŒ…ï¼‰ <a class="header-anchor" href="#åŸºç¡€æ¥å£-java-util-functionåŒ…" aria-label="Permalink to &quot;åŸºç¡€æ¥å£ï¼ˆ\`java.util.function\`åŒ…ï¼‰&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>æ¥å£ç±»å‹</strong></th><th><strong>æ¥å£å®šä¹‰</strong></th><th><strong>æ ¸å¿ƒæ–¹æ³•</strong></th><th><strong>å¸¸è§ä½¿ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>æ¶ˆè´¹å‹</strong></td><td><code>Consumer&lt;T&gt;</code></td><td><code>void accept(T t)</code></td><td><code>Iterable.forEach()</code></td></tr><tr><td></td><td><code>BiConsumer&lt;T,U&gt;</code></td><td><code>void accept(T t, U u)</code></td><td><code>Map.forEach()</code></td></tr><tr><td><strong>ä¾›ç»™å‹</strong></td><td><code>Supplier&lt;T&gt;</code></td><td><code>T get()</code></td><td>å·¥å‚æ–¹æ³•/å»¶è¿Ÿåˆå§‹åŒ–</td></tr><tr><td><strong>å‡½æ•°å‹</strong></td><td><code>Function&lt;T,R&gt;</code></td><td><code>R apply(T t)</code></td><td>è½¬æ¢æ“ä½œ</td></tr><tr><td></td><td><code>BiFunction&lt;T,U,R&gt;</code></td><td><code>R apply(T t, U u)</code></td><td>Mapåˆå¹¶æ“ä½œ</td></tr><tr><td><strong>æ“ä½œç¬¦</strong></td><td><code>UnaryOperator&lt;T&gt;</code></td><td><code>T apply(T t)</code></td><td>é›†åˆå…ƒç´ ä¿®æ”¹</td></tr><tr><td></td><td><code>BinaryOperator&lt;T&gt;</code></td><td><code>T apply(T t1, T t2)</code></td><td>å½’çº¦æ“ä½œ</td></tr><tr><td><strong>æ–­è¨€å‹</strong></td><td><code>Predicate&lt;T&gt;</code></td><td><code>boolean test(T t)</code></td><td><code>Collection.removeIf()</code></td></tr><tr><td></td><td><code>BiPredicate&lt;T,U&gt;</code></td><td><code>boolean test(T t, U u)</code></td><td>åŒå‚æ•°æ¡ä»¶æ£€æŸ¥</td></tr></tbody></table><h4 id="æ‰©å±•å‡½æ•°å¼æ¥å£" tabindex="-1">æ‰©å±•å‡½æ•°å¼æ¥å£ <a class="header-anchor" href="#æ‰©å±•å‡½æ•°å¼æ¥å£" aria-label="Permalink to &quot;æ‰©å±•å‡½æ•°å¼æ¥å£&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>æ¥å£ç±»å‹</strong></th><th><strong>æ¥å£å®šä¹‰</strong></th><th><strong>æ ¸å¿ƒæ–¹æ³•</strong></th><th><strong>å¸¸è§ä½¿ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><strong>åŸå§‹ç±»å‹ç‰¹åŒ–</strong></td><td><code>IntConsumer</code></td><td><code>void accept(int value)</code></td><td>é¿å…è£…ç®±å¼€é”€</td></tr><tr><td></td><td><code>LongFunction&lt;R&gt;</code></td><td><code>R apply(long value)</code></td><td>å¤„ç†longç±»å‹æ•°æ®</td></tr><tr><td></td><td><code>DoublePredicate</code></td><td><code>boolean test(double v)</code></td><td>åŒç²¾åº¦æ¡ä»¶åˆ¤æ–­</td></tr><tr><td><strong>å¯¹è±¡-åŸå§‹è½¬æ¢</strong></td><td><code>ToIntFunction&lt;T&gt;</code></td><td><code>int applyAsInt(T v)</code></td><td>å¯¹è±¡è½¬int</td></tr><tr><td></td><td><code>LongToDoubleFunction</code></td><td><code>double applyAsDouble(long v)</code></td><td>longè½¬double</td></tr></tbody></table><h4 id="å…¶ä»–é‡è¦æ¥å£" tabindex="-1">å…¶ä»–é‡è¦æ¥å£ <a class="header-anchor" href="#å…¶ä»–é‡è¦æ¥å£" aria-label="Permalink to &quot;å…¶ä»–é‡è¦æ¥å£&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>æ¥å£</strong></th><th><strong>åŒ…è·¯å¾„</strong></th><th><strong>æ ¸å¿ƒæ–¹æ³•</strong></th><th><strong>å¸¸è§ä½¿ç”¨åœºæ™¯</strong></th></tr></thead><tbody><tr><td><code>Comparator&lt;T&gt;</code></td><td><code>java.util</code></td><td><code>int compare(T o1, T o2)</code></td><td><code>Collections.sort()</code>, <code>TreeSet</code></td></tr><tr><td><code>Runnable</code></td><td><code>java.lang</code></td><td><code>void run()</code></td><td>çº¿ç¨‹ä»»åŠ¡</td></tr><tr><td><code>Iterable&lt;T&gt;</code></td><td><code>java.lang</code></td><td><code>Iterator&lt;T&gt; iterator()</code></td><td>å¢å¼ºforå¾ªç¯æ”¯æŒ</td></tr><tr><td><code>Iterator&lt;E&gt;</code></td><td><code>java.util</code></td><td><code>boolean hasNext()</code>, <code>E next()</code></td><td>é›†åˆéå†</td></tr></tbody></table><h3 id="ä¸‰ã€å…¸å‹ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ä¸‰ã€å…¸å‹ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ä¸‰ã€å…¸å‹ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;ä¸‰ã€å…¸å‹ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. Collections æ’åº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; names </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Arrays.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">asList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;David&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Collections.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(names, Comparator.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reverseOrder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªå®šä¹‰æ’åº</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. Arrays æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] numbers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Arrays.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(numbers);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ•°ç»„æ’åº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; numList </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Arrays.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">asList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ•°ç»„è½¬é›†åˆ</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. å‡½æ•°å¼æ¥å£åº”ç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArrayList&lt;&gt;(List.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;C&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">removeIf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Predicate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replaceAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;-1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// UnaryOperator</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">forEach</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(System.out</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">println);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Consumer</span></span></code></pre></div><h2 id="ä¾‹é¢˜" tabindex="-1">ä¾‹é¢˜ <a class="header-anchor" href="#ä¾‹é¢˜" aria-label="Permalink to &quot;ä¾‹é¢˜&quot;">â€‹</a></h2><ol><li><p>å»é‡åç­›é€‰å¶æ•°ï¼Œè®¡ç®—å¹³æ–¹å’Œ<br><code>numbers.stream().distinct().filter(n-&gt;n%2==0).map(n-&gt;n*n).reduce(0,Integer::sum)</code></p></li><li><p>ç­›é€‰ä»¥&quot;A&quot;å¼€å¤´ä¸”é•¿åº¦&gt;3çš„åç§°ï¼Œè¿”å›ç´¢å¼•-å€¼æ˜ å°„<br><code>IntStream.range(0,names.size()).filter(i-&gt;names.get(i).startsWith(&quot;A&quot;)&amp;&amp;names.get(i).length()&gt;3).boxed().collect(Collectors.toMap(i-&gt;i,names::get,(a,b)-&gt;a,LinkedHashMap::new))</code></p></li><li><p>æŒ‰å®¢æˆ·åˆ†ç»„ç»Ÿè®¡è®¢å•æ€»é‡‘é¢<br><code>orders.stream().collect(Collectors.groupingBy(Order::customer,Collectors.summingDouble(Order::amount)))</code></p></li><li><p>æ‹†åˆ†é€—å·åˆ†éš”å•è¯å¹¶å»é‡<br><code>phrases.stream().flatMap(s-&gt;Arrays.stream(s.split(&quot;,&quot;))).distinct().toList()</code></p></li><li><p>æ£€æŸ¥æ‰€æœ‰é”€å”®é¢&gt;100ä¸”è‡³å°‘ä¸€ä¸ª&gt;500<br><code>allOver100 = sales.stream().allMatch(s-&gt;s&gt;100); anyOver500 = sales.stream().anyMatch(s-&gt;s&gt;500)</code></p></li><li><p>æ‰¾å‡ºå·¥èµ„æœ€é«˜çš„å‘˜å·¥<br><code>emps.stream().max(Comparator.comparingDouble(Employee::salary))</code></p></li><li><p>ç”Ÿæˆ100ä¸ªä¸åŒéšæœºæ•°<br><code>new Random().ints(1,1000).distinct().limit(100).boxed().toList()</code></p></li><li><p>æ‰¾å‡ºå­—ç¬¦ä¸²ä¸­å‡ºç°æœ€å¤šçš„å­—ç¬¦(å¯èƒ½å¹¶åˆ—åšå¤š)</p></li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// æ‰¾åˆ°å‡ºç°æœ€å¤šçš„å­—ç¬¦(å¯èƒ½æ˜¯å¹¶åˆ—æœ€å¤šçš„)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Set&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Character</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; maxChars </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chars</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mapToObj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) c)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupingBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c, Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">counting</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entrySet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupingBy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Map.Entry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getValue,  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Map.Entry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getKey, Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toSet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">entrySet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Map.Entry.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">comparingByKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Map.Entry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">getValue)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orElse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collections.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emptySet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><ol start="9"><li>æ¯”è¾ƒæ–‡ä»¶ï¼Œæ‰¾å‡ºä½ç½®ç›¸åŒã€å¤§å°ç›¸åŒçš„æ•°æ®</li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//1.txt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 12,23,11,15,24,33,27,6,9  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 15,23,14,16,22,33,27,9,9</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Files.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readAllLines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(str </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> str.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reduce</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((arr1, arr2) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IntStream.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">range</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, arr1.length)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr1[i].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equals</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(arr2[i]))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mapToObj</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> arr1[i])  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toArray</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]))  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Arrays</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">asList)  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">orElse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collections.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">emptyList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><h1 id="ioä¸æ–‡ä»¶" tabindex="-1">IOä¸æ–‡ä»¶ <a class="header-anchor" href="#ioä¸æ–‡ä»¶" aria-label="Permalink to &quot;IOä¸æ–‡ä»¶&quot;">â€‹</a></h1><h2 id="æ¡†æ¶å›¾-1" tabindex="-1">æ¡†æ¶å›¾ <a class="header-anchor" href="#æ¡†æ¶å›¾-1" aria-label="Permalink to &quot;æ¡†æ¶å›¾&quot;">â€‹</a></h2><p><img src="`+l+`" alt=""></p><h2 id="æ¼”è¿›" tabindex="-1">æ¼”è¿› <a class="header-anchor" href="#æ¼”è¿›" aria-label="Permalink to &quot;æ¼”è¿›&quot;">â€‹</a></h2><h3 id="_1-java-1-0-1-3-ä¼ ç»Ÿé˜»å¡å¼-i-o-java-io" tabindex="-1">1. Java 1.0 - 1.3ï¼šä¼ ç»Ÿé˜»å¡å¼ I/O (<code>java.io</code>) <a class="header-anchor" href="#_1-java-1-0-1-3-ä¼ ç»Ÿé˜»å¡å¼-i-o-java-io" aria-label="Permalink to &quot;1. Java 1.0 - 1.3ï¼šä¼ ç»Ÿé˜»å¡å¼ I/O (\`java.io\`)&quot;">â€‹</a></h3><ul><li>åŸºäº<strong>æµ (Stream)</strong> æŠ½è±¡ï¼Œåˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµã€‚</li><li><strong>åŒæ­¥é˜»å¡æ¨¡å‹</strong>ï¼š<code>read()</code> å’Œ <code>write()</code> è°ƒç”¨æ—¶çº¿ç¨‹è¢«å®Œå…¨é˜»å¡ï¼Œç›´åˆ°å®Œæˆã€‚</li><li>ä¼˜ç‚¹ï¼šç®€å•ç›´è§‚ï¼Œé€‚åˆæ–‡ä»¶æ“ä½œå’Œä½å¹¶å‘åœºæ™¯ã€‚</li><li>ç¼ºç‚¹ï¼šé«˜å¹¶å‘æ—¶çº¿ç¨‹å¼€é”€å¤§ï¼ˆC10K é—®é¢˜ï¼‰ï¼Œèµ„æºæµªè´¹ï¼Œä»£ç å¤æ‚ã€‚</li></ul><h3 id="_2-java-1-4-å¼•å…¥éé˜»å¡-nio-java-nio" tabindex="-1">2. Java 1.4ï¼šå¼•å…¥éé˜»å¡ NIO (<code>java.nio</code>) <a class="header-anchor" href="#_2-java-1-4-å¼•å…¥éé˜»å¡-nio-java-nio" aria-label="Permalink to &quot;2. Java 1.4ï¼šå¼•å…¥éé˜»å¡ NIO (\`java.nio\`)&quot;">â€‹</a></h3><ul><li>æ ¸å¿ƒï¼š<strong>Channel</strong>ï¼ˆåŒå‘é€šé“ï¼‰ï¼Œ<strong>Buffer</strong>ï¼ˆç¼“å†²åŒºï¼‰ï¼Œ<strong>Selector</strong>ï¼ˆå•çº¿ç¨‹ç®¡ç†å¤šé€šé“ï¼‰ã€‚</li><li><strong>åŒæ­¥éé˜»å¡ + å¤šè·¯å¤ç”¨</strong>ï¼šçº¿ç¨‹ä¸é˜»å¡åœ¨å•ä¸ª I/Oï¼Œå¯åŒæ—¶ç®¡ç†å¤šä¸ªè¿æ¥ã€‚</li><li>ä¼˜ç‚¹ï¼šé«˜å¹¶å‘æ€§èƒ½å¥½ï¼Œå‡å°‘çº¿ç¨‹æ•°é‡ï¼Œèµ„æºåˆ©ç”¨ç‡é«˜ã€‚</li><li>ç¼ºç‚¹ï¼šAPIå¤æ‚ï¼Œéœ€æ‰‹åŠ¨ç®¡ç†çŠ¶æ€ï¼Œç¼–ç¨‹å’Œè°ƒè¯•éš¾åº¦å¤§ã€‚</li></ul><h3 id="_3-java-7-nio-2-å’Œå¼‚æ­¥-i-o-java-nio-file-asynchronouschannel" tabindex="-1">3. Java 7ï¼šNIO.2 å’Œå¼‚æ­¥ I/O (<code>java.nio.file</code> + <code>AsynchronousChannel</code>) <a class="header-anchor" href="#_3-java-7-nio-2-å’Œå¼‚æ­¥-i-o-java-nio-file-asynchronouschannel" aria-label="Permalink to &quot;3. Java 7ï¼šNIO.2 å’Œå¼‚æ­¥ I/O (\`java.nio.file\` + \`AsynchronousChannel\`)&quot;">â€‹</a></h3><ul><li>æ–°å¢æ–‡ä»¶å¤„ç†APIï¼ˆ<code>Path</code>ã€<code>Files</code>ï¼‰æ›´å¼ºå¤§ç®€æ´ã€‚</li><li>å¼•å…¥<strong>å¼‚æ­¥éé˜»å¡ I/O</strong>ï¼ŒI/Oæ“ä½œç«‹å³è¿”å›ï¼Œé€šè¿‡å›è°ƒæˆ– Future è·å–ç»“æœã€‚</li><li>ä¼˜ç‚¹ï¼šæ›´é«˜å¯ä¼¸ç¼©æ€§ï¼Œçº¿ç¨‹ä¸é˜»å¡ï¼Œå¼‚æ­¥ç¼–ç¨‹æ›´è‡ªç„¶ã€‚</li><li>ç¼ºç‚¹ï¼šå¼‚æ­¥ç¼–ç¨‹å¤æ‚ï¼Œå¹³å°æ”¯æŒå·®å¼‚ï¼Œè°ƒè¯•éš¾ã€‚</li></ul><h3 id="_4-java-8-æµå¼-api-ä¸-i-o-é›†æˆ" tabindex="-1">4. Java 8+ï¼šæµå¼ API ä¸ I/O é›†æˆ <a class="header-anchor" href="#_4-java-8-æµå¼-api-ä¸-i-o-é›†æˆ" aria-label="Permalink to &quot;4. Java 8+ï¼šæµå¼ API ä¸ I/O é›†æˆ&quot;">â€‹</a></h3><ul><li><code>Files</code> æ”¯æŒè¿”å› <code>Stream</code>ï¼Œæ–¹ä¾¿å£°æ˜å¼æ–‡ä»¶å†…å®¹å¤„ç†å’Œç›®å½•éå†ã€‚</li><li>NIO/NIO.2 æŒç»­ä¼˜åŒ–ï¼Œæ¨åŠ¨é«˜æ€§èƒ½ç½‘ç»œæ¡†æ¶ï¼ˆå¦‚ Nettyï¼‰å‘å±•ã€‚</li><li>æå¤§ç®€åŒ–æ–‡ä»¶å¤„ç†ä»£ç ï¼Œæˆä¸ºç°ä»£é«˜æ€§èƒ½ Java åº”ç”¨åŸºç¡€ã€‚</li></ul><h3 id="å¦‚ä½•é€‰æ‹©" tabindex="-1">å¦‚ä½•é€‰æ‹© <a class="header-anchor" href="#å¦‚ä½•é€‰æ‹©" aria-label="Permalink to &quot;å¦‚ä½•é€‰æ‹©&quot;">â€‹</a></h3><ul><li>å¯¹äº<strong>å¸¸è§„æ–‡ä»¶è¯»å†™</strong>ï¼šä¼˜å…ˆä½¿ç”¨ <strong><code>java.nio.file.Files</code> å’Œ <code>Path</code></strong>ã€‚éœ€è¦é€è¡Œå¤„ç†æ—¶ï¼Œ<code>Files.lines()</code> + <code>Stream</code> API æ˜¯åˆ©å™¨ã€‚</li><li>å¯¹äº<strong>æ–°å¼€å‘çš„é«˜å¹¶å‘ç½‘ç»œæœåŠ¡</strong>ï¼š<strong>ä¸è¦ç›´æ¥ä½¿ç”¨åº•å±‚çš„ <code>java.nio</code> Selector API</strong>ï¼Œè€Œæ˜¯ä½¿ç”¨æˆç†Ÿçš„ç½‘ç»œæ¡†æ¶å¦‚ <strong>Netty</strong>ã€<strong>Spring WebFlux</strong> (åŸºäº Reactor Netty) ç­‰ã€‚å®ƒä»¬åŸºäº NIOï¼Œä½†æä¾›äº†æ›´é«˜çº§ã€æ›´å®‰å…¨çš„æŠ½è±¡ã€‚</li><li>å¯¹äº<strong>ç®€å•ã€ä½å¹¶å‘çš„ç½‘ç»œæˆ–æ–‡ä»¶ä»»åŠ¡</strong>ï¼š<code>java.io</code> ä»ç„¶ç®€å•å¤Ÿç”¨ã€‚</li><li>å¯¹äº<strong>éœ€è¦æ·±åº¦æ§åˆ¶æˆ–ç‰¹å®šä¼˜åŒ–çš„åœºæ™¯</strong>ï¼šå¯èƒ½éœ€è¦ç›´æ¥ä½¿ç”¨ <code>java.nio</code> çš„ Channel/Bufferï¼Œæˆ–è°¨æ…è¯„ä¼° <code>AsynchronousChannel</code>ã€‚</li></ul><h2 id="io-nio-aio" tabindex="-1">IO/NIO/AIO <a class="header-anchor" href="#io-nio-aio" aria-label="Permalink to &quot;IO/NIO/AIO&quot;">â€‹</a></h2><h3 id="io" tabindex="-1">IO <a class="header-anchor" href="#io" aria-label="Permalink to &quot;IO&quot;">â€‹</a></h3><h4 id="å¸¸ç”¨æµ" tabindex="-1">å¸¸ç”¨æµ <a class="header-anchor" href="#å¸¸ç”¨æµ" aria-label="Permalink to &quot;å¸¸ç”¨æµ&quot;">â€‹</a></h4><table tabindex="0"><thead><tr><th><strong>åˆ†ç±»</strong></th><th><strong>èŠ‚ç‚¹æµ/å¤„ç†æµ</strong></th><th><strong>æµåç§°</strong></th><th><strong>åŠŸèƒ½æè¿°</strong></th></tr></thead><tbody><tr><td><strong>å­—èŠ‚æµ</strong></td><td>èŠ‚ç‚¹æµ</td><td><code>FileInputStream</code></td><td>ä»æ–‡ä»¶è¯»å–åŸå§‹å­—èŠ‚æ•°æ®</td></tr><tr><td></td><td></td><td><code>FileOutputStream</code></td><td>å‘æ–‡ä»¶å†™å…¥åŸå§‹å­—èŠ‚æ•°æ®</td></tr><tr><td></td><td>å¤„ç†æµ</td><td><code>BufferedInputStream</code></td><td>æ·»åŠ ç¼“å†²åŒºæé«˜è¯»å–æ•ˆç‡</td></tr><tr><td></td><td></td><td><code>BufferedOutputStream</code></td><td>æ·»åŠ ç¼“å†²åŒºæé«˜å†™å…¥æ•ˆç‡</td></tr><tr><td></td><td></td><td><code>DataInputStream</code></td><td>è¯»å–åŸºæœ¬æ•°æ®ç±»å‹(int, doubleç­‰)</td></tr><tr><td></td><td></td><td><code>DataOutputStream</code></td><td>å†™å…¥åŸºæœ¬æ•°æ®ç±»å‹</td></tr><tr><td></td><td></td><td><code>ObjectInputStream</code></td><td>ååºåˆ—åŒ–å¯¹è±¡</td></tr><tr><td></td><td></td><td><code>ObjectOutputStream</code></td><td>åºåˆ—åŒ–å¯¹è±¡</td></tr><tr><td><strong>å­—ç¬¦æµ</strong></td><td>èŠ‚ç‚¹æµ</td><td><code>FileReader</code></td><td>ä»æ–‡ä»¶è¯»å–å­—ç¬¦(ä½¿ç”¨é»˜è®¤ç¼–ç )</td></tr><tr><td></td><td></td><td><code>FileWriter</code></td><td>å‘æ–‡ä»¶å†™å…¥å­—ç¬¦(ä½¿ç”¨é»˜è®¤ç¼–ç )</td></tr><tr><td></td><td>å¤„ç†æµ</td><td><code>BufferedReader</code></td><td>ç¼“å†²è¯»å–ï¼Œæ”¯æŒæŒ‰è¡Œè¯»å–</td></tr><tr><td></td><td></td><td><code>BufferedWriter</code></td><td>ç¼“å†²å†™å…¥ï¼Œæ”¯æŒæ¢è¡Œæ“ä½œ</td></tr><tr><td></td><td></td><td><code>InputStreamReader</code></td><td>å­—èŠ‚æµè½¬å­—ç¬¦æµ(å¯æŒ‡å®šç¼–ç )</td></tr><tr><td></td><td></td><td><code>OutputStreamWriter</code></td><td>å­—ç¬¦æµè½¬å­—èŠ‚æµ(å¯æŒ‡å®šç¼–ç )</td></tr><tr><td></td><td></td><td><code>PrintWriter</code></td><td>æ ¼å¼åŒ–è¾“å‡º(print/println/printf)</td></tr><tr><td>#### å…³é—­å»ºè®®</td><td></td><td></td><td></td></tr></tbody></table><ul><li>æ¨èä½¿ç”¨ <strong>try-with-resources</strong> è‡ªåŠ¨å…³é—­æµï¼ˆJava 7+ï¼‰</li><li>ä½¿ç”¨å®Œå¿…é¡» <code>close()</code>ï¼Œå¦åˆ™èµ„æºæ³„æ¼</li></ul><h4 id="ç¤ºä¾‹ä»£ç " tabindex="-1">ç¤ºä¾‹ä»£ç  <a class="header-anchor" href="#ç¤ºä¾‹ä»£ç " aria-label="Permalink to &quot;ç¤ºä¾‹ä»£ç &quot;">â€‹</a></h4><h5 id="_1ï¸âƒ£-å­—èŠ‚æµ-å¤åˆ¶æ–‡ä»¶-å›¾ç‰‡-äºŒè¿›åˆ¶" tabindex="-1">1ï¸âƒ£ å­—èŠ‚æµï¼šå¤åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡/äºŒè¿›åˆ¶ï¼‰ <a class="header-anchor" href="#_1ï¸âƒ£-å­—èŠ‚æµ-å¤åˆ¶æ–‡ä»¶-å›¾ç‰‡-äºŒè¿›åˆ¶" aria-label="Permalink to &quot;1ï¸âƒ£ å­—èŠ‚æµï¼šå¤åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡/äºŒè¿›åˆ¶ï¼‰&quot;">â€‹</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (FileInputStream fis </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;input.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     FileOutputStream fos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;output.jpg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> len;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fis.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        fos.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, len);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h5 id="_2ï¸âƒ£-å­—ç¬¦æµ-å†™å…¥æ–‡æœ¬æ–‡ä»¶" tabindex="-1">2ï¸âƒ£ å­—ç¬¦æµï¼šå†™å…¥æ–‡æœ¬æ–‡ä»¶ <a class="header-anchor" href="#_2ï¸âƒ£-å­—ç¬¦æµ-å†™å…¥æ–‡æœ¬æ–‡ä»¶" aria-label="Permalink to &quot;2ï¸âƒ£ å­—ç¬¦æµï¼šå†™å…¥æ–‡æœ¬æ–‡ä»¶&quot;">â€‹</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (BufferedWriter writer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;output.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    writer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ä½ å¥½ï¼Œä¸–ç•Œï¼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    writer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    writer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Java IO ç¤ºä¾‹&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h5 id="_3ï¸âƒ£-å­—ç¬¦æµ-æŒ‰è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶" tabindex="-1">3ï¸âƒ£ å­—ç¬¦æµï¼šæŒ‰è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶ <a class="header-anchor" href="#_3ï¸âƒ£-å­—ç¬¦æµ-æŒ‰è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶" aria-label="Permalink to &quot;3ï¸âƒ£ å­—ç¬¦æµï¼šæŒ‰è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶&quot;">â€‹</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (BufferedReader reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;output.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String line;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h5 id="_4ï¸âƒ£-ç¼–ç è½¬æ¢æµ-æŒ‡å®šç¼–ç è¯»å–æ–‡æœ¬" tabindex="-1">4ï¸âƒ£ ç¼–ç è½¬æ¢æµï¼šæŒ‡å®šç¼–ç è¯»å–æ–‡æœ¬ <a class="header-anchor" href="#_4ï¸âƒ£-ç¼–ç è½¬æ¢æµ-æŒ‡å®šç¼–ç è¯»å–æ–‡æœ¬" aria-label="Permalink to &quot;4ï¸âƒ£ ç¼–ç è½¬æ¢æµï¼šæŒ‡å®šç¼–ç è¯»å–æ–‡æœ¬&quot;">â€‹</a></h5><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (InputStreamReader isr </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InputStreamReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf8.txt&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     BufferedReader reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(isr)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    String line;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reader.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="nio" tabindex="-1">NIO <a class="header-anchor" href="#nio" aria-label="Permalink to &quot;NIO&quot;">â€‹</a></h3><p>NIO çš„æ ¸å¿ƒåœ¨äº<strong>éé˜»å¡ I/O</strong>Â å’ŒÂ <strong>I/O å¤šè·¯å¤ç”¨</strong>ã€‚å®ƒå¼•å…¥äº†Â <code>Channel</code>ã€<code>Buffer</code>Â å’ŒÂ <code>Selector</code>Â ä¸‰ä¸ªå…³é”®ç»„ä»¶ã€‚åº”ç”¨ç¨‹åºå°†æ•°æ®è¯»å†™åˆ°Â <code>Buffer</code>Â ä¸­ï¼Œé€šè¿‡Â <code>Channel</code>Â è¿›è¡Œä¼ è¾“ã€‚æœ€å…³é”®çš„æ˜¯Â <code>Selector</code>ï¼Œå®ƒå…è®¸ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ç›‘å¬å¤šä¸ªÂ <code>Channel</code>Â ä¸Šçš„äº‹ä»¶ï¼ˆå¦‚è¿æ¥å°±ç»ªã€è¯»å°±ç»ªã€å†™å°±ç»ªï¼‰ã€‚å½“æŸä¸ªÂ <code>Channel</code>Â ä¸Šæœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œ<code>Selector</code>Â ä¼šé€šçŸ¥åº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºå†å¯¹è¯¥Â <code>Channel</code>Â è¿›è¡Œå®é™…çš„ I/O æ“ä½œã€‚è¿™ç§æ¨¡å¼é¿å…äº†ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œæå¤§åœ°æé«˜äº†é«˜å¹¶å‘è¿æ¥åœºæ™¯ä¸‹çš„èµ„æºåˆ©ç”¨ç‡å’Œå¯ä¼¸ç¼©æ€§ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†å¤§é‡ã€é•¿è¿æ¥ä½†æ•°æ®ä¼ è¾“ä¸é¢‘ç¹çš„åº”ç”¨ï¼ˆå¦‚èŠå¤©æœåŠ¡å™¨ï¼‰ã€‚<strong>NIO æœ¬èº«æ˜¯åŒæ­¥çš„ï¼ˆåº”ç”¨ç¨‹åºéœ€è¦è‡ªå·±è¿›è¡Œè¯»å†™æ“ä½œï¼‰ï¼Œä½†å®ƒæ˜¯éé˜»å¡çš„ï¼ˆä¸ä¼šåœ¨æ•°æ®æœªå‡†å¤‡å¥½æ—¶æ— é™ç­‰å¾…ï¼‰ã€‚</strong></p><h3 id="aio" tabindex="-1">AIO <a class="header-anchor" href="#aio" aria-label="Permalink to &quot;AIO&quot;">â€‹</a></h3><p>AIO å®ç°äº†<strong>çœŸæ­£çš„å¼‚æ­¥ I/O</strong>ï¼Œä¸»è¦åœ¨ Java 7 ä¸­å¼•å…¥ï¼Œæ ¸å¿ƒæ˜¯Â <code>AsynchronousChannel</code>Â å’Œç›¸å…³ç±»ï¼ˆå¦‚Â <code>AsynchronousSocketChannel</code>,Â <code>AsynchronousFileChannel</code>ï¼‰ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šåº”ç”¨ç¨‹åºå‘èµ·ä¸€ä¸ª I/O æ“ä½œï¼ˆå¦‚è¯»æˆ–å†™ï¼‰åï¼Œ<strong>ç«‹å³è¿”å›</strong>ï¼Œä¸ä¼šé˜»å¡å½“å‰çº¿ç¨‹ã€‚å®é™…çš„ I/O æ“ä½œç”±æ“ä½œç³»ç»Ÿåœ¨åå°å®Œæˆã€‚å½“æ“ä½œå®Œæˆæ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šä¸»åŠ¨é€šçŸ¥åº”ç”¨ç¨‹åºã€‚åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼å¤„ç†å®Œæˆé€šçŸ¥ï¼š1) æä¾›ä¸€ä¸ªÂ <code>CompletionHandler</code>Â å›è°ƒå‡½æ•°ï¼Œæ“ä½œç³»ç»Ÿåœ¨æ“ä½œå®Œæˆæ—¶è‡ªåŠ¨è°ƒç”¨å®ƒï¼›2) è¿”å›ä¸€ä¸ªÂ <code>Future</code>Â å¯¹è±¡ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨æœªæ¥æŸä¸ªæ—¶åˆ»é€šè¿‡Â <code>Future</code>Â æ¥æ£€æŸ¥æ“ä½œæ˜¯å¦å®Œæˆå¹¶è·å–ç»“æœã€‚AIO å°† I/O æ“ä½œçš„ç­‰å¾…å’Œå®Œæˆå¤„ç†å®Œå…¨äº¤ç»™æ“ä½œç³»ç»Ÿå’Œåº•å±‚çº¿ç¨‹æ± ç®¡ç†ï¼Œè¿›ä¸€æ­¥ç®€åŒ–äº†é«˜å¹¶å‘ç¼–ç¨‹æ¨¡å‹ï¼Œå°¤å…¶é€‚åˆé‚£äº› I/O æ“ä½œæœ¬èº«è€—æ—¶è¾ƒé•¿ï¼ˆå¦‚è®¿é—®æ…¢é€Ÿæ–‡ä»¶æˆ–ç½‘ç»œèµ„æºï¼‰ä¸”å¸Œæœ›æœ€å¤§ç¨‹åº¦é‡Šæ”¾çº¿ç¨‹èµ„æºçš„åœºæ™¯ã€‚<strong>AIO æ˜¯å¼‚æ­¥çš„ï¼ˆæ“ä½œåœ¨åå°å®Œæˆï¼Œåº”ç”¨ç¨‹åºä¸ç­‰å¾…ï¼‰ä¸”éé˜»å¡çš„ï¼ˆå‘èµ·è°ƒç”¨ç«‹å³è¿”å›ï¼‰ã€‚</strong></p><h2 id="file-pathã€files" tabindex="-1">File/Pathã€Files <a class="header-anchor" href="#file-pathã€files" aria-label="Permalink to &quot;File/Pathã€Files&quot;">â€‹</a></h2><h3 id="ä»‹ç»" tabindex="-1">ä»‹ç» <a class="header-anchor" href="#ä»‹ç»" aria-label="Permalink to &quot;ä»‹ç»&quot;">â€‹</a></h3><p>åœ¨ Java æ–‡ä»¶æ“ä½œä¸­ï¼Œ<code>File</code> æ˜¯ Java 1.0 å°±å¼•å…¥çš„è€ APIï¼ŒåŠŸèƒ½è¾ƒä¸ºæœ‰é™ï¼Œåªéœ€äº†è§£å…¶åŸºæœ¬ç”¨æ³•ï¼Œå®é™…å¼€å‘ä¸­åº”å°½é‡å°‘ç”¨ã€‚ä» Java 7 å¼€å§‹ï¼Œæ¨èä½¿ç”¨ <code>Path</code> å’Œ <code>Files</code> ä½œä¸ºä¸»åŠ› APIï¼š<code>Path</code> ç”¨äºè¡¨ç¤ºæ–‡ä»¶è·¯å¾„ï¼Œæ›´åŠ ç°ä»£åŒ–ï¼›<code>Files</code> æ˜¯æ“ä½œæ–‡ä»¶å’Œç›®å½•çš„å·¥å…·ç±»ï¼ŒåŠŸèƒ½ä¸°å¯Œä¸”å®‰å…¨ã€‚æ­¤å¤–ï¼Œ<code>Paths</code> å·¥å…·ç±»å¯ç”¨äºç”Ÿæˆ <code>Path</code> å®ä¾‹ï¼Œåœ¨ Java 7 ä¸­è¾ƒå¸¸ç”¨ï¼Œä½†è‡ª Java 11 èµ·æ¨èä½¿ç”¨æ›´ç®€æ´çš„ <code>Path.of()</code> æ›¿ä»£ <code>Paths.get()</code>ï¼Œä»£ç å¯è¯»æ€§æ›´é«˜ã€‚æ€»çš„æ¥è¯´ï¼Œå®é™…å¼€å‘å»ºè®®ä¼˜å…ˆæŒæ¡å’Œä½¿ç”¨ <code>Path</code> + <code>Files</code> ç»„åˆï¼Œé€æ­¥è¿‡æ¸¡åˆ°æ–°ç‰ˆ APIï¼Œå°¤å…¶æ˜¯åœ¨ Java 11 åŠä»¥ä¸Šç‰ˆæœ¬ã€‚</p><h3 id="æ—§ç‰ˆ-file-java-io-file" tabindex="-1">æ—§ç‰ˆ File (java.io.File) <a class="header-anchor" href="#æ—§ç‰ˆ-file-java-io-file" aria-label="Permalink to &quot;æ—§ç‰ˆ File (java.io.File)&quot;">â€‹</a></h3><p><code>File</code> ç±»æ˜¯ Java æ—§ç‰ˆæ–‡ä»¶ APIï¼Œè¡¨ç¤ºæ–‡ä»¶å’Œç›®å½•è·¯å¾„åçš„æŠ½è±¡è¡¨ç¤ºã€‚åªèƒ½è¡¨ç¤ºè·¯å¾„ï¼Œ<strong>ä¸è¡¨ç¤ºæ–‡ä»¶æœ¬èº«çš„æ•°æ®</strong>ã€‚</p><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹ä»£ç </th></tr></thead><tbody><tr><td><code>exists()</code></td><td>åˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨</td><td><code>file.exists();</code></td></tr><tr><td><code>createNewFile()</code></td><td>åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼ˆè‹¥å·²å­˜åœ¨è¿”å› falseï¼‰</td><td><code>file.createNewFile();</code></td></tr><tr><td><code>mkdir()</code></td><td>åˆ›å»ºå•çº§ç›®å½•</td><td><code>file.mkdir();</code></td></tr><tr><td><code>mkdirs()</code></td><td>åˆ›å»ºå¤šçº§ç›®å½•</td><td><code>file.mkdirs();</code></td></tr><tr><td><code>delete()</code></td><td>åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼ˆç›®å½•éœ€ä¸ºç©ºï¼‰</td><td><code>file.delete();</code></td></tr><tr><td><code>isFile()</code></td><td>åˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶</td><td><code>file.isFile();</code></td></tr><tr><td><code>isDirectory()</code></td><td>åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•</td><td><code>file.isDirectory();</code></td></tr><tr><td><code>getName()</code></td><td>è·å–æ–‡ä»¶æˆ–ç›®å½•å</td><td><code>file.getName();</code></td></tr><tr><td><code>getAbsolutePath()</code></td><td>è·å–ç»å¯¹è·¯å¾„</td><td><code>file.getAbsolutePath();</code></td></tr><tr><td><code>getPath()</code></td><td>è·å–æ„é€ æ—¶æŒ‡å®šçš„è·¯å¾„</td><td><code>file.getPath();</code></td></tr><tr><td><code>getParent()</code></td><td>è·å–çˆ¶ç›®å½•è·¯å¾„å­—ç¬¦ä¸²</td><td><code>file.getParent();</code></td></tr><tr><td><code>list()</code></td><td>è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½•åç§°æ•°ç»„</td><td><code>String[] names = file.list();</code></td></tr><tr><td><code>listFiles()</code></td><td>è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œç›®å½• File å¯¹è±¡æ•°ç»„</td><td><code>File[] files = file.listFiles();</code></td></tr><tr><td><code>renameTo(File dest)</code></td><td>é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•</td><td><code>file.renameTo(new File(&quot;newName.txt&quot;));</code></td></tr><tr><td><code>length()</code></td><td>è¿”å›æ–‡ä»¶é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰</td><td><code>file.length();</code></td></tr><tr><td><code>lastModified()</code></td><td>è¿”å›æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´ï¼ˆæ¯«ç§’å€¼ï¼‰</td><td><code>file.lastModified();</code></td></tr><tr><td><code>canRead()</code></td><td>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯è¯»</td><td><code>file.canRead();</code></td></tr><tr><td><code>canWrite()</code></td><td>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯å†™</td><td><code>file.canWrite();</code></td></tr><tr><td><code>canExecute()</code></td><td>åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œ</td><td><code>file.canExecute();</code></td></tr><tr><td><code>setReadOnly()</code></td><td>å°†æ–‡ä»¶è®¾ç½®ä¸ºåªè¯»</td><td><code>file.setReadOnly();</code></td></tr></tbody></table><h3 id="æ–°ç‰ˆ-path-files-java-nio-file" tabindex="-1">æ–°ç‰ˆ Path + Files (java.nio.file) <a class="header-anchor" href="#æ–°ç‰ˆ-path-files-java-nio-file" aria-label="Permalink to &quot;æ–°ç‰ˆ Path + Files (java.nio.file)&quot;">â€‹</a></h3><p>å¼•å…¥è‡ª <strong>Java 7</strong> çš„ NIO.2 æ–‡ä»¶ APIï¼Œæä¾›æ›´ç°ä»£åŒ–ã€åŠŸèƒ½ä¸°å¯Œçš„æ–‡ä»¶æ“ä½œã€‚</p><h4 id="path-java-nio-file-path" tabindex="-1">Path (java.nio.file.Path) <a class="header-anchor" href="#path-java-nio-file-path" aria-label="Permalink to &quot;Path (java.nio.file.Path)&quot;">â€‹</a></h4><p><strong>ç®€ä»‹</strong>ï¼š</p><ul><li><code>Path</code> è¡¨ç¤ºä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿè·¯å¾„ã€‚</li><li>é€šè¿‡ <strong><code>Paths.get()</code></strong> æˆ– <strong><code>FileSystem</code></strong> è·å–ã€‚</li><li>java11+ç”¨<code>Path.of()</code>è·å–</li></ul><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹ä»£ç </th></tr></thead><tbody><tr><td><code>getFileName()</code></td><td>è·å–è·¯å¾„ä¸­çš„æ–‡ä»¶åï¼ˆæœ€åä¸€éƒ¨åˆ†ï¼‰</td><td><code>path.getFileName();</code></td></tr><tr><td><code>getParent()</code></td><td>è·å–çˆ¶è·¯å¾„ï¼ˆå»æ‰æœ€åä¸€éƒ¨åˆ†ï¼‰</td><td><code>path.getParent();</code></td></tr><tr><td><code>getRoot()</code></td><td>è·å–æ ¹è·¯å¾„ï¼ˆå¦‚ <code>C:\\</code> æˆ– <code>/</code>ï¼‰</td><td><code>path.getRoot();</code></td></tr><tr><td><code>toAbsolutePath()</code></td><td>è½¬æ¢ä¸ºç»å¯¹è·¯å¾„</td><td><code>path.toAbsolutePath();</code></td></tr><tr><td><code>toRealPath(LinkOption...)</code></td><td>è·å–è§„èŒƒåŒ–è·¯å¾„ï¼ˆè§£æç¬¦å·é“¾æ¥ï¼‰</td><td><code>path.toRealPath();</code></td></tr><tr><td><code>resolve(String other)</code></td><td>æ‹¼æ¥å­è·¯å¾„ï¼ˆç›¸å¯¹è·¯å¾„æ‹¼æ¥ï¼‰</td><td><code>path.resolve(&quot;subdir/file.txt&quot;);</code></td></tr><tr><td><code>resolve(Path other)</code></td><td>æ‹¼æ¥å¦ä¸€ä¸ª Path</td><td><code>path.resolve(otherPath);</code></td></tr><tr><td><code>resolveSibling(String other)</code></td><td>æ›¿æ¢æœ€åä¸€ä¸ªè·¯å¾„å…ƒç´ </td><td><code>path.resolveSibling(&quot;newFile.txt&quot;);</code></td></tr><tr><td><code>relativize(Path other)</code></td><td>è®¡ç®—ä¸¤ä¸ªè·¯å¾„çš„ç›¸å¯¹è·¯å¾„</td><td><code>path.relativize(otherPath);</code></td></tr><tr><td><code>normalize()</code></td><td>è§„èŒƒåŒ–è·¯å¾„ï¼ˆå»æ‰ <code>..</code> å’Œ <code>.</code>ï¼‰</td><td><code>path.normalize();</code></td></tr><tr><td><code>startsWith(String other)</code></td><td>åˆ¤æ–­è·¯å¾„æ˜¯å¦ä»¥æŒ‡å®šè·¯å¾„å¼€å¤´</td><td><code>path.startsWith(&quot;/home&quot;);</code></td></tr><tr><td><code>endsWith(String other)</code></td><td>åˆ¤æ–­è·¯å¾„æ˜¯å¦ä»¥æŒ‡å®šè·¯å¾„ç»“å°¾</td><td><code>path.endsWith(&quot;file.txt&quot;);</code></td></tr><tr><td><code>subpath(int beginIndex, int endIndex)</code></td><td>è·å–å­è·¯å¾„</td><td><code>path.subpath(1, 3);</code></td></tr><tr><td><code>getNameCount()</code></td><td>è·å–è·¯å¾„å…ƒç´ çš„æ•°é‡</td><td><code>path.getNameCount();</code></td></tr><tr><td><code>getName(int index)</code></td><td>è·å–è·¯å¾„ä¸­æŒ‡å®šç´¢å¼•çš„å…ƒç´ </td><td><code>path.getName(0);</code></td></tr><tr><td><code>isAbsolute()</code></td><td>åˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºç»å¯¹è·¯å¾„</td><td><code>path.isAbsolute();</code></td></tr><tr><td><code>toUri()</code></td><td>è½¬æ¢ä¸º URI</td><td><code>path.toUri();</code></td></tr><tr><td>#### Files (java.nio.file.Files)</td><td></td><td></td></tr><tr><td><code>Files</code> æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œæ“ä½œ Path æŒ‡å‘çš„æ–‡ä»¶æˆ–ç›®å½•ã€‚</td><td></td><td></td></tr></tbody></table><table tabindex="0"><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>ç¤ºä¾‹ä»£ç </th></tr></thead><tbody><tr><td><code>exists(Path path)</code></td><td>åˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨</td><td><code>Files.exists(path);</code></td></tr><tr><td><code>notExists(Path path)</code></td><td>åˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦ä¸å­˜åœ¨</td><td><code>Files.notExists(path);</code></td></tr><tr><td><code>createFile(Path path)</code></td><td>åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶</td><td><code>Files.createFile(Paths.get(&quot;test.txt&quot;));</code></td></tr><tr><td><code>createDirectory(Path dir)</code></td><td>åˆ›å»ºå•çº§ç›®å½•</td><td><code>Files.createDirectory(Paths.get(&quot;dir&quot;));</code></td></tr><tr><td><code>createDirectories(Path dir)</code></td><td>åˆ›å»ºå¤šçº§ç›®å½•</td><td><code>Files.createDirectories(Paths.get(&quot;dir/subdir&quot;));</code></td></tr><tr><td><code>delete(Path path)</code></td><td>åˆ é™¤æ–‡ä»¶æˆ–ç©ºç›®å½•</td><td><code>Files.delete(path);</code></td></tr><tr><td><code>deleteIfExists(Path path)</code></td><td>åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼ˆè‹¥å­˜åœ¨ï¼‰</td><td><code>Files.deleteIfExists(path);</code></td></tr><tr><td><code>copy(Path source, Path target, CopyOption...)</code></td><td>å¤åˆ¶æ–‡ä»¶</td><td><code>Files.copy(source, target, StandardCopyOption.REPLACE_EXISTING);</code></td></tr><tr><td><code>move(Path source, Path target, CopyOption...)</code></td><td>ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶</td><td><code>Files.move(source, target, StandardCopyOption.REPLACE_EXISTING);</code></td></tr><tr><td><code>size(Path path)</code></td><td>è·å–æ–‡ä»¶å¤§å°ï¼ˆå­—èŠ‚æ•°ï¼‰</td><td><code>Files.size(path);</code></td></tr><tr><td><code>isDirectory(Path path)</code></td><td>åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•</td><td><code>Files.isDirectory(path);</code></td></tr><tr><td><code>isRegularFile(Path path)</code></td><td>åˆ¤æ–­æ˜¯å¦ä¸ºæ™®é€šæ–‡ä»¶</td><td><code>Files.isRegularFile(path);</code></td></tr><tr><td><code>isReadable(Path path)</code></td><td>åˆ¤æ–­æ˜¯å¦å¯è¯»</td><td><code>Files.isReadable(path);</code></td></tr><tr><td><code>isWritable(Path path)</code></td><td>åˆ¤æ–­æ˜¯å¦å¯å†™</td><td><code>Files.isWritable(path);</code></td></tr><tr><td><code>isExecutable(Path path)</code></td><td>åˆ¤æ–­æ˜¯å¦å¯æ‰§è¡Œ</td><td><code>Files.isExecutable(path);</code></td></tr><tr><td><code>readAllBytes(Path path)</code></td><td>è¯»å–æ–‡ä»¶æ‰€æœ‰å­—èŠ‚</td><td><code>byte[] data = Files.readAllBytes(path);</code></td></tr><tr><td><code>readAllLines(Path path)</code></td><td>æŒ‰è¡Œè¯»å–æ–‡ä»¶ï¼Œè¿”å› <code>List&lt;String&gt;</code></td><td><code>List&lt;String&gt; lines = Files.readAllLines(path);</code></td></tr><tr><td><code>write(Path path, byte[] bytes, OpenOption...)</code></td><td>å°†å­—èŠ‚å†™å…¥æ–‡ä»¶</td><td><code>Files.write(path, &quot;Hello&quot;.getBytes());</code></td></tr><tr><td><code>write(Path path, Iterable&lt;? extends CharSequence&gt;)</code></td><td>å°†å­—ç¬¦ä¸²é›†åˆå†™å…¥æ–‡ä»¶</td><td><code>Files.write(path, List.of(&quot;line1&quot;, &quot;line2&quot;));</code></td></tr><tr><td><code>walk(Path start)</code></td><td>æ·±åº¦éå†ç›®å½•æ ‘ï¼ˆè¿”å› <code>Stream&lt;Path&gt;</code>ï¼‰</td><td><code>Files.walk(Paths.get(&quot;.&quot;))</code></td></tr><tr><td><code>walkFileTree(Path start, FileVisitor&lt;? super Path&gt; visitor)</code></td><td>éå†ç›®å½•æ ‘ï¼ˆå¯è‡ªå®šä¹‰é€»è¾‘ï¼‰</td><td><code>Files.walkFileTree(startPath, visitor);</code></td></tr><tr><td><code>newBufferedReader(Path path)</code></td><td>åˆ›å»ºä¸€ä¸ª <code>BufferedReader</code> è¯»å–æ–‡æœ¬</td><td><code>BufferedReader reader = Files.newBufferedReader(path);</code></td></tr><tr><td><code>newBufferedWriter(Path path)</code></td><td>åˆ›å»ºä¸€ä¸ª <code>BufferedWriter</code> å†™å…¥æ–‡æœ¬</td><td><code>BufferedWriter writer = Files.newBufferedWriter(path);</code></td></tr><tr><td><code>probeContentType(Path path)</code></td><td>è·å–æ–‡ä»¶ MIME ç±»å‹</td><td><code>String type = Files.probeContentType(path);</code></td></tr><tr><td>## Files+Pathä¸ä¼ ç»ŸIOåŒºåˆ«</td><td></td><td></td></tr></tbody></table><ul><li><strong>ä¼ ç»Ÿ IO</strong><ul><li><code>File</code> ä¸»è¦ç”¨æ¥è¡¨ç¤ºè·¯å¾„ï¼Œåšä¸€äº›åŸºç¡€æ“ä½œï¼ˆå¦‚ <code>exists()</code>ã€<code>delete()</code>ï¼‰ï¼Œ<strong>æ— æ³•ç›´æ¥è¯»å†™æ•°æ®</strong>ã€‚</li><li>çœŸæ­£æ•°æ®æ“ä½œéœ€è¦æ­é…æµç±»ï¼ˆ<code>FileInputStream</code>, <code>BufferedReader</code>, <code>FileWriter</code>ç­‰ï¼‰ã€‚</li><li>æ¯æ¬¡è¯»å†™éƒ½æ˜¯<strong>å•å‘æµ</strong>ï¼Œæ•ˆç‡è¾ƒä½ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†ç¼“å†²ã€‚</li></ul></li><li><strong>NIO (<code>Files</code>/<code>Path</code>)</strong><ul><li><code>Path</code> ç”¨æ¥è¡¨ç¤ºè·¯å¾„ï¼Œä»£æ›¿è€æ—§çš„ <code>File</code>ã€‚</li><li><code>Files</code> æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œ<strong>æä¾›å¤§é‡é™æ€æ–¹æ³•</strong>ï¼Œæ¯”å¦‚ï¼š <ul><li><code>Files.readAllBytes(path)</code> ä¸€æ¬¡æ€§è¯»å®Œæ•´æ–‡ä»¶å†…å®¹</li><li><code>Files.write(path, bytes)</code> ä¸€æ¬¡æ€§å†™å…¥</li><li><code>Files.copy()</code> / <code>Files.move()</code> / <code>Files.delete()</code> æ–‡ä»¶æ“ä½œéå¸¸ä¸°å¯Œã€‚</li></ul></li><li>æ”¯æŒ <strong>æ‰¹é‡ã€ç¼“å†²ã€éé˜»å¡</strong> æ“ä½œï¼Œæ€§èƒ½å¥½ã€‚</li></ul></li></ul><h2 id="åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" tabindex="-1">åºåˆ—åŒ–ä¸ååºåˆ—åŒ– <a class="header-anchor" href="#åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" aria-label="Permalink to &quot;åºåˆ—åŒ–ä¸ååºåˆ—åŒ–&quot;">â€‹</a></h2><h3 id="æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1">æ ¸å¿ƒæ¦‚å¿µ <a class="header-anchor" href="#æ ¸å¿ƒæ¦‚å¿µ" aria-label="Permalink to &quot;æ ¸å¿ƒæ¦‚å¿µ&quot;">â€‹</a></h3><ul><li><strong>åºåˆ—åŒ–</strong>ï¼šå°† Java å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚æµï¼ˆå¯å­˜å‚¨/ä¼ è¾“ï¼‰</li><li><strong>ååºåˆ—åŒ–</strong>ï¼šå°†å­—èŠ‚æµæ¢å¤ä¸º Java å¯¹è±¡</li><li>å…³é”®æ¥å£ï¼š<code>java.io.Serializable</code>ï¼ˆæ ‡è®°æ¥å£ï¼‰</li><li>æ ¸å¿ƒç±»ï¼š<code>ObjectOutputStream</code> / <code>ObjectInputStream</code></li></ul><h3 id="ç¤ºä¾‹ä»£ç -1" tabindex="-1">ç¤ºä¾‹ä»£ç  <a class="header-anchor" href="#ç¤ºä¾‹ä»£ç -1" aria-label="Permalink to &quot;ç¤ºä¾‹ä»£ç &quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.io.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. å®ç° Serializable æ¥å£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Serializable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ˜¾å¼å£°æ˜åºåˆ—åŒ–ç‰ˆæœ¬UIDï¼ˆæ¨èï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> final</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serialVersionUID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String name;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> transient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String password;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// transient å­—æ®µä¸ä¼šè¢«åºåˆ—åŒ–</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> age</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> password;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Person{name=&#39;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&#39;, age=&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> age </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               &quot;, password=&#39;&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&#39;}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SerializationDemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åŸå§‹å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Person person </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å¼ ä¸‰&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">25</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;secret123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åºåˆ—åŒ–è·¯å¾„</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String filePath </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;person.ser&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // === åºåˆ—åŒ– ===</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ObjectOutputStream oos </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ObjectOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filePath))) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            oos.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">writeObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(person);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¹è±¡è½¬å­—èŠ‚æµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åºåˆ—åŒ–æˆåŠŸï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> person);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // === ååºåˆ—åŒ– ===</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ObjectInputStream ois </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ObjectInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FileInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(filePath))) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Person restoredPerson </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Person) ois.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å­—èŠ‚æµè½¬å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ååºåˆ—åŒ–ç»“æœï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> restoredPerson);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException | ClassNotFoundException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h1 id="æ³¨è§£" tabindex="-1">æ³¨è§£ <a class="header-anchor" href="#æ³¨è§£" aria-label="Permalink to &quot;æ³¨è§£&quot;">â€‹</a></h1><h3 id="æ¦‚å¿µ" tabindex="-1">æ¦‚å¿µ <a class="header-anchor" href="#æ¦‚å¿µ" aria-label="Permalink to &quot;æ¦‚å¿µ&quot;">â€‹</a></h3><p>æ³¨è§£æ˜¯JDK1.5ç‰ˆæœ¬å¼€å§‹å¼•å…¥çš„ä¸€ä¸ªç‰¹æ€§ï¼Œç”¨äºå¯¹ä»£ç è¿›è¡Œè¯´æ˜ï¼Œå¯ä»¥å¯¹åŒ…ã€ç±»ã€æ¥å£ã€å­—æ®µã€æ–¹æ³•å‚æ•°ã€å±€éƒ¨å˜é‡ç­‰è¿›è¡Œæ³¨è§£ã€‚</p><p><strong>ä½œç”¨:</strong></p><ul><li>ç”Ÿæˆæ–‡æ¡£ï¼Œé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„å…ƒæ•°æ®ç”Ÿæˆjavadocæ–‡æ¡£ã€‚</li><li>ç¼–è¯‘æ£€æŸ¥ï¼Œé€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„å…ƒæ•°æ®è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸé—´è¿›è¡Œæ£€æŸ¥éªŒè¯ã€‚</li><li>ç¼–è¯‘æ—¶åŠ¨æ€å¤„ç†ï¼Œç¼–è¯‘æ—¶é€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„å…ƒæ•°æ®åŠ¨æ€å¤„ç†ï¼Œä¾‹å¦‚åŠ¨æ€ç”Ÿæˆä»£ç ã€‚</li><li>è¿è¡Œæ—¶åŠ¨æ€å¤„ç†ï¼Œè¿è¡Œæ—¶é€šè¿‡ä»£ç é‡Œæ ‡è¯†çš„å…ƒæ•°æ®åŠ¨æ€å¤„ç†ï¼Œä¾‹å¦‚ä½¿ç”¨åå°„æ³¨å…¥å®ä¾‹ã€‚</li></ul><p><strong>æœ¬è´¨:</strong> æ³¨è§£@interface æ˜¯ä¸€ä¸ªå®ç°äº†Annotationæ¥å£çš„ æ¥å£ï¼Œ ç„¶ååœ¨è°ƒç”¨getDeclaredAnnotations()æ–¹æ³•çš„æ—¶å€™ï¼Œè¿”å›ä¸€ä¸ªä»£ç†$Proxyå¯¹è±¡ï¼Œè¿™ä¸ªæ˜¯ä½¿ç”¨jdkåŠ¨æ€ä»£ç†åˆ›å»ºï¼Œä½¿ç”¨Proxyçš„newProxyInstanceæ–¹æ³•ï¼Œä¼ å…¥æ¥å£ å’ŒInvocationHandlerçš„ä¸€ä¸ªå®ä¾‹(ä¹Ÿå°±æ˜¯ AnotationInvocationHandler ) ï¼Œæœ€åè¿”å›ä¸€ä¸ªå®ä¾‹ã€‚</p><p><strong>åˆ†ç±»:</strong></p><ul><li><strong>Javaè‡ªå¸¦çš„æ ‡å‡†æ³¨è§£</strong>ï¼ŒåŒ…æ‹¬<code>@Override</code>ã€<code>@Deprecated</code>å’Œ<code>@SuppressWarnings</code>ï¼Œåˆ†åˆ«ç”¨äºæ ‡æ˜é‡å†™æŸä¸ªæ–¹æ³•ã€æ ‡æ˜æŸä¸ªç±»æˆ–æ–¹æ³•è¿‡æ—¶ã€æ ‡æ˜è¦å¿½ç•¥çš„è­¦å‘Šï¼Œç”¨è¿™äº›æ³¨è§£æ ‡æ˜åç¼–è¯‘å™¨å°±ä¼šè¿›è¡Œæ£€æŸ¥ã€‚</li><li><strong>å…ƒæ³¨è§£</strong>ï¼Œå…ƒæ³¨è§£æ˜¯ç”¨äºå®šä¹‰æ³¨è§£çš„æ³¨è§£ï¼ŒåŒ…æ‹¬<code>@Retention</code>ã€<code>@Target</code>ã€<code>@Inherited</code>ã€<code>@Documented</code>ï¼Œ<code>@Retention</code>ç”¨äºæ ‡æ˜æ³¨è§£è¢«ä¿ç•™çš„é˜¶æ®µï¼Œ<code>@Target</code>ç”¨äºæ ‡æ˜æ³¨è§£ä½¿ç”¨çš„èŒƒå›´ï¼Œ<code>@Inherited</code>ç”¨äºæ ‡æ˜æ³¨è§£å¯ç»§æ‰¿ï¼Œ<code>@Documented</code>ç”¨äºæ ‡æ˜æ˜¯å¦ç”Ÿæˆjavadocæ–‡æ¡£ã€‚</li><li><strong>è‡ªå®šä¹‰æ³¨è§£</strong>ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šä¹‰æ³¨è§£ï¼Œå¹¶å¯ç”¨å…ƒæ³¨è§£å¯¹è‡ªå®šä¹‰æ³¨è§£è¿›è¡Œæ³¨è§£ã€‚</li></ul><h3 id="javaè‡ªå¸¦çš„æ ‡å‡†æ³¨è§£" tabindex="-1">Javaè‡ªå¸¦çš„æ ‡å‡†æ³¨è§£ <a class="header-anchor" href="#javaè‡ªå¸¦çš„æ ‡å‡†æ³¨è§£" aria-label="Permalink to &quot;Javaè‡ªå¸¦çš„æ ‡å‡†æ³¨è§£&quot;">â€‹</a></h3><ul><li><code>@Override</code> æ ‡æ³¨æ–¹æ³•æ˜¯<strong>é‡å†™çˆ¶ç±»æˆ–æ¥å£æ–¹æ³•</strong>ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥æ˜¯å¦æ­£ç¡®ã€‚</li><li><code>@Deprecated</code> è¡¨ç¤ºè¯¥å…ƒç´ <strong>å·²è¿‡æ—¶</strong>ï¼Œä½¿ç”¨æ—¶ä¼šæœ‰è­¦å‘Šã€‚</li><li><code>@SuppressWarnings</code> <strong>å…³é—­ç¼–è¯‘å™¨è­¦å‘Š</strong>ï¼Œå¦‚ <code>@SuppressWarnings(&quot;unchecked&quot;)</code>ã€‚</li><li><code>@SafeVarargs</code> <strong>å‘Šè¯‰ç¼–è¯‘å™¨å¯å˜å‚æ•°æ˜¯å®‰å…¨çš„</strong>ï¼ˆç”¨äºæ³›å‹å¯å˜å‚æ•°ï¼‰ã€‚</li><li><code>@FunctionalInterface</code> è¡¨ç¤ºæ¥å£æ˜¯<strong>å‡½æ•°å¼æ¥å£</strong>ï¼ˆåªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼‰ã€‚</li></ul><table tabindex="0"><thead><tr><th>å‚æ•°</th><th>ä½œç”¨è¯´æ˜</th></tr></thead><tbody><tr><td><code>&quot;all&quot;</code></td><td>å¿½ç•¥æ‰€æœ‰è­¦å‘Šï¼ˆä¸æ¨èï¼Œå¤ªç²—æš´ï¼‰</td></tr><tr><td><code>&quot;unchecked&quot;</code></td><td>å¿½ç•¥ <strong>æœªæ£€æŸ¥çš„ç±»å‹è½¬æ¢è­¦å‘Š</strong>ï¼ˆæ³›å‹ç›¸å…³ï¼‰</td></tr><tr><td><code>&quot;deprecation&quot;</code></td><td>å¿½ç•¥ <strong>ä½¿ç”¨å·²è¿‡æ—¶ API</strong> çš„è­¦å‘Š</td></tr><tr><td><code>&quot;rawtypes&quot;</code></td><td>å¿½ç•¥ <strong>æ³›å‹ä½¿ç”¨åŸå§‹ç±»å‹</strong> çš„è­¦å‘Š</td></tr><tr><td><code>&quot;unused&quot;</code></td><td>å¿½ç•¥ <strong>æœªä½¿ç”¨çš„å˜é‡ã€æ–¹æ³•ã€å¯¼å…¥ç­‰</strong> çš„è­¦å‘Š</td></tr><tr><td><code>&quot;cast&quot;</code></td><td>å¿½ç•¥ <strong>ä¸å¿…è¦çš„ç±»å‹è½¬æ¢</strong> è­¦å‘Š</td></tr><tr><td><code>&quot;serial&quot;</code></td><td>å¿½ç•¥ <strong>ç¼ºå°‘ <code>serialVersionUID</code></strong> çš„è­¦å‘Šï¼ˆé’ˆå¯¹å¯åºåˆ—åŒ–çš„ç±»ï¼‰</td></tr><tr><td><code>&quot;fallthrough&quot;</code></td><td>å¿½ç•¥ <strong>switch è¯­å¥ä¸­ case ç©¿é€</strong>ï¼ˆæ²¡æœ‰ breakï¼‰ çš„è­¦å‘Š</td></tr><tr><td><code>&quot;finally&quot;</code></td><td>å¿½ç•¥ <strong>finally å—æ— æ³•æ­£å¸¸è¿”å›</strong> çš„è­¦å‘Š</td></tr><tr><td><code>&quot;hiding&quot;</code></td><td>å¿½ç•¥ <strong>éšè—çˆ¶ç±»å˜é‡</strong> çš„è­¦å‘Š</td></tr><tr><td><code>&quot;divzero&quot;</code></td><td>å¿½ç•¥ <strong>é™¤é›¶è¿ç®—</strong> çš„è­¦å‘Š</td></tr><tr><td><code>InfiniteLoopStatement</code></td><td>å¿½ç•¥æ­»å¾ªç¯</td></tr><tr><td>### å…ƒæ³¨è§£</td><td></td></tr></tbody></table><ul><li><code>@Target</code> æŒ‡å®šæ³¨è§£èƒ½ç”¨åœ¨ä»€ä¹ˆä½ç½®ï¼ˆç±»ã€æ–¹æ³•ã€å­—æ®µç­‰ï¼‰ã€‚<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ElementType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç±»ã€æ¥å£ã€æšä¸¾ç±» </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	FIELD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆå‘˜å˜é‡ï¼ˆåŒ…æ‹¬ï¼šæšä¸¾å¸¸é‡ï¼‰ </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	METHOD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æˆå‘˜æ–¹æ³• </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	PARAMETER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–¹æ³•å‚æ•° </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	CONSTRUCTOR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ„é€ æ–¹æ³• </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	LOCAL_VARIABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å±€éƒ¨å˜é‡ </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	ANNOTATION_TYPE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ³¨è§£ç±» </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	PACKAGE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ç”¨äºä¿®é¥°ï¼šåŒ… </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	TYPE_PARAMETER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç±»å‹å‚æ•°ï¼ŒJDK 1.8 æ–°å¢ </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	TYPE_USE</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // ä½¿ç”¨ç±»å‹çš„ä»»ä½•åœ°æ–¹ï¼ŒJDK 1.8 æ–°å¢ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><code>@Retention</code> æŒ‡å®šæ³¨è§£ä¿ç•™åˆ°ä»€ä¹ˆæ—¶å€™ï¼ˆæºä»£ç ã€å­—èŠ‚ç ã€è¿è¡Œæ—¶ï¼‰ã€‚<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> enum</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RetentionPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	SOURCE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æºæ–‡ä»¶ä¿ç•™ </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	CLASS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¼–è¯‘æœŸä¿ç•™ï¼Œé»˜è®¤å€¼ </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	RUNTIME</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // è¿è¡ŒæœŸä¿ç•™ï¼Œå¯é€šè¿‡åå°„å»è·å–æ³¨è§£ä¿¡æ¯ </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li><code>@Documented</code> è¡¨ç¤ºæ³¨è§£ä¼šè¢« javadoc æå–åˆ°æ–‡æ¡£ä¸­ã€‚</li><li><code>@Inherited</code> å…è®¸å­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ³¨è§£ï¼ˆ<strong>åªå¯¹ç±»æœ‰æ•ˆ</strong>ï¼‰ã€‚</li><li><code>@Repeatable</code> å…è®¸åŒä¸€ä¸ªæ³¨è§£åœ¨åŒä¸€ä¸ªä½ç½®é‡å¤ä½¿ç”¨ï¼ˆJava 8+ï¼‰ã€‚</li></ul><h3 id="è‡ªå®šä¹‰æ³¨è§£" tabindex="-1">è‡ªå®šä¹‰æ³¨è§£ <a class="header-anchor" href="#è‡ªå®šä¹‰æ³¨è§£" aria-label="Permalink to &quot;è‡ªå®šä¹‰æ³¨è§£&quot;">â€‹</a></h3><h4 id="_1-å®šä¹‰æ³¨è§£" tabindex="-1">1. å®šä¹‰æ³¨è§£ <a class="header-anchor" href="#_1-å®šä¹‰æ³¨è§£" aria-label="Permalink to &quot;1. å®šä¹‰æ³¨è§£&quot;">â€‹</a></h4><ul><li>ä½¿ç”¨ <code>@interface</code> å®šä¹‰ï¼š<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span></code></pre></div></li></ul><p>@Target({ElementType.TYPE, ElementType.METHOD}) // ä½œç”¨èŒƒå›´ï¼šæ–¹æ³•å’Œç±» @Retention(RetentionPolicy.RUNTIME) // ä¿ç•™ç­–ç•¥ï¼šè¿è¡Œæ—¶ public @interface MyAnnotation { String value() default &quot;&quot;; // å¯ä»¥ä½¿ç”¨é»˜è®¤å€¼ }</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span></span></span>
<span class="line"><span>- å±æ€§æ”¯æŒçš„ç±»å‹ï¼šåŸºæœ¬ç±»å‹ã€Stringã€Classã€æšä¸¾ã€æ³¨è§£ã€è¿™äº›ç±»å‹çš„æ•°ç»„ã€‚</span></span>
<span class="line"><span>- å¯ä»¥ä½¿ç”¨å…ƒæ³¨è§£</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#### 2.ä½¿ç”¨æ³¨è§£</span></span>
<span class="line"><span></span></span>
<span class="line"><span>\`\`\`java</span></span>
<span class="line"><span>@MyAnnotation(&quot;classLevel&quot;)</span></span>
<span class="line"><span>public class Demo {</span></span>
<span class="line"><span>    @MyAnnotation(&quot;methodLevel&quot;)</span></span>
<span class="line"><span>    public void test() {}</span></span>
<span class="line"><span>}</span></span></code></pre></div><h4 id="_3-åå°„è·å–æ³¨è§£" tabindex="-1">3. åå°„è·å–æ³¨è§£ <a class="header-anchor" href="#_3-åå°„è·å–æ³¨è§£" aria-label="Permalink to &quot;3. åå°„è·å–æ³¨è§£&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Class&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; clazz </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Demo.class;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¯»å–ç±»æ³¨è§£</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isAnnotationPresent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyAnnotation.class)) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MyAnnotation anno </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAnnotation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyAnnotation.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(anno.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¯»å–æ–¹æ³•æ³¨è§£</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Method m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> clazz.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">MyAnnotation anno2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> m.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAnnotation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyAnnotation.class);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(anno2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><h1 id="å¤šçº¿ç¨‹" tabindex="-1">å¤šçº¿ç¨‹ <a class="header-anchor" href="#å¤šçº¿ç¨‹" aria-label="Permalink to &quot;å¤šçº¿ç¨‹&quot;">â€‹</a></h1><h2 id="ä¸‰ç§å®ç°æ–¹å¼" tabindex="-1">ä¸‰ç§å®ç°æ–¹å¼ <a class="header-anchor" href="#ä¸‰ç§å®ç°æ–¹å¼" aria-label="Permalink to &quot;ä¸‰ç§å®ç°æ–¹å¼&quot;">â€‹</a></h2><h3 id="_1-ç»§æ‰¿threadæ–¹å¼" tabindex="-1">1.ç»§æ‰¿Threadæ–¹å¼ <a class="header-anchor" href="#_1-ç»§æ‰¿threadæ–¹å¼" aria-label="Permalink to &quot;1.ç»§æ‰¿Threadæ–¹å¼&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyThread</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot; is running&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MyThread t1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyThread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        t1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;çº¿ç¨‹1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        t1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¼€å¯çº¿ç¨‹  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-å®ç°runnableæ¥å£çš„æ–¹å¼è¿›è¡Œå®ç°" tabindex="-1">2.å®ç°Runnableæ¥å£çš„æ–¹å¼è¿›è¡Œå®ç° <a class="header-anchor" href="#_2-å®ç°runnableæ¥å£çš„æ–¹å¼è¿›è¡Œå®ç°" aria-label="Permalink to &quot;2.å®ç°Runnableæ¥å£çš„æ–¹å¼è¿›è¡Œå®ç°&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyRun</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Runnable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Thread thread </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›å½“å‰çº¿ç¨‹å¯¹è±¡  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;is running&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MyRun myRun </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyRun</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Thread thread </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(myRun);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyThread&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-åˆ©ç”¨callableæ¥å£å’Œfutureæ¥å£æ–¹å¼å®ç°" tabindex="-1">3.åˆ©ç”¨Callableæ¥å£å’ŒFutureæ¥å£æ–¹å¼å®ç° <a class="header-anchor" href="#_3-åˆ©ç”¨callableæ¥å£å’Œfutureæ¥å£æ–¹å¼å®ç°" aria-label="Permalink to &quot;3.åˆ©ç”¨Callableæ¥å£å’ŒFutureæ¥å£æ–¹å¼å®ç°&quot;">â€‹</a></h3><p>å¯ä»¥è·å–åˆ°å¤šçº¿ç¨‹è¿è¡Œçš„ç»“æœ</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.concurrent.Callable;  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.concurrent.ExecutionException;  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.concurrent.FutureTask;  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyCallable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Callable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">call</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Exception {  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;çº¿ç¨‹è¿”å›ç»“æœ&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ExecutionException, InterruptedException {  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        MyCallable myCallable </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyCallable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        FutureTask&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; futur                                            eTask </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FutureTask&lt;&gt;(myCallable);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç®¡ç†å¤šçº¿ç¨‹è¿è¡Œç»“æœ  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Thread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(futureTask).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> futureTask.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result);  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="threadå¸¸ç”¨æˆå‘˜æ–¹æ³•" tabindex="-1">Threadå¸¸ç”¨æˆå‘˜æ–¹æ³• <a class="header-anchor" href="#threadå¸¸ç”¨æˆå‘˜æ–¹æ³•" aria-label="Permalink to &quot;Threadå¸¸ç”¨æˆå‘˜æ–¹æ³•&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>æ–¹æ³•åç§°</th><th>è¯´æ˜</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td><code>String getName()</code></td><td>è¿”å›æ­¤çº¿ç¨‹çš„åç§°</td><td></td></tr><tr><td><code>void setName(String name)</code></td><td>è®¾ç½®çº¿ç¨‹çš„åå­—ï¼ˆæ„é€ æ–¹æ³•ä¹Ÿå¯ä»¥è®¾ç½®åå­—ï¼‰</td><td></td></tr><tr><td><code>static Thread currentThread()</code></td><td>è·å–å½“å‰çº¿ç¨‹çš„å¯¹è±¡</td><td></td></tr><tr><td><code>static void sleep(long time)</code></td><td>è®©çº¿ç¨‹ä¼‘çœ æŒ‡å®šçš„æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’</td><td>å¾ªç¯ä¸­ä¼šå¤§é‡å ç”¨cpuèµ„æº</td></tr><tr><td><code>setPriority(int newPriority)</code></td><td>è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§</td><td></td></tr><tr><td><code>final int getPriority()</code></td><td>è·å–çº¿ç¨‹çš„ä¼˜å…ˆçº§</td><td></td></tr><tr><td><code>final void setDaemon(boolean on)</code></td><td>è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</td><td></td></tr><tr><td><code>public static void yield()</code></td><td>å‡ºè®©çº¿ç¨‹/ç¤¼è®©çº¿ç¨‹</td><td></td></tr><tr><td><code>public static void join()</code></td><td>æ’å…¥çº¿ç¨‹/æ’é˜Ÿçº¿ç¨‹</td><td></td></tr></tbody></table><h2 id="å…¶ä»–æ¦‚å¿µ" tabindex="-1">å…¶ä»–æ¦‚å¿µ <a class="header-anchor" href="#å…¶ä»–æ¦‚å¿µ" aria-label="Permalink to &quot;å…¶ä»–æ¦‚å¿µ&quot;">â€‹</a></h2><h3 id="çº¿ç¨‹ä¼˜å…ˆçº§" tabindex="-1">çº¿ç¨‹ä¼˜å…ˆçº§ <a class="header-anchor" href="#çº¿ç¨‹ä¼˜å…ˆçº§" aria-label="Permalink to &quot;çº¿ç¨‹ä¼˜å…ˆçº§&quot;">â€‹</a></h3><p>æ˜¯Javaä¸­ç”¨äºæ§åˆ¶çº¿ç¨‹è°ƒåº¦é¡ºåºçš„æœºåˆ¶ï¼Œå–å€¼èŒƒå›´ä¸º1ï¼ˆæœ€ä½ï¼‰åˆ°10ï¼ˆæœ€é«˜ï¼‰ï¼Œé»˜è®¤ä¼˜å…ˆçº§ä¸º5ã€‚é€šè¿‡<code>setPriority()</code>æ–¹æ³•å¯ä»¥è°ƒæ•´çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹åœ¨ç«äº‰CPUèµ„æºæ—¶<strong>æ›´å¯èƒ½</strong>è¢«ä¼˜å…ˆæ‰§è¡Œï¼Œä½†æœ€ç»ˆæ‰§è¡Œé¡ºåºä»ç”±æ“ä½œç³»ç»Ÿå†³å®šï¼Œå› æ­¤ä¸èƒ½ä¿è¯ç»å¯¹ä¼˜å…ˆã€‚ä¸åŒJVMå’Œæ“ä½œç³»ç»Ÿå¯¹ä¼˜å…ˆçº§çš„å¤„ç†æ–¹å¼å¯èƒ½ä¸åŒï¼Œé«˜ä¼˜å…ˆçº§çº¿ç¨‹å¯èƒ½å¯¼è‡´ä½ä¼˜å…ˆçº§çº¿ç¨‹â€œé¥¥é¥¿â€ï¼Œå› æ­¤ä¼˜å…ˆçº§ä»…ä½œä¸ºä¼˜åŒ–å»ºè®®ï¼Œä¸èƒ½æ›¿ä»£çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼ˆå¦‚é”ã€<code>join()</code>ç­‰ï¼‰æ¥ç¡®ä¿æ‰§è¡Œé¡ºåºã€‚</p><h3 id="å®ˆæŠ¤çº¿ç¨‹-daemon-thread" tabindex="-1">å®ˆæŠ¤çº¿ç¨‹ï¼ˆDaemon Threadï¼‰ <a class="header-anchor" href="#å®ˆæŠ¤çº¿ç¨‹-daemon-thread" aria-label="Permalink to &quot;å®ˆæŠ¤çº¿ç¨‹ï¼ˆDaemon Threadï¼‰&quot;">â€‹</a></h3><p>æ˜¯Javaä¸­çš„ä¸€ç§åå°æœåŠ¡çº¿ç¨‹ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä¾èµ–äºéå®ˆæŠ¤çº¿ç¨‹ï¼ˆç”¨æˆ·çº¿ç¨‹ï¼‰ã€‚å½“æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹ç»“æŸæ—¶ï¼Œå³ä½¿å®ˆæŠ¤çº¿ç¨‹ä»åœ¨è¿è¡Œï¼ŒJVMä¹Ÿä¼šç›´æ¥é€€å‡º <em>ç‰¹ç‚¹æ€»ç»“ï¼š</em></p><ol><li><strong>è‡ªåŠ¨ç»ˆæ­¢</strong>ï¼šå½“æ‰€æœ‰ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå®ˆæŠ¤çº¿ç¨‹ä¼šè¢«å¼ºåˆ¶ç»ˆæ­¢ï¼Œæ— è®ºæ˜¯å¦æ‰§è¡Œå®Œä»»åŠ¡ã€‚</li><li><strong>ä½ä¼˜å…ˆçº§</strong>ï¼šé€šå¸¸ç”¨äºåå°æ”¯æŒä»»åŠ¡ï¼ˆå¦‚åƒåœ¾å›æ”¶ã€æ—¥å¿—å†™å…¥ã€å¿ƒè·³æ£€æµ‹ç­‰ï¼‰ï¼Œä¸ä¼šé˜»æ­¢JVMé€€å‡ºã€‚</li><li><strong>è®¾ç½®æ–¹æ³•</strong>ï¼šé€šè¿‡<code>setDaemon(true)</code>å°†çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼ˆ<strong>å¿…é¡»åœ¨<code>start()</code>å‰è°ƒç”¨</strong>ï¼‰ã€‚</li><li><strong>ä¸å¯é€†æ€§</strong>ï¼šä¸€æ—¦çº¿ç¨‹å¯åŠ¨ï¼Œä¸èƒ½å†ä»å®ˆæŠ¤çº¿ç¨‹æ”¹ä¸ºç”¨æˆ·çº¿ç¨‹ã€‚</li><li><strong>å­çº¿ç¨‹ç»§æ‰¿å±æ€§</strong>ï¼šç”±å®ˆæŠ¤çº¿ç¨‹åˆ›å»ºçš„çº¿ç¨‹é»˜è®¤ä¹Ÿæ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚</li></ol><h3 id="ç¤¼è®©çº¿ç¨‹-yield" tabindex="-1">ç¤¼è®©çº¿ç¨‹ï¼ˆyieldï¼‰ <a class="header-anchor" href="#ç¤¼è®©çº¿ç¨‹-yield" aria-label="Permalink to &quot;ç¤¼è®©çº¿ç¨‹ï¼ˆyieldï¼‰&quot;">â€‹</a></h3><p><strong><code>yield()</code>Â æ˜¯Threadç±»çš„é™æ€æ–¹æ³•ï¼Œç”¨äºæç¤ºå½“å‰çº¿ç¨‹ä¸»åŠ¨è®©å‡ºCPUèµ„æºï¼Œä½¿çº¿ç¨‹è°ƒåº¦å™¨é‡æ–°åˆ†é…æ‰§è¡Œæœºä¼šï¼Œä½†æ— æ³•ä¿è¯å…¶ä»–çº¿ç¨‹ä¸€å®šä¼šè·å¾—æ‰§è¡Œæƒã€‚</strong>Â è°ƒç”¨<code>yield()</code>åï¼Œçº¿ç¨‹ä¼šä»è¿è¡ŒçŠ¶æ€è½¬ä¸ºå°±ç»ªçŠ¶æ€ï¼Œä¸å…¶ä»–çº¿ç¨‹é‡æ–°ç«äº‰CPUæ—¶é—´ç‰‡ã€‚å®ƒé€‚ç”¨äºä¼˜åŒ–å¤šçº¿ç¨‹ä»»åŠ¡çš„åä½œï¼Œé¿å…æŸä¸ªçº¿ç¨‹é•¿æ—¶é—´å ç”¨CPUï¼Œä½†å®é™…æ•ˆæœå–å†³äºæ“ä½œç³»ç»Ÿçš„è°ƒåº¦ç­–ç•¥ï¼Œä¸èƒ½å®Œå…¨ä¾èµ–ã€‚</p><h3 id="æ’å…¥çº¿ç¨‹-join" tabindex="-1">æ’å…¥çº¿ç¨‹ï¼ˆjoinï¼‰ <a class="header-anchor" href="#æ’å…¥çº¿ç¨‹-join" aria-label="Permalink to &quot;æ’å…¥çº¿ç¨‹ï¼ˆjoinï¼‰&quot;">â€‹</a></h3><p><strong><code>join()</code>Â æ–¹æ³•ç”¨äºå¼ºåˆ¶å½“å‰çº¿ç¨‹ç­‰å¾…ç›®æ ‡çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åå†ç»§ç»­è¿è¡Œï¼Œå®ç°çº¿ç¨‹çš„â€œæ’é˜Ÿâ€æ•ˆæœã€‚</strong>Â è°ƒç”¨<code>thread.join()</code>æ—¶ï¼Œå½“å‰çº¿ç¨‹ä¼šé˜»å¡ï¼Œç›´åˆ°<code>thread</code>çº¿ç¨‹ç»ˆæ­¢ã€‚å¯æŒ‡å®šè¶…æ—¶æ—¶é—´ï¼ˆå¦‚<code>join(1000)</code>ï¼‰ï¼Œé¿å…æ— é™ç­‰å¾…ã€‚å¸¸ç”¨äºéœ€è¦ç¡®ä¿çº¿ç¨‹æ‰§è¡Œé¡ºåºçš„åœºæ™¯ï¼Œä¾‹å¦‚ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹å®Œæˆæ•°æ®å¤„ç†åå†æ±‡æ€»ç»“æœã€‚è‹¥æœªæ­£ç¡®ä½¿ç”¨ï¼Œå¯èƒ½å¯¼è‡´æ­»é”æˆ–æ€§èƒ½é—®é¢˜ã€‚</p><h2 id="çº¿ç¨‹å®‰å…¨ä¸åŒæ­¥æœºåˆ¶è¯¦è§£" tabindex="-1">çº¿ç¨‹å®‰å…¨ä¸åŒæ­¥æœºåˆ¶è¯¦è§£ <a class="header-anchor" href="#çº¿ç¨‹å®‰å…¨ä¸åŒæ­¥æœºåˆ¶è¯¦è§£" aria-label="Permalink to &quot;çº¿ç¨‹å®‰å…¨ä¸åŒæ­¥æœºåˆ¶è¯¦è§£&quot;">â€‹</a></h2><h3 id="çº¿ç¨‹å®‰å…¨é—®é¢˜" tabindex="-1">çº¿ç¨‹å®‰å…¨é—®é¢˜ <a class="header-anchor" href="#çº¿ç¨‹å®‰å…¨é—®é¢˜" aria-label="Permalink to &quot;çº¿ç¨‹å®‰å…¨é—®é¢˜&quot;">â€‹</a></h3><p>çº¿ç¨‹å®‰å…¨é—®é¢˜æ˜¯æŒ‡å½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å…±äº«èµ„æºæ—¶ï¼Œå¯èƒ½å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´æˆ–ç¨‹åºè¡Œä¸ºå¼‚å¸¸çš„é—®é¢˜ã€‚ä¸»è¦åŸå› åŒ…æ‹¬ï¼š</p><ol><li><strong>ç«æ€æ¡ä»¶</strong>ï¼šå¤šä¸ªçº¿ç¨‹å¯¹åŒä¸€æ•°æ®è¿›è¡Œæ“ä½œï¼Œæ‰§è¡Œç»“æœå–å†³äºçº¿ç¨‹æ‰§è¡Œçš„é¡ºåº</li><li><strong>å†…å­˜å¯è§æ€§</strong>ï¼šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„ä¿®æ”¹å¯èƒ½ä¸ä¼šç«‹å³å¯¹å…¶ä»–çº¿ç¨‹å¯è§</li><li><strong>æŒ‡ä»¤é‡æ’åº</strong>ï¼šç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯èƒ½å¯¹æŒ‡ä»¤è¿›è¡Œé‡æ’åºï¼Œå¯¼è‡´æ„å¤–çš„æ‰§è¡Œé¡ºåº</li></ol><h3 id="åŒæ­¥ä»£ç å—" tabindex="-1">åŒæ­¥ä»£ç å— <a class="header-anchor" href="#åŒæ­¥ä»£ç å—" aria-label="Permalink to &quot;åŒæ­¥ä»£ç å—&quot;">â€‹</a></h3><p>åŒæ­¥ä»£ç å—æ˜¯æœ€åŸºæœ¬çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼Œä½¿ç”¨<code>synchronized</code>å…³é”®å­—ï¼š</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">synchronized</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lockObject) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // éœ€è¦åŒæ­¥çš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>é”å¯¹è±¡å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œä½†é€šå¸¸ä½¿ç”¨ä¸“é—¨çš„å¯¹è±¡<code>MyThread.class</code>ä½œä¸ºé”</li><li><strong>åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è¿›å…¥åŒæ­¥ä»£ç å—</strong></li><li>è¿›å…¥åŒæ­¥ä»£ç å—å‰ä¼šè·å–é”ï¼Œé€€å‡ºæ—¶ä¼šé‡Šæ”¾é”</li></ul><h3 id="åŒæ­¥æ–¹æ³•" tabindex="-1">åŒæ­¥æ–¹æ³• <a class="header-anchor" href="#åŒæ­¥æ–¹æ³•" aria-label="Permalink to &quot;åŒæ­¥æ–¹æ³•&quot;">â€‹</a></h3><p>å°†æ•´ä¸ªæ–¹æ³•å£°æ˜ä¸ºåŒæ­¥æ–¹æ³•ï¼š</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> synchronized</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ–¹æ³•ä½“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>å®ä¾‹æ–¹æ³•çš„é”æ˜¯å½“å‰å®ä¾‹å¯¹è±¡(this)</li><li>é™æ€æ–¹æ³•çš„é”æ˜¯å½“å‰ç±»çš„Classå¯¹è±¡</li></ul><h3 id="é”æœºåˆ¶" tabindex="-1">é”æœºåˆ¶ <a class="header-anchor" href="#é”æœºåˆ¶" aria-label="Permalink to &quot;é”æœºåˆ¶&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Lock lock </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReentrantLock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–é”   è‹¥å·²è¢«å…¶ä»–çº¿ç¨‹è·å–åˆ™é˜»å¡å½“å‰çº¿ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä¸´ç•ŒåŒºä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¿…é¡»åœ¨finallyå—ä¸­é‡Šæ”¾é”</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><code>ReentrantLock</code>ç‰¹æ€§ï¼š</p><ul><li>å¯é‡å…¥ï¼šåŒä¸€çº¿ç¨‹å¯ä»¥å¤šæ¬¡è·å–åŒä¸€æŠŠé”</li><li>å…¬å¹³æ€§ï¼šå¯ä»¥è®¾ç½®ä¸ºå…¬å¹³é”ï¼ˆæŒ‰ç”³è¯·é¡ºåºè·å–é”ï¼‰æˆ–ä¸å…¬å¹³é”</li><li>å¯ä¸­æ–­ï¼š<code>lockInterruptibly()</code>æ–¹æ³•å¯å“åº”ä¸­æ–­</li><li>å°è¯•è·å–é”ï¼š<code>tryLock()</code>å°è¯•éé˜»å¡è·å–é”</li></ul><h3 id="ç­‰å¾…-å”¤é†’æœºåˆ¶" tabindex="-1">ç­‰å¾…/å”¤é†’æœºåˆ¶ <a class="header-anchor" href="#ç­‰å¾…-å”¤é†’æœºåˆ¶" aria-label="Permalink to &quot;ç­‰å¾…/å”¤é†’æœºåˆ¶&quot;">â€‹</a></h3><h4 id="objectç±»çš„wait-notify" tabindex="-1">Objectç±»çš„wait/notify <a class="header-anchor" href="#objectç±»çš„wait-notify" aria-label="Permalink to &quot;Objectç±»çš„wait/notify&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">synchronized</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lock) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(æ¡ä»¶ä¸æ»¡è¶³) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wait</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é‡Šæ”¾é”å¹¶ç­‰å¾…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ‰§è¡Œæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">notifyAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><code>wait()</code>ï¼šé‡Šæ”¾é”å¹¶è¿›å…¥ç­‰å¾…çŠ¶æ€</li><li><code>notify()</code>ï¼šéšæœºå”¤é†’ä¸€ä¸ªç­‰å¾…çº¿ç¨‹</li><li><code>notifyAll()</code>ï¼šå”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹</li><li>å¿…é¡»åœ¨åŒæ­¥ä»£ç å—ä¸­ä½¿ç”¨</li></ul><h4 id="conditionæ¥å£" tabindex="-1">Conditionæ¥å£ <a class="header-anchor" href="#conditionæ¥å£" aria-label="Permalink to &quot;Conditionæ¥å£&quot;">â€‹</a></h4><p>ä¸Locké…åˆä½¿ç”¨çš„æ›´çµæ´»çš„ç­‰å¾…/é€šçŸ¥æœºåˆ¶ï¼š</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Lock lock </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReentrantLock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Condition condition </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newCondition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(æ¡ä»¶ä¸æ»¡è¶³) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        condition.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç±»ä¼¼wait()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ‰§è¡Œæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    condition.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">signalAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç±»ä¼¼notifyAll()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    lock.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unlock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Conditionä¼˜ç‚¹ï¼š</p><ul><li>ä¸€ä¸ªLockå¯ä»¥åˆ›å»ºå¤šä¸ªCondition</li><li>æ”¯æŒä¸å“åº”ä¸­æ–­çš„ç­‰å¾…ã€å®šæ—¶ç­‰å¾…ç­‰</li></ul><h3 id="çº¿ç¨‹å®‰å…¨çš„æœ€ä½³å®è·µ" tabindex="-1">çº¿ç¨‹å®‰å…¨çš„æœ€ä½³å®è·µ <a class="header-anchor" href="#çº¿ç¨‹å®‰å…¨çš„æœ€ä½³å®è·µ" aria-label="Permalink to &quot;çº¿ç¨‹å®‰å…¨çš„æœ€ä½³å®è·µ&quot;">â€‹</a></h3><ol><li>å°½é‡å‡å°‘åŒæ­¥ä»£ç çš„èŒƒå›´</li><li>ä¼˜å…ˆä½¿ç”¨ä¸å¯å˜å¯¹è±¡</li><li>è€ƒè™‘ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„é›†åˆç±»(å¦‚ConcurrentHashMap)</li><li>å¯¹äºè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼Œè€ƒè™‘ä½¿ç”¨è¯»å†™é”(ReentrantReadWriteLock)</li><li>è€ƒè™‘ä½¿ç”¨æ›´é«˜å±‚æ¬¡çš„å¹¶å‘å·¥å…·(å¦‚CountDownLatch, CyclicBarrierç­‰)</li></ol><h2 id="çº¿ç¨‹æ± " tabindex="-1">çº¿ç¨‹æ±  <a class="header-anchor" href="#çº¿ç¨‹æ± " aria-label="Permalink to &quot;çº¿ç¨‹æ± &quot;">â€‹</a></h2><h3 id="çº¿ç¨‹æ± æ‰§è¡Œæµç¨‹" tabindex="-1">çº¿ç¨‹æ± æ‰§è¡Œæµç¨‹ <a class="header-anchor" href="#çº¿ç¨‹æ± æ‰§è¡Œæµç¨‹" aria-label="Permalink to &quot;çº¿ç¨‹æ± æ‰§è¡Œæµç¨‹&quot;">â€‹</a></h3><ol><li>æäº¤ä»»åŠ¡</li><li>æ ¸å¿ƒçº¿ç¨‹æ˜¯å¦å·²æ»¡ï¼Ÿâ†’ å¦ï¼šåˆ›å»ºæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œ</li><li>æ˜¯ â†’ ä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦å·²æ»¡ï¼Ÿâ†’ å¦ï¼šåŠ å…¥é˜Ÿåˆ—</li><li>æ˜¯ â†’ çº¿ç¨‹æ•°æ˜¯å¦è¾¾åˆ°æœ€å¤§å€¼ï¼Ÿâ†’ å¦ï¼šåˆ›å»ºéæ ¸å¿ƒçº¿ç¨‹æ‰§è¡Œ</li><li>æ˜¯ â†’ æ‰§è¡Œæ‹’ç»ç­–ç•¥</li></ol><h3 id="åˆ›å»ºçº¿ç¨‹æ± " tabindex="-1">åˆ›å»ºçº¿ç¨‹æ±  <a class="header-anchor" href="#åˆ›å»ºçº¿ç¨‹æ± " aria-label="Permalink to &quot;åˆ›å»ºçº¿ç¨‹æ± &quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1. å›ºå®šçº¿ç¨‹æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecutorService fixedPool </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newFixedThreadPool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2. å•çº¿ç¨‹æ± </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecutorService singleThread </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newSingleThreadExecutor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3. å¯ç¼“å­˜çº¿ç¨‹æ± </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ExecutorService cachedPool </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newCachedThreadPool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 4. å®šæ—¶ä»»åŠ¡çº¿ç¨‹æ± </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScheduledExecutorService scheduledPool </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newScheduledThreadPool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(n);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 5. æ¨èæ–¹å¼ï¼šThreadPoolExecutorè‡ªå®šä¹‰å‚æ•°</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThreadPoolExecutor customPool </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreadPoolExecutor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    corePoolSize, maximumPoolSize, keepAliveTime, unit, workQueue);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ ¸å¿ƒçº¿ç¨‹æ•°, æœ€å¤§çº¿ç¨‹æ•°, éæ ¸å¿ƒçº¿ç¨‹ç©ºé—²å­˜æ´»æ—¶é—´, æ—¶é—´å•ä½, ä»»åŠ¡é˜Ÿåˆ—</span></span></code></pre></div><h3 id="ä»»åŠ¡é˜Ÿåˆ—" tabindex="-1">ä»»åŠ¡é˜Ÿåˆ— <a class="header-anchor" href="#ä»»åŠ¡é˜Ÿåˆ—" aria-label="Permalink to &quot;ä»»åŠ¡é˜Ÿåˆ—&quot;">â€‹</a></h3><table tabindex="0"><thead><tr><th>é˜Ÿåˆ—å®ç°ç±»</th><th>ç‰¹æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>ArrayBlockingQueue</strong></td><td>æœ‰ç•Œé˜Ÿåˆ—ï¼ŒFIFOï¼Œæ•°ç»„å®ç°</td><td>éœ€è¦æ§åˆ¶é˜Ÿåˆ—å¤§å°çš„åœºæ™¯</td></tr><tr><td><strong>LinkedBlockingQueue</strong></td><td>å¯é€‰æœ‰ç•Œ/æ— ç•Œ(é»˜è®¤Integer.MAX_VALUE)ï¼Œé“¾è¡¨å®ç°ï¼Œååé‡æ›´é«˜</td><td>å¤§å¤šæ•°é€šç”¨åœºæ™¯</td></tr><tr><td><strong>SynchronousQueue</strong></td><td>ä¸å­˜å‚¨å…ƒç´ ï¼Œæ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰å¾…ä¸€ä¸ªç§»é™¤æ“ä½œ</td><td>ç›´æ¥ä¼ é€’ä»»åŠ¡çš„åœºæ™¯</td></tr><tr><td><strong>PriorityBlockingQueue</strong></td><td>æ— ç•Œé˜Ÿåˆ—ï¼Œæ”¯æŒä¼˜å…ˆçº§æ’åº</td><td>éœ€è¦ä»»åŠ¡ä¼˜å…ˆçº§å¤„ç†çš„åœºæ™¯</td></tr><tr><td><strong>DelayQueue</strong></td><td>æ— ç•Œé˜Ÿåˆ—ï¼Œå…ƒç´ éœ€å®ç°Delayedæ¥å£ï¼ŒæŒ‰å»¶è¿Ÿæ—¶é—´æ’åº</td><td>å®šæ—¶ä»»åŠ¡è°ƒåº¦</td></tr><tr><td><em>é˜Ÿåˆ—é€‰æ‹©ç­–ç•¥</em></td><td></td><td></td></tr></tbody></table><ul><li><strong>CPUå¯†é›†å‹</strong>ï¼šå»ºè®®ä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—ï¼ˆå¦‚ArrayBlockingQueueï¼‰é˜²æ­¢èµ„æºè€—å°½</li><li><strong>IOå¯†é›†å‹</strong>ï¼šå¯ä½¿ç”¨è¾ƒå¤§çš„é˜Ÿåˆ—æˆ–SynchronousQueueï¼ˆé…åˆæ›´å¤§çš„maxPoolSizeï¼‰</li><li><strong>æ··åˆå‹</strong>ï¼šå¯è€ƒè™‘ä½¿ç”¨LinkedBlockingQueue</li></ul><h3 id="çº¿ç¨‹æ± æ ¸å¿ƒæ–¹æ³•" tabindex="-1">çº¿ç¨‹æ± æ ¸å¿ƒæ–¹æ³• <a class="header-anchor" href="#çº¿ç¨‹æ± æ ¸å¿ƒæ–¹æ³•" aria-label="Permalink to &quot;çº¿ç¨‹æ± æ ¸å¿ƒæ–¹æ³•&quot;">â€‹</a></h3><ol><li>ä»»åŠ¡æäº¤æ–¹æ³•</li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰§è¡Œæ— è¿”å›å€¼ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Runnable command);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æäº¤æœ‰è¿”å›å€¼çš„ä»»åŠ¡ï¼ˆè¿”å›Futureå¯¹è±¡ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> submit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Callable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> task);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> submit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Runnable task);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> submit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Runnable task, T result);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰¹é‡æ‰§è¡Œä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Future</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invokeAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> extends Callable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tasks);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> T </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">invokeAny</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collection</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> extends Callable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tasks);</span></span></code></pre></div><ol start="2"><li>çº¿ç¨‹æ± çŠ¶æ€æ§åˆ¶</li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼˜é›…å…³é—­ï¼šä¸å†æ¥å—æ–°ä»»åŠ¡ï¼Œä½†ä¼šæ‰§è¡Œå®Œå·²æäº¤ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Runnable</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> shutdownNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç«‹å³å…³é—­ï¼šå°è¯•åœæ­¢æ‰€æœ‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isShutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ£€æŸ¥æ˜¯å¦å·²å…³é—­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> isTerminated</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ£€æŸ¥æ˜¯å¦æ‰€æœ‰ä»»åŠ¡éƒ½å·²å®Œæˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awaitTermination</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> timeout, TimeUnit unit); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰å¾…ç»ˆæ­¢ï¼ˆå¸¦è¶…æ—¶ï¼‰</span></span></code></pre></div><ol start="3"><li>ç›‘æ§æ–¹æ³•</li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getPoolSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–å½“å‰çº¿ç¨‹æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getActiveCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æ´»åŠ¨çº¿ç¨‹æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">long</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getCompletedTaskCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–å·²å®Œæˆä»»åŠ¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getQueue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getCorePoolSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æ ¸å¿ƒçº¿ç¨‹æ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> getMaximumPoolSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æœ€å¤§çº¿ç¨‹æ•°</span></span></code></pre></div><h3 id="ä½¿ç”¨ç¤ºä¾‹" tabindex="-1">ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹" aria-label="Permalink to &quot;ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h3><ol><li>è‡ªå®šä¹‰çº¿ç¨‹æ± </li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ThreadPoolExecutor executor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreadPoolExecutor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ¸å¿ƒçº¿ç¨‹æ•°</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                              </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æœ€å¤§çº¿ç¨‹æ•°</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    60</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,                             </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç©ºé—²çº¿ç¨‹å­˜æ´»æ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    TimeUnit.SECONDS,               </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ—¶é—´å•ä½</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArrayBlockingQueue&lt;&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä»»åŠ¡é˜Ÿåˆ—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defaultThreadFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// çº¿ç¨‹å·¥å‚</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ThreadPoolExecutor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CallerRunsPolicy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‹’ç»ç­–ç•¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æäº¤ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Task running&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Future&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; future </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">submit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…³é—­çº¿ç¨‹æ± </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><ol start="2"><li>ç›‘æ§ç¤ºä¾‹</li></ol><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®šæ—¶æ‰“å°çº¿ç¨‹æ± çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ScheduledExecutorService monitor </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newScheduledThreadPool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">monitor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleAtFixedRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Active: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getActiveCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Queue size: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getQueue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">size</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Completed: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> executor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getCompletedTaskCount</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TimeUnit.SECONDS);</span></span></code></pre></div><h2 id="å®šæ—¶ä»»åŠ¡" tabindex="-1">å®šæ—¶ä»»åŠ¡ <a class="header-anchor" href="#å®šæ—¶ä»»åŠ¡" aria-label="Permalink to &quot;å®šæ—¶ä»»åŠ¡&quot;">â€‹</a></h2><h3 id="_1-timerå’Œtimertask" tabindex="-1">1. Timerå’ŒTimerTask <a class="header-anchor" href="#_1-timerå’Œtimertask" aria-label="Permalink to &quot;1. Timerå’ŒTimerTask&quot;">â€‹</a></h3><h4 id="åŸºæœ¬æ¦‚å¿µ" tabindex="-1">åŸºæœ¬æ¦‚å¿µ <a class="header-anchor" href="#åŸºæœ¬æ¦‚å¿µ" aria-label="Permalink to &quot;åŸºæœ¬æ¦‚å¿µ&quot;">â€‹</a></h4><ul><li><code>Timer</code>ï¼šå®šæ—¶å™¨ç±»ï¼Œè´Ÿè´£è°ƒåº¦ä»»åŠ¡</li><li><code>TimerTask</code>ï¼šæŠ½è±¡ç±»ï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä»»åŠ¡</li></ul><h4 id="ä½¿ç”¨ç¤ºä¾‹-1" tabindex="-1">ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹-1" aria-label="Permalink to &quot;ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.Timer;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.TimerTask;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.Date;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TimerExample</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Timer timer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ›å»ºä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TimerTask task </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TimerTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ä»»åŠ¡æ‰§è¡Œæ—¶é—´: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å»¶è¿Ÿ1ç§’åæ‰§è¡Œï¼Œæ¯2ç§’æ‰§è¡Œä¸€æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleAtFixedRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// æ¯å¤©æ‰§è¡Œä¸€æ¬¡ Cron</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleAtFixedRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 60</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 5ç§’ååœæ­¢å®šæ—¶å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        TimerTask stopTask </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TimerTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å®šæ—¶å™¨å·²åœæ­¢&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(stopTask, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="å¸¸ç”¨æ–¹æ³•" tabindex="-1">å¸¸ç”¨æ–¹æ³• <a class="header-anchor" href="#å¸¸ç”¨æ–¹æ³•" aria-label="Permalink to &quot;å¸¸ç”¨æ–¹æ³•&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸€æ¬¡æ€§æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, delay);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŒ‡å®šæ—¶é—´æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, date);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å›ºå®šå»¶è¿Ÿé‡å¤æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, delay, period);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å›ºå®šé¢‘ç‡é‡å¤æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">timer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleAtFixedRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, delay, period);</span></span></code></pre></div><h4 id="ä¼˜ç¼ºç‚¹" tabindex="-1">ä¼˜ç¼ºç‚¹ <a class="header-anchor" href="#ä¼˜ç¼ºç‚¹" aria-label="Permalink to &quot;ä¼˜ç¼ºç‚¹&quot;">â€‹</a></h4><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>ç®€å•æ˜“ç”¨ï¼ŒJDKåŸç”Ÿæ”¯æŒ</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>å•çº¿ç¨‹æ‰§è¡Œï¼Œä¸€ä¸ªä»»åŠ¡é˜»å¡ä¼šå½±å“å…¶ä»–ä»»åŠ¡</li><li>å¼‚å¸¸å¤„ç†ä¸å½“ä¼šå¯¼è‡´æ•´ä¸ªTimeråœæ­¢</li><li>ä¸æ”¯æŒçº¿ç¨‹æ± </li></ul><h3 id="_2-scheduledexecutorservice" tabindex="-1">2. ScheduledExecutorService <a class="header-anchor" href="#_2-scheduledexecutorservice" aria-label="Permalink to &quot;2. ScheduledExecutorService&quot;">â€‹</a></h3><h4 id="åŸºæœ¬æ¦‚å¿µ-1" tabindex="-1">åŸºæœ¬æ¦‚å¿µ <a class="header-anchor" href="#åŸºæœ¬æ¦‚å¿µ-1" aria-label="Permalink to &quot;åŸºæœ¬æ¦‚å¿µ&quot;">â€‹</a></h4><p>åŸºäºçº¿ç¨‹æ± çš„å®šæ—¶ä»»åŠ¡æ‰§è¡Œå™¨ï¼Œæ˜¯Timerçš„æ”¹è¿›ç‰ˆæœ¬ã€‚</p><h4 id="ä½¿ç”¨ç¤ºä¾‹-2" tabindex="-1">ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹-2" aria-label="Permalink to &quot;ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.concurrent.Executors;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.concurrent.ScheduledExecutorService;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.util.concurrent.TimeUnit;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScheduledExecutorExample</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ›å»ºåŒ…å«2ä¸ªçº¿ç¨‹çš„è°ƒåº¦çº¿ç¨‹æ± </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ScheduledExecutorService scheduler </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Executors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newScheduledThreadPool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä»»åŠ¡1ï¼šå»¶è¿Ÿ2ç§’åæ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å»¶è¿Ÿä»»åŠ¡æ‰§è¡Œ: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TimeUnit.SECONDS);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä»»åŠ¡2ï¼šå»¶è¿Ÿ1ç§’åå¼€å§‹ï¼Œæ¯3ç§’æ‰§è¡Œä¸€æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// scheduleAtFixedRate: å›ºå®šé¢‘ç‡æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// periodæ˜¯å›ºå®šçš„ï¼Œä¸å—ä»»åŠ¡æ‰§è¡Œæ—¶é—´å½±å“</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleAtFixedRate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å›ºå®šé¢‘ç‡ä»»åŠ¡: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¨¡æ‹Ÿä»»åŠ¡æ‰§è¡Œæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (InterruptedException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interrupt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TimeUnit.SECONDS);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä»»åŠ¡3ï¼šå»¶è¿Ÿ1ç§’åå¼€å§‹ï¼Œæ¯æ¬¡æ‰§è¡Œå®Œç­‰å¾…2ç§’å†æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// scheduleWithFixedDelay: å›ºå®šå»¶è¿Ÿæ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">		// æ¯æ¬¡ä»»åŠ¡æ‰§è¡Œå®Œåå†ç­‰å¾…delayæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleWithFixedDelay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å›ºå®šå»¶è¿Ÿä»»åŠ¡: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TimeUnit.SECONDS);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 10ç§’åå…³é—­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è°ƒåº¦å™¨å·²å…³é—­&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, TimeUnit.SECONDS);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_3-spring-task-scheduling" tabindex="-1">3. Spring Task Scheduling <a class="header-anchor" href="#_3-spring-task-scheduling" aria-label="Permalink to &quot;3. Spring Task Scheduling&quot;">â€‹</a></h3><h4 id="åŸºæœ¬é…ç½®" tabindex="-1">åŸºæœ¬é…ç½® <a class="header-anchor" href="#åŸºæœ¬é…ç½®" aria-label="Permalink to &quot;åŸºæœ¬é…ç½®&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ç”¨å®šæ—¶ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Configuration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">EnableScheduling</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SchedulingConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Bean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TaskScheduler </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">taskScheduler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ThreadPoolTaskScheduler scheduler </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreadPoolTaskScheduler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setPoolSize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setThreadNamePrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scheduled-task-&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setWaitForTasksToCompleteOnShutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAwaitTerminationSeconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> scheduler;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="ä½¿ç”¨ç¤ºä¾‹-3" tabindex="-1">ä½¿ç”¨ç¤ºä¾‹ <a class="header-anchor" href="#ä½¿ç”¨ç¤ºä¾‹-3" aria-label="Permalink to &quot;ä½¿ç”¨ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.scheduling.annotation.Scheduled;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.stereotype.Component;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Component</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ScheduledTasks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å›ºå®šå»¶è¿Ÿæ‰§è¡Œï¼ˆä¸Šä¸€æ¬¡æ‰§è¡Œå®Œåå»¶è¿Ÿï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Scheduled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fixedDelay</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fixedDelayTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Fixed delay task: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å›ºå®šé¢‘ç‡æ‰§è¡Œï¼ˆæŒ‰å›ºå®šæ—¶é—´é—´éš”ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Scheduled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fixedRate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fixedRateTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Fixed rate task: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å»¶è¿Ÿæ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Scheduled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">initialDelay</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">fixedRate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> delayedFixedRateTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Delayed fixed rate task: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ä½¿ç”¨Cronè¡¨è¾¾å¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Scheduled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cron</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;0 0 12 * * ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ¯å¤©ä¸­åˆ12ç‚¹æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> cronTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Cron task executed at: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æ¯åˆ†é’Ÿçš„ç¬¬30ç§’æ‰§è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Scheduled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cron</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;30 * * * * ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> everyMinuteTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Every minute task: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="åŠ¨æ€å®šæ—¶ä»»åŠ¡" tabindex="-1">åŠ¨æ€å®šæ—¶ä»»åŠ¡ <a class="header-anchor" href="#åŠ¨æ€å®šæ—¶ä»»åŠ¡" aria-label="Permalink to &quot;åŠ¨æ€å®šæ—¶ä»»åŠ¡&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.beans.factory.annotation.Autowired;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.context.annotation.Configuration;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.scheduling.TaskScheduler;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.scheduling.support.CronTrigger;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.stereotype.Service;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DynamicTaskService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TaskScheduler taskScheduler;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ScheduledFuture&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; scheduledTask;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> startDynamicTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">cronExpression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Runnable </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">task</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åœæ­¢ä¹‹å‰çš„ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        stopTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ›å»ºæ–°çš„å®šæ—¶ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduledTask </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> taskScheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">schedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(task, </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CronTrigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cronExpression));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> stopTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (scheduledTask </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            scheduledTask.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cancel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_4-quartzæ¡†æ¶" tabindex="-1">4. Quartzæ¡†æ¶ <a class="header-anchor" href="#_4-quartzæ¡†æ¶" aria-label="Permalink to &quot;4. Quartzæ¡†æ¶&quot;">â€‹</a></h3><h4 id="mavenä¾èµ–" tabindex="-1">Mavenä¾èµ– <a class="header-anchor" href="#mavenä¾èµ–" aria-label="Permalink to &quot;Mavenä¾èµ–&quot;">â€‹</a></h4><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;org.quartz-scheduler&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">groupId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;quartz&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">artifactId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;2.3.2&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dependency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><h4 id="åŸºæœ¬ä½¿ç”¨" tabindex="-1">åŸºæœ¬ä½¿ç”¨ <a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨" aria-label="Permalink to &quot;åŸºæœ¬ä½¿ç”¨&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.quartz.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.quartz.impl.StdSchedulerFactory;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> QuartzExample</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SchedulerException {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ›å»ºJobDetail</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        JobDetail job </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JobBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newJob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyJob.class)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myJob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ›å»ºTrigger</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Trigger trigger </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TriggerBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newTrigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myTrigger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">startNow</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withSchedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SimpleScheduleBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">simpleSchedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withIntervalInSeconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">repeatForever</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // åˆ›å»ºè°ƒåº¦å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Scheduler scheduler </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StdSchedulerFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getScheduler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è°ƒåº¦ä»»åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleJob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(job, trigger);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è¿è¡Œ10ç§’åå…³é—­</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sleep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (InterruptedException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Thread.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentThread</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">interrupt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shutdown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyJob</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Job</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Override</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(JobExecutionContext </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Quartzä»»åŠ¡æ‰§è¡Œ: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> System.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">currentTimeMillis</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="cronè¡¨è¾¾å¼ç¤ºä¾‹" tabindex="-1">Cronè¡¨è¾¾å¼ç¤ºä¾‹ <a class="header-anchor" href="#cronè¡¨è¾¾å¼ç¤ºä¾‹" aria-label="Permalink to &quot;Cronè¡¨è¾¾å¼ç¤ºä¾‹&quot;">â€‹</a></h4><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Cronè°ƒåº¦ç¤ºä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CronQuartzExample</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SchedulerException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        JobDetail job </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> JobBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newJob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(MyJob.class)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cronJob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Cronè¡¨è¾¾å¼ï¼šæ¯5ç§’æ‰§è¡Œä¸€æ¬¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        CronTrigger trigger </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> TriggerBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newTrigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withIdentity</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cronTrigger&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">withSchedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(CronScheduleBuilder.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cronSchedule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0/5 * * * * ?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Scheduler scheduler </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StdSchedulerFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getScheduler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scheduleJob</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(job, trigger);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        scheduler.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="cron" tabindex="-1">Cron <a class="header-anchor" href="#cron" aria-label="Permalink to &quot;Cron&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>* * * * * *</span></span>
<span class="line"><span>â”‚ â”‚ â”‚ â”‚ â”‚ â”‚</span></span>
<span class="line"><span>â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€ æ˜ŸæœŸå‡  (0-7, 0å’Œ7éƒ½è¡¨ç¤ºå‘¨æ—¥)</span></span>
<span class="line"><span>â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€ æœˆä»½ (1-12)</span></span>
<span class="line"><span>â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€ æ—¥æœŸ (1-31)</span></span>
<span class="line"><span>â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€ å°æ—¶ (0-23)</span></span>
<span class="line"><span>â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ åˆ†é’Ÿ (0-59)</span></span>
<span class="line"><span>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç§’ (0-59)</span></span></code></pre></div><h1 id="ç½‘ç»œç¼–ç¨‹" tabindex="-1">ç½‘ç»œç¼–ç¨‹ <a class="header-anchor" href="#ç½‘ç»œç¼–ç¨‹" aria-label="Permalink to &quot;ç½‘ç»œç¼–ç¨‹&quot;">â€‹</a></h1><h2 id="ä¸€ã€ç½‘ç»œç¼–ç¨‹åŸºç¡€æ¦‚å¿µ" tabindex="-1">ä¸€ã€ç½‘ç»œç¼–ç¨‹åŸºç¡€æ¦‚å¿µ <a class="header-anchor" href="#ä¸€ã€ç½‘ç»œç¼–ç¨‹åŸºç¡€æ¦‚å¿µ" aria-label="Permalink to &quot;ä¸€ã€ç½‘ç»œç¼–ç¨‹åŸºç¡€æ¦‚å¿µ&quot;">â€‹</a></h2><h3 id="_1-ç½‘ç»œæ¨¡å‹" tabindex="-1">1. ç½‘ç»œæ¨¡å‹ <a class="header-anchor" href="#_1-ç½‘ç»œæ¨¡å‹" aria-label="Permalink to &quot;1. ç½‘ç»œæ¨¡å‹&quot;">â€‹</a></h3><ul><li><strong>OSIä¸ƒå±‚æ¨¡å‹</strong>ï¼šç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚</li><li><strong>TCP/IPå››å±‚æ¨¡å‹</strong>ï¼šç½‘ç»œæ¥å£å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚</li></ul><h3 id="_2-å…³é”®åè®®" tabindex="-1">2. å…³é”®åè®® <a class="header-anchor" href="#_2-å…³é”®åè®®" aria-label="Permalink to &quot;2. å…³é”®åè®®&quot;">â€‹</a></h3><ul><li><strong>TCP</strong>ï¼šé¢å‘è¿æ¥ã€å¯é ä¼ è¾“ã€åŸºäºå­—èŠ‚æµ</li><li><strong>UDP</strong>ï¼šæ— è¿æ¥ã€ä¸å¯é ä¼ è¾“ã€åŸºäºæ•°æ®æŠ¥</li><li><strong>HTTP</strong>ï¼šè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ŒåŸºäºTCP</li><li><strong>IP</strong>ï¼šç½‘ç»œå±‚åè®®ï¼Œè´Ÿè´£ä¸»æœºé—´é€šä¿¡</li></ul><p>UDPï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰å’ŒTCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯äº’è”ç½‘ä¼ è¾“å±‚çš„ä¸¤å¤§æ ¸å¿ƒåè®®ã€‚TCPé¢å‘è¿æ¥ï¼Œæä¾›å¯é ã€æœ‰åºçš„æ•°æ®ä¼ è¾“ï¼Œé€‚ç”¨äºç½‘é¡µæµè§ˆã€æ–‡ä»¶ä¸‹è½½ç­‰éœ€è¦æ•°æ®å®Œæ•´æ€§çš„åœºæ™¯ï¼›è€ŒUDPæ— è¿æ¥ï¼Œå¼ºè°ƒé«˜æ•ˆå’Œä½å»¶è¿Ÿï¼Œé€‚åˆè§†é¢‘æµã€åœ¨çº¿æ¸¸æˆç­‰å®æ—¶åº”ç”¨ã€‚ä¸¤è€…äº’è¡¥å…±å­˜ï¼ŒTCPç¡®ä¿ç¨³å®šæ€§ï¼ŒUDPè¿½æ±‚é€Ÿåº¦ï¼Œå…±åŒæ”¯æ’‘å¤šæ ·åŒ–çš„ç½‘ç»œéœ€æ±‚ã€‚</p><p><img src="`+e+`" alt=""></p><h2 id="äºŒã€javaç½‘ç»œç¼–ç¨‹æ ¸å¿ƒç±»" tabindex="-1">äºŒã€Javaç½‘ç»œç¼–ç¨‹æ ¸å¿ƒç±» <a class="header-anchor" href="#äºŒã€javaç½‘ç»œç¼–ç¨‹æ ¸å¿ƒç±»" aria-label="Permalink to &quot;äºŒã€Javaç½‘ç»œç¼–ç¨‹æ ¸å¿ƒç±»&quot;">â€‹</a></h2><p><strong>ServerSocketç±»</strong>ï¼šç”¨äºæœåŠ¡å™¨ç«¯ï¼Œç›‘å¬å®¢æˆ·ç«¯è¿æ¥è¯·æ±‚</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºæœåŠ¡å™¨Socketï¼Œç»‘å®šç«¯å£</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ServerSocket serverSocket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServerSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼Œé˜»å¡äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Socket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serverSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–è¾“å…¥æµï¼ˆè¯»å–å®¢æˆ·ç«¯æ•°æ®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InputStream inputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–è¾“å‡ºæµï¼ˆå‘å®¢æˆ·ç«¯å‘é€æ•°æ®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OutputStream outputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p><strong>Socketç±»</strong>ï¼šç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œå»ºç«‹ç½‘ç»œè¿æ¥</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºå®¢æˆ·ç«¯Socketï¼Œè¿æ¥æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Socket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–è¾“å‡ºæµï¼ˆå‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">OutputStream outputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–è¾“å…¥æµï¼ˆè¯»å–æœåŠ¡å™¨æ•°æ®ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InputStream inputStream </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p><strong>InetAddressç±»ï¼š</strong> è¡¨ç¤ºIPåœ°å€ï¼Œç”¨Â·äºå°è£…IPå’ŒåŸŸå</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æœ¬åœ°ä¸»æœºIP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InetAddress localHost </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> InetAddress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLocalHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é€šè¿‡åŸŸåè·å–IP</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">InetAddress googleHost </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> InetAddress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;www.google.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–æ‰€æœ‰IPåœ°å€</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">InetAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] allHosts </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> InetAddress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getAllByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;www.baidu.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><strong>URLç±»ï¼š</strong> ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼Œç”¨äºè¡¨ç¤ºäº’è”ç½‘ä¸Šçš„èµ„æº</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">URL url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.example.com:8080/path/to/resource?query=param#fragment&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è·å–å„éƒ¨åˆ†ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String protocol </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getProtocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// https</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String host </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getHost</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// www.example.com</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> port </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPort</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 8080</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getPath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// /path/to/resource</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String query </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// query=param</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">String ref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// fragment</span></span></code></pre></div><h2 id="ä¸‰ã€tcpç¼–ç¨‹" tabindex="-1">ä¸‰ã€TCPç¼–ç¨‹ <a class="header-anchor" href="#ä¸‰ã€tcpç¼–ç¨‹" aria-label="Permalink to &quot;ä¸‰ã€TCPç¼–ç¨‹&quot;">â€‹</a></h2><p><strong>æœåŠ¡å™¨ç«¯ä»£ç ï¼š</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TCPServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ServerSocket serverSocket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ServerSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœåŠ¡å™¨å¯åŠ¨ï¼Œç­‰å¾…è¿æ¥...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Socket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serverSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å®¢æˆ·ç«¯è¿æ¥æˆåŠŸï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInetAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è·å–è¾“å…¥æµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        BufferedReader br </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InputStreamReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è·å–è¾“å‡ºæµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        PrintWriter pw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrintWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OutputStreamWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String line;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> br.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> line);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            pw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœåŠ¡å™¨å›å¤ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> line.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toUpperCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TCPè¦æ±‚å¿…é¡»å›åº”å®¢æˆ·ç«¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å…³é—­èµ„æº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        br.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        pw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        serverSocket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å®¢æˆ·ç«¯ä»£ç ï¼š</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TCPClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Socket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Socket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è·å–è¾“å…¥è¾“å‡ºæµ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        BufferedReader br </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InputStreamReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        PrintWriter pw </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PrintWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OutputStreamWriter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getOutputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // ä»æ§åˆ¶å°è¯»å–è¾“å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        BufferedReader console </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InputStreamReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(System.in));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String line;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((line </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;exit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">equalsIgnoreCase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line)) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                break</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            pw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(line);  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‘é€ç»™æœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // æ¥æ”¶æœåŠ¡å™¨å›å¤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            String response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> br.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœåŠ¡å™¨å›å¤ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // å…³é—­èµ„æº</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        br.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        pw.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="å››ã€udpç¼–ç¨‹" tabindex="-1">å››ã€UDPç¼–ç¨‹ <a class="header-anchor" href="#å››ã€udpç¼–ç¨‹" aria-label="Permalink to &quot;å››ã€UDPç¼–ç¨‹&quot;">â€‹</a></h2><p><strong>å‘é€ç«¯ä»£ç ï¼š</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UDPSender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DatagramSocket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Hello, UDP!&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        InetAddress address </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> InetAddress.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getByName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DatagramPacket packet </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramPacket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            data, data.length, address, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9999</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packet);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ¶ˆæ¯å·²å‘é€&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>æ¥æ”¶ç«¯ä»£ç ï¼š</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> UDPReceiver</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DatagramSocket socket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramSocket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9999</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        DatagramPacket packet </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DatagramPacket</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer, buffer.length);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">receive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packet);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        String message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(packet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, packet.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getLength</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        socket.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="äº”ã€nioéé˜»å¡io" tabindex="-1">äº”ã€NIOéé˜»å¡IO <a class="header-anchor" href="#äº”ã€nioéé˜»å¡io" aria-label="Permalink to &quot;äº”ã€NIOéé˜»å¡IO&quot;">â€‹</a></h2><p>Java NIO (New IO) æä¾›äº†éé˜»å¡IOæ“ä½œ</p><h3 id="_1-æ ¸å¿ƒç»„ä»¶" tabindex="-1">1. æ ¸å¿ƒç»„ä»¶ <a class="header-anchor" href="#_1-æ ¸å¿ƒç»„ä»¶" aria-label="Permalink to &quot;1. æ ¸å¿ƒç»„ä»¶&quot;">â€‹</a></h3><ul><li><strong>Channel</strong>ï¼šç±»ä¼¼äºæµï¼Œä½†å¯ä»¥åŒæ—¶è¯»å†™</li><li><strong>Buffer</strong>ï¼šæ•°æ®å®¹å™¨</li><li><strong>Selector</strong>ï¼šå¤šè·¯å¤ç”¨å™¨ï¼Œç”¨äºæ£€æŸ¥å¤šä¸ªChannelçš„çŠ¶æ€</li></ul><h3 id="_2-nioç¤ºä¾‹" tabindex="-1">2. NIOç¤ºä¾‹ <a class="header-anchor" href="#_2-nioç¤ºä¾‹" aria-label="Permalink to &quot;2. NIOç¤ºä¾‹&quot;">â€‹</a></h3><p><strong>æœåŠ¡å™¨ç«¯ä»£ç ï¼š</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> NIOServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IOException {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 1. åˆ›å»ºServerSocketChannel</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ServerSocketChannel serverChannel </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ServerSocketChannel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        serverChannel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configureBlocking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        serverChannel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InetSocketAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8888</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // 2. åˆ›å»ºSelector</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        Selector selector </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Selector.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">open</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        serverChannel.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(selector, SelectionKey.OP_ACCEPT);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœåŠ¡å™¨å¯åŠ¨...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 3. ç›‘å¬äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            selector.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">            // 4. è·å–äº‹ä»¶é›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Set&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SelectionKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; keys </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> selector.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">selectedKeys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            Iterator&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SelectionKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; it </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> keys.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">iterator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (it.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hasNext</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                SelectionKey key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> it.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                it.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isAcceptable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // å¤„ç†è¿æ¥äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    ServerSocketChannel ssc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (ServerSocketChannel) key.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">channel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    SocketChannel sc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ssc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">accept</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    sc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configureBlocking</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    sc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">register</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(selector, SelectionKey.OP_READ);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å®¢æˆ·ç«¯è¿æ¥ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getRemoteAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (key.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isReadable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    // å¤„ç†è¯»äº‹ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    SocketChannel sc </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (SocketChannel) key.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">channel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    ByteBuffer buffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ByteBuffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">allocate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1024</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">flip</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        String msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(buffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">array</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, len);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> msg);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                        // å›å¤å®¢æˆ·ç«¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        ByteBuffer outBuffer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ByteBuffer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wrap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœåŠ¡å™¨å›å¤ï¼š&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> msg).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        sc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(outBuffer);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (len </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å®¢æˆ·ç«¯æ–­å¼€è¿æ¥&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                        sc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">close</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="å…­ã€httpå®¢æˆ·ç«¯ç¼–ç¨‹" tabindex="-1">å…­ã€HTTPå®¢æˆ·ç«¯ç¼–ç¨‹ <a class="header-anchor" href="#å…­ã€httpå®¢æˆ·ç«¯ç¼–ç¨‹" aria-label="Permalink to &quot;å…­ã€HTTPå®¢æˆ·ç«¯ç¼–ç¨‹&quot;">â€‹</a></h2><h3 id="_1-ä½¿ç”¨httpurlconnection" tabindex="-1">1. ä½¿ç”¨HttpURLConnection <a class="header-anchor" href="#_1-ä½¿ç”¨httpurlconnection" aria-label="Permalink to &quot;1. ä½¿ç”¨HttpURLConnection&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpUrlConnectionDemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> IOException {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        URL url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        HttpURLConnection conn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (HttpURLConnection) url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openConnection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è®¾ç½®è¯·æ±‚æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRequestMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è®¾ç½®è¯·æ±‚å¤´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setRequestProperty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;User-Agent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Mozilla/5.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è·å–å“åº”ç </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> responseCode </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getResponseCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å“åº”ç : &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> responseCode);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // è¯»å–å“åº”å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (BufferedReader in </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BufferedReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> InputStreamReader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getInputStream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()))) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            String inputLine;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            StringBuilder response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> StringBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ((inputLine </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> in.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">readLine</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">append</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(inputLine);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å“åº”å†…å®¹: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        conn.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">disconnect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="_2-ä½¿ç”¨httpclient-java-11" tabindex="-1">2. ä½¿ç”¨HttpClient (Java 11+) <a class="header-anchor" href="#_2-ä½¿ç”¨httpclient-java-11" aria-label="Permalink to &quot;2. ä½¿ç”¨HttpClient (Java 11+)&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.net.URI;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.net.http.HttpClient;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.net.http.HttpRequest;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> java.net.http.HttpResponse;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HttpClientDemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">args</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">throws</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Exception {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        HttpClient client </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newHttpClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        HttpRequest request </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HttpRequest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newBuilder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uri</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(URI.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://www.example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        HttpResponse&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> client.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                request, HttpResponse.BodyHandlers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ofString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;çŠ¶æ€ç : &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">statusCode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å“åº”ä½“: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="ä¸ƒã€websocketç¼–ç¨‹" tabindex="-1">ä¸ƒã€WebSocketç¼–ç¨‹ <a class="header-anchor" href="#ä¸ƒã€websocketç¼–ç¨‹" aria-label="Permalink to &quot;ä¸ƒã€WebSocketç¼–ç¨‹&quot;">â€‹</a></h2><h3 id="_1-æœåŠ¡å™¨ç«¯ç‚¹ç¤ºä¾‹" tabindex="-1">1. æœåŠ¡å™¨ç«¯ç‚¹ç¤ºä¾‹ <a class="header-anchor" href="#_1-æœåŠ¡å™¨ç«¯ç‚¹ç¤ºä¾‹" aria-label="Permalink to &quot;1. æœåŠ¡å™¨ç«¯ç‚¹ç¤ºä¾‹&quot;">â€‹</a></h3><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ServerEndpoint</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/websocket&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WebSocketServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OnOpen</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onOpen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Session </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;å®¢æˆ·ç«¯è¿æ¥: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OnMessage</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">message</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Session </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æ”¶åˆ°æ¶ˆæ¯: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            session.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBasicRemote</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;æœåŠ¡å™¨æ”¶åˆ°: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> message);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (IOException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            e.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OnClose</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onClose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Session </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;è¿æ¥å…³é—­: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">OnError</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onError</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Session </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">session</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Throwable </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        error.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h1 id="jvm" tabindex="-1">JVM <a class="header-anchor" href="#jvm" aria-label="Permalink to &quot;JVM&quot;">â€‹</a></h1><h2 id="çŸ¥è¯†ä½“ç³»" tabindex="-1">çŸ¥è¯†ä½“ç³» <a class="header-anchor" href="#çŸ¥è¯†ä½“ç³»" aria-label="Permalink to &quot;çŸ¥è¯†ä½“ç³»&quot;">â€‹</a></h2><p><img src="`+k+'" alt=""><img src="'+p+`" alt=""></p><h2 id="è¯¦ç»†å†…å®¹å¾…è¡¥å……" tabindex="-1">è¯¦ç»†å†…å®¹å¾…è¡¥å……... <a class="header-anchor" href="#è¯¦ç»†å†…å®¹å¾…è¡¥å……" aria-label="Permalink to &quot;è¯¦ç»†å†…å®¹å¾…è¡¥å……...&quot;">â€‹</a></h2><h1 id="javaæ–°ç‰¹æ€§" tabindex="-1">javaæ–°ç‰¹æ€§ <a class="header-anchor" href="#javaæ–°ç‰¹æ€§" aria-label="Permalink to &quot;javaæ–°ç‰¹æ€§&quot;">â€‹</a></h1><h2 id="ä¸€ã€java-8-2014-é‡Œç¨‹ç¢‘ç‰ˆæœ¬" tabindex="-1">ä¸€ã€Java 8ï¼ˆ2014ï¼Œé‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼‰ <a class="header-anchor" href="#ä¸€ã€java-8-2014-é‡Œç¨‹ç¢‘ç‰ˆæœ¬" aria-label="Permalink to &quot;ä¸€ã€Java 8ï¼ˆ2014ï¼Œé‡Œç¨‹ç¢‘ç‰ˆæœ¬ï¼‰&quot;">â€‹</a></h2><ol><li>Lambdaè¡¨è¾¾å¼<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a, b) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç®€åŒ–åŒ¿åå†…éƒ¨ç±» (ä¸ä¼šç”Ÿæˆ.classï¼Œæ•ˆç‡é«˜)</span></span></code></pre></div></li><li>Stream API<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">list.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(String</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">valueOf).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">collect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Collectors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div></li><li>æ¥å£é»˜è®¤æ–¹æ³•ä¸é™æ€æ–¹æ³•<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> util</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*...*/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li>Optional ç±»<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Optional.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ofNullable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(obj).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifPresent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(System.out</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">println);</span></span></code></pre></div></li><li>æ–°çš„æ—¥æœŸæ—¶é—´ API<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">LocalDate.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plusDays</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li></ol><h2 id="äºŒã€java-9-2017" tabindex="-1">äºŒã€Java 9ï¼ˆ2017ï¼‰ <a class="header-anchor" href="#äºŒã€java-9-2017" aria-label="Permalink to &quot;äºŒã€Java 9ï¼ˆ2017ï¼‰&quot;">â€‹</a></h2><ol><li>æ¨¡å—åŒ–ç³»ç»Ÿï¼ˆProject Jigsawï¼‰ é€šè¿‡<code>module-info.java</code>å®šä¹‰æ¨¡å—ä¾èµ–ã€‚</li><li>é›†åˆå·¥å‚æ–¹æ³•<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">List.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»ºä¸å¯å˜é›†åˆ</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Set.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Map.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;k1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;v1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;k2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;v2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div></li><li>æ¥å£ç§æœ‰æ–¹æ³•<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* å†…éƒ¨å¤ç”¨ä»£ç  */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li>å±€éƒ¨å˜é‡ç±»å‹æ¨æ–­ï¼ˆvarï¼‰ <em>é™åˆ¶ï¼šä»…é™å±€éƒ¨å˜é‡ï¼Œä¸”å¿…é¡»æœ‰åˆå§‹å€¼ã€‚</em><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ArrayList&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¼–è¯‘å™¨æ¨æ–­ç±»å‹</span></span></code></pre></div></li></ol><h2 id="ä¸‰ã€java-10-2018" tabindex="-1">ä¸‰ã€Java 10ï¼ˆ2018ï¼‰ <a class="header-anchor" href="#ä¸‰ã€java-10-2018" aria-label="Permalink to &quot;ä¸‰ã€Java 10ï¼ˆ2018ï¼‰&quot;">â€‹</a></h2><ol><li>var æ­£å¼å¼•å…¥</li></ol><h2 id="å››ã€java-11-2018-ltsç‰ˆæœ¬" tabindex="-1">å››ã€Java 11ï¼ˆ2018ï¼ŒLTSç‰ˆæœ¬ï¼‰ <a class="header-anchor" href="#å››ã€java-11-2018-ltsç‰ˆæœ¬" aria-label="Permalink to &quot;å››ã€Java 11ï¼ˆ2018ï¼ŒLTSç‰ˆæœ¬ï¼‰&quot;">â€‹</a></h2><ol><li>HTTP Client APIï¼ˆæ ‡å‡†åŒ–ï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HttpClient.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">newHttpClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(request, BodyHandlers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ofString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div></li><li>å•æ–‡ä»¶æºä»£ç è¿è¡Œ<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HelloWorld.java</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ç›´æ¥ç¼–è¯‘+æ‰§è¡Œ</span></span></code></pre></div></li><li>å­—ç¬¦ä¸² API å¢å¼º<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;  &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isBlank</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();      </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;a</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lines</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span></code></pre></div></li></ol><h2 id="äº”ã€java-14-2020" tabindex="-1">äº”ã€Java 14ï¼ˆ2020ï¼‰ <a class="header-anchor" href="#äº”ã€java-14-2020" aria-label="Permalink to &quot;äº”ã€Java 14ï¼ˆ2020ï¼‰&quot;">â€‹</a></h2><ol><li>Switch è¡¨è¾¾å¼ï¼ˆæ­£å¼ç‰ˆï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (day) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;MON&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;TUE&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><ul><li>ä½¿ç”¨ <code>-&gt;</code> è¯­æ³•ï¼Œè‡ªåŠ¨é¿å… fall-through (ä¸ç”¨å†™brekï¼Œä¸èƒ½è·³å‡ºå¤–å±‚å¾ªç¯)</li><li>å¯ä½œä¸ºè¡¨è¾¾å¼è¿”å›å€¼</li></ul></li></ol><h2 id="å…­ã€java-16-2021" tabindex="-1">å…­ã€Java 16ï¼ˆ2021ï¼‰ <a class="header-anchor" href="#å…­ã€java-16-2021" aria-label="Permalink to &quot;å…­ã€Java 16ï¼ˆ2021ï¼‰&quot;">â€‹</a></h2><ol><li>instanceof æ¨¡å¼åŒ¹é…<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (obj </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String s) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç›´æ¥ä½¿ç”¨å˜é‡ s</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li><li>è®°å½•ç±»ï¼ˆRecord Classï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">record</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Point</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> y) {}  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨/getter/equalsç­‰</span></span></code></pre></div></li></ol><h2 id="ä¸ƒã€java-17-2021-ltsç‰ˆæœ¬" tabindex="-1">ä¸ƒã€Java 17ï¼ˆ2021ï¼ŒLTSç‰ˆæœ¬ï¼‰ <a class="header-anchor" href="#ä¸ƒã€java-17-2021-ltsç‰ˆæœ¬" aria-label="Permalink to &quot;ä¸ƒã€Java 17ï¼ˆ2021ï¼ŒLTSç‰ˆæœ¬ï¼‰&quot;">â€‹</a></h2><ol><li>å¯†å°ç±»ï¼ˆSealed Classesï¼‰<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> abstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> sealed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Shape</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> permits</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Circle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Square</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*...*/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><ul><li>é™åˆ¶å­ç±»ç»§æ‰¿ï¼ˆéœ€æ˜ç¡®åˆ—å‡ºè®¸å¯çš„å­ç±»ï¼‰ã€‚</li></ul></li></ol><h2 id="ç‰¹æ€§ä¸€è§ˆ" tabindex="-1">ç‰¹æ€§ä¸€è§ˆ <a class="header-anchor" href="#ç‰¹æ€§ä¸€è§ˆ" aria-label="Permalink to &quot;ç‰¹æ€§ä¸€è§ˆ&quot;">â€‹</a></h2><ul><li><strong><code>var</code> (Java 9/10)</strong>ï¼šå±€éƒ¨å˜é‡ç±»å‹æ¨æ–­</li><li><strong><code>List.of()</code> (Java 9)</strong>ï¼šåˆ›å»ºä¸å¯å˜é›†åˆ</li><li><strong><code>instanceof</code> æ¨¡å¼åŒ¹é… (Java 16)</strong>ï¼šç®€åŒ–ç±»å‹æ£€æŸ¥å’Œè½¬æ¢</li><li><strong>Switch è¡¨è¾¾å¼ (Java 14)</strong>ï¼šç®€åŒ– switch é€»è¾‘ï¼Œæ”¯æŒè¿”å›å€¼</li><li><strong>è®°å½•ç±»ï¼ˆRecordï¼‰(Java 16)</strong>ï¼šå¿«é€Ÿåˆ›å»ºä¸å¯å˜æ•°æ®è½½ä½“</li><li><strong>å¯†å°ç±»ï¼ˆSealedï¼‰(Java 17)</strong>ï¼šç²¾ç¡®æ§åˆ¶ç±»ç»§æ‰¿å…³ç³»</li></ul><h2 id="æœ€ä½³å®è·µå»ºè®®" tabindex="-1">æœ€ä½³å®è·µå»ºè®® <a class="header-anchor" href="#æœ€ä½³å®è·µå»ºè®®" aria-label="Permalink to &quot;æœ€ä½³å®è·µå»ºè®®&quot;">â€‹</a></h2><ol><li><strong>ä¼˜å…ˆä½¿ç”¨æ–°é›†åˆå·¥å‚æ–¹æ³•</strong><br><code>List.of()</code> æ›¿ä»£ <code>Arrays.asList()</code>ï¼ˆæ›´å®‰å…¨ï¼ŒçœŸæ­£ä¸å¯å˜ï¼‰ã€‚</li><li><strong>å–„ç”¨ <code>var</code> æå‡å¯è¯»æ€§</strong><br> é€‚ç”¨äºé•¿æ³›å‹ç±»å‹ï¼ˆå¦‚ <code>var list = new ArrayList&lt;String&gt;()</code>ï¼‰ã€‚</li><li><strong>Switch è¡¨è¾¾å¼æ›¿æ¢ä¼ ç»Ÿ switch</strong><br> é¿å…é—æ¼ <code>break</code>ï¼Œä»£ç æ›´ç®€æ´ã€‚</li><li><strong>è®°å½•ç±»æ›¿ä»£ Lombok</strong><br> ç®€åŒ– POJO å®šä¹‰ï¼ˆJava åŸç”Ÿæ”¯æŒï¼‰ã€‚</li><li><strong>æ¨¡å¼åŒ¹é…å‡å°‘å¼ºåˆ¶è½¬å‹</strong><br> ä½¿ç±»å‹æ£€æŸ¥ä¸è½¬æ¢ä¸€æ°”å‘µæˆã€‚</li></ol><blockquote><p>æ³¨ï¼šLTSï¼ˆLong-Term Supportï¼‰ç‰ˆæœ¬ï¼ˆå¦‚ Java 11ã€17ï¼‰æ˜¯ä¼ä¸šå¼€å‘é¦–é€‰ï¼Œæä¾›é•¿æœŸæ”¯æŒã€‚æ–°é¡¹ç›®å»ºè®®ç›´æ¥ä» <strong>Java 17+</strong> èµ·æ­¥ã€‚</p></blockquote>`,372)]))}const C=i(d,[["render",r]]);export{u as __pageData,C as default};
